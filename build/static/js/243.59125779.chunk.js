"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[243],{63243:(e,s,l)=>{l.r(s),l.d(s,{default:()=>o});var t=l(65043),n=l(73216),i=l(85627),a=l(83003),r=l(76384),c=l(70579);const o=()=>{const[e,s]=(0,t.useState)(""),[l,o]=(0,t.useState)(""),[d,u]=(0,t.useState)(""),[m,h]=(0,t.useState)(""),[x,p]=(0,t.useState)(""),[f,g]=(0,t.useState)("email"),[b,v]=(0,t.useState)(""),[N,j]=(0,t.useState)(1),[w,y]=(0,t.useState)(""),[C,S]=(0,t.useState)(""),k=((0,a.wA)(),(0,n.Zp)()),[T,{isLoading:O}]=(0,i.ge)(),[P,{isLoading:M}]=(0,i.x8)(),[A,q]=(0,t.useState)(!1),[X,E]=(0,t.useState)(""),[D,H]=(0,t.useState)("success"),V=(e,s)=>{H(e),E(s),q(!0)};return(0,c.jsxs)("div",{className:"min-h-screen flex items-center justify-center bg-gray-400",children:[(0,c.jsx)("div",{className:"bg-white shadow-2xl rounded-2xl w-full max-w-4xl overflow-hidden",children:(0,c.jsxs)("div",{className:"md:flex w-full",children:[(0,c.jsx)("div",{className:"hidden md:flex w-1/2 bg-gradient-to-tr from-purple-600 to-blue-500 items-center justify-center p-10",children:(0,c.jsxs)("div",{children:[(0,c.jsx)("h2",{className:"text-white text-4xl font-bold mb-4",children:"Ch\xe0o M\u1eebng!"}),(0,c.jsx)("p",{className:"text-white mb-8",children:"H\xe3y nh\u1eadp th\xf4ng tin c\xe1 nh\xe2n c\u1ee7a b\u1ea1n \u0111\u1ec3 t\u1ea1o t\xe0i kho\u1ea3n v\xe0 b\u1eaft \u0111\u1ea7u h\xe0nh tr\xecnh v\u1edbi ch\xfang t\xf4i."}),(0,c.jsx)("button",{className:"bg-white text-blue-600 font-semibold py-2 px-6 rounded-full hover:bg-gray-100",onClick:()=>k("/login"),children:"\u0110\u0103ng Nh\u1eadp"})]})}),(0,c.jsxs)("div",{className:"w-full md:w-1/2 py-10 px-5 md:px-10",children:[(0,c.jsxs)("div",{className:"text-center mb-10",children:[(0,c.jsx)("h2",{className:"text-3xl font-bold text-gray-800",children:1===N?"\u0110\u0103ng K\xfd":"X\xe1c Minh OTP"}),(0,c.jsx)("p",{className:"text-gray-600",children:1===N?"Vui l\xf2ng \u0111i\u1ec1n th\xf4ng tin \u0111\u1ec3 t\u1ea1o t\xe0i kho\u1ea3n.":"Nh\u1eadp m\xe3 OTP \u0111\xe3 \u0111\u01b0\u1ee3c g\u1eedi cho b\u1ea1n."})]}),1===N?(0,c.jsxs)("form",{onSubmit:async s=>{s.preventDefault(),S("");if(!/^[0-9]{10}$/.test(x))return void S("S\u1ed1 \u0111i\u1ec7n tho\u1ea1i ph\u1ea3i c\xf3 10 ch\u1eef s\u1ed1.");if(!/^[a-zA-Z0-9._%+-]+@gmail\.com$/.test(m))return void S("Email ph\u1ea3i thu\u1ed9c mi\u1ec1n @gmail.com.");let t=x.startsWith("0")?`+84${x.slice(1)}`:x;try{const s=await T({userName:e,password:l,fullName:d,email:m,phoneNumber:t,verificationMethod:f}).unwrap();if(null===s||void 0===s||!s.success)throw new Error((null===s||void 0===s?void 0:s.message)||"\u0110\u0103ng k\xfd th\u1ea5t b\u1ea1i");y(t),j(2),V("success","M\xe3 OTP \u0111\xe3 \u0111\u01b0\u1ee3c g\u1eedi!")}catch(i){var n;const e=(null===i||void 0===i||null===(n=i.data)||void 0===n?void 0:n.message)||"\u0110\u0103ng k\xfd th\u1ea5t b\u1ea1i. Vui l\xf2ng th\u1eed l\u1ea1i.";S(e),V("error",e)}},children:[(0,c.jsx)("div",{className:"flex -mx-3",children:(0,c.jsxs)("div",{className:"w-full px-3 mb-5",children:[(0,c.jsx)("label",{className:"text-gray-700 font-semibold",children:"T\xean \u0111\u0103ng nh\u1eadp"}),(0,c.jsx)("input",{type:"text",placeholder:"Nh\u1eadp t\xean \u0111\u0103ng nh\u1eadp",value:e,onChange:e=>s(e.target.value),required:!0,className:"w-full mt-2 p-3 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})}),(0,c.jsx)("div",{className:"flex -mx-3",children:(0,c.jsxs)("div",{className:"w-full px-3 mb-5",children:[(0,c.jsx)("label",{className:"text-gray-700 font-semibold",children:"M\u1eadt kh\u1ea9u"}),(0,c.jsx)("input",{type:"password",placeholder:"Nh\u1eadp m\u1eadt kh\u1ea9u",value:l,onChange:e=>o(e.target.value),required:!0,className:"w-full mt-2 p-3 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})}),(0,c.jsx)("div",{className:"flex -mx-3",children:(0,c.jsxs)("div",{className:"w-full px-3 mb-5",children:[(0,c.jsx)("label",{className:"text-gray-700 font-semibold",children:"H\u1ecd v\xe0 t\xean"}),(0,c.jsx)("input",{type:"text",placeholder:"Nh\u1eadp h\u1ecd v\xe0 t\xean",value:d,onChange:e=>u(e.target.value),required:!0,className:"w-full mt-2 p-3 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})}),(0,c.jsx)("div",{className:"flex -mx-3",children:(0,c.jsxs)("div",{className:"w-full px-3 mb-5",children:[(0,c.jsx)("label",{className:"text-gray-700 font-semibold",children:"Email"}),(0,c.jsx)("input",{type:"email",placeholder:"Nh\u1eadp email",value:m,onChange:e=>h(e.target.value),required:!0,className:"w-full mt-2 p-3 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})}),(0,c.jsx)("div",{className:"flex -mx-3",children:(0,c.jsxs)("div",{className:"w-full px-3 mb-5",children:[(0,c.jsx)("label",{className:"text-gray-700 font-semibold",children:"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i"}),(0,c.jsx)("input",{type:"text",placeholder:"Nh\u1eadp s\u1ed1 \u0111i\u1ec7n tho\u1ea1i",value:x,onChange:e=>p(e.target.value),required:!0,className:"w-full mt-2 p-3 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})}),(0,c.jsx)("div",{className:"flex -mx-3 mb-5",children:(0,c.jsxs)("div",{className:"w-full px-3",children:[(0,c.jsx)("label",{className:"text-gray-700 font-semibold mb-2",children:"Ph\u01b0\u01a1ng th\u1ee9c x\xe1c minh"}),(0,c.jsxs)("div",{className:"flex items-center space-x-4 mt-2",children:[(0,c.jsxs)("label",{className:"flex items-center",children:[(0,c.jsx)("input",{type:"radio",value:"email",checked:"email"===f,onChange:()=>g("email"),className:"form-radio h-5 w-5 text-blue-600"}),(0,c.jsx)("span",{className:"ml-2 text-gray-700",children:"Email"})]}),(0,c.jsxs)("label",{className:"flex items-center",children:[(0,c.jsx)("input",{type:"radio",value:"phone",checked:"phone"===f,onChange:()=>g("phone"),className:"form-radio h-5 w-5 text-blue-600"}),(0,c.jsx)("span",{className:"ml-2 text-gray-700",children:"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i"})]})]})]})}),C&&(0,c.jsx)("p",{className:"text-red-500 text-sm text-center mb-5",children:C}),(0,c.jsx)("div",{className:"flex -mx-3",children:(0,c.jsx)("div",{className:"w-full px-3",children:(0,c.jsx)("button",{type:"submit",className:"w-full bg-blue-600 text-white py-3 rounded-md hover:bg-blue-700 transition duration-300",children:O?"\u0110ang \u0110\u0103ng K\xfd...":"\u0110\u0103ng K\xfd"})})})]}):(0,c.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{const e=await P({verificationMethod:f,phoneNumber:"phone"===f?w:void 0,email:"email"===f?m:void 0,verificationCode:b}).unwrap();if(null===e||void 0===e||!e.success)throw new Error("X\xe1c minh OTP th\u1ea5t b\u1ea1i");V("success","X\xe1c minh OTP th\xe0nh c\xf4ng! Vui l\xf2ng \u0111\u0103ng nh\u1eadp."),k("/login")}catch(t){var s,l;const e=(null===t||void 0===t||null===(s=t.response)||void 0===s||null===(l=s.data)||void 0===l?void 0:l.message)||"X\xe1c minh OTP th\u1ea5t b\u1ea1i. Vui l\xf2ng th\u1eed l\u1ea1i.";V("error",e)}},children:[(0,c.jsx)("div",{className:"flex -mx-3 mb-5",children:(0,c.jsxs)("div",{className:"w-full px-3",children:[(0,c.jsx)("label",{className:"text-gray-700 font-semibold",children:"M\xe3 OTP"}),(0,c.jsx)("input",{type:"text",placeholder:"Nh\u1eadp m\xe3 OTP",value:b,onChange:e=>v(e.target.value),required:!0,className:"w-full mt-2 p-3 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})}),C&&(0,c.jsx)("p",{className:"text-red-500 text-sm text-center mb-5",children:C}),(0,c.jsx)("div",{className:"flex -mx-3",children:(0,c.jsx)("div",{className:"w-full px-3",children:(0,c.jsx)("button",{type:"submit",className:"w-full bg-blue-600 text-white py-3 rounded-md hover:bg-blue-700 transition duration-300",children:M?"\u0110ang X\xe1c Minh...":"X\xe1c Minh OTP"})})})]})]})]})}),(0,c.jsx)(r.A,{open:A,onClose:()=>{q(!1)},severity:D,message:X})]})}},76384:(e,s,l)=>{l.d(s,{A:()=>o});var t=l(65043),n=l(90182),i=l(77518),a=l(5897),r=l(70579);const c=t.forwardRef((function(e,s){return(0,r.jsx)(i.A,{elevation:6,ref:s,variant:"filled",...e})})),o=e=>{let{open:s,onClose:l,severity:t,message:i,autoHideDuration:o=3e3,TransitionComponent:d=a.A}=e;return(0,r.jsx)(n.A,{open:s,autoHideDuration:o,onClose:l,TransitionComponent:d,anchorOrigin:{vertical:"top",horizontal:"right"},children:(0,r.jsx)(c,{onClose:l,severity:t,sx:{width:"100%"},children:i})})}}}]);
//# sourceMappingURL=243.59125779.chunk.js.map