"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[843],{27843:(e,t,s)=>{s.r(t),s.d(t,{default:()=>c});var r=s(65043),a=s(3836),l=s(70579);const n=e=>{var t,s,r,a,n;let{booking:c}=e;const i=(null===(t=c.trip)||void 0===t||null===(s=t.departureLocation)||void 0===s?void 0:s.name)||"N/A",d=(null===(r=c.trip)||void 0===r||null===(a=r.arrivalLocation)||void 0===a?void 0:a.name)||"N/A",o=null!==(n=c.trip)&&void 0!==n&&n.departureTime?new Date(c.trip.departureTime):null;return(0,l.jsxs)("div",{className:"bg-white shadow-lg rounded-lg p-6 mb-4 flex flex-col space-y-4",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("h3",{className:"text-lg font-bold text-gray-800",children:[i," \u2192 ",d]}),(0,l.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-semibold "+("Confirmed"===c.status?"bg-green-100 text-green-600":"Completed"===c.status?"bg-blue-100 text-blue-600":"bg-red-100 text-red-600"),children:c.status})]}),(0,l.jsxs)("div",{className:"flex items-center space-x-2 text-gray-600",children:[(0,l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-blue-500",viewBox:"0 0 20 20",fill:"currentColor",children:(0,l.jsx)("path",{d:"M6 2a1 1 0 00-1 1v2a1 1 0 001 1h8a1 1 0 001-1V3a1 1 0 00-1-1H6zM4 6V3a3 3 0 013-3h6a3 3 0 013 3v3h1a2 2 0 012 2v7a2 2 0 01-2 2H3a2 2 0 01-2-2V8a2 2 0 012-2h1z"})}),o?(0,l.jsxs)("p",{children:[o.toLocaleDateString()," - ",o.toLocaleTimeString()]}):(0,l.jsx)("p",{children:"Th\u1eddi gian kh\xf4ng c\xf3 s\u1eb5n"})]}),(0,l.jsxs)("div",{className:"flex items-center justify-between text-gray-800",children:[(0,l.jsxs)("div",{children:[(0,l.jsxs)("p",{className:"text-sm",children:["Gh\u1ebf: ",(0,l.jsx)("span",{className:"font-semibold",children:c.seatNumbers.join(", ")})]}),(0,l.jsxs)("p",{className:"text-sm",children:["Gi\xe1 v\xe9: ",(0,l.jsxs)("span",{className:"font-semibold",children:[c.totalPrice," VND"]})]})]}),(0,l.jsxs)("div",{className:"flex flex-col items-center space-y-1",children:[(0,l.jsx)("span",{className:"text-sm text-gray-500",children:"M\xe3 \u0111\u1eb7t v\xe9"}),(0,l.jsx)("span",{className:"text-lg font-semibold text-gray-800",children:c.orderCode})]})]})]})},c=()=>{const[e,t]=(0,r.useState)({current:[],completed:[],canceled:[]}),[s,c]=(0,r.useState)("current"),{data:i,isLoading:d,isError:o}=(0,a.dH)();if((0,r.useEffect)((()=>{null!==i&&void 0!==i&&i.success&&t({current:i.data.filter((e=>e.trip&&"Scheduled"===e.trip.status&&"Confirmed"===e.status)),completed:i.data.filter((e=>e.trip&&"Completed"===e.trip.status)),canceled:i.data.filter((e=>"Cancelled"===e.status))})}),[i]),d)return(0,l.jsx)("p",{children:"Loading..."});if(o)return(0,l.jsx)("p",{children:"Error loading booking history."});return(0,l.jsxs)("div",{className:"container mx-auto mt-10 bg-white shadow-md rounded-lg p-8",children:[(0,l.jsx)("div",{className:"border-b border-gray-300 mb-6",children:(0,l.jsxs)("nav",{className:"-mb-px flex space-x-8",children:[(0,l.jsx)("button",{onClick:()=>c("current"),className:"text-gray-700 py-4 px-1 text-base font-medium "+("current"===s?"border-blue-500 text-blue-600 border-b-2":""),children:"Hi\u1ec7n t\u1ea1i"}),(0,l.jsx)("button",{onClick:()=>c("completed"),className:"text-gray-700 py-4 px-1 text-base font-medium "+("completed"===s?"border-blue-500 text-blue-600 border-b-2":""),children:"\u0110\xe3 \u0111i"}),(0,l.jsx)("button",{onClick:()=>c("canceled"),className:"text-gray-700 py-4 px-1 text-base font-medium "+("canceled"===s?"border-blue-500 text-blue-600 border-b-2":""),children:"\u0110\xe3 h\u1ee7y"})]})}),(0,l.jsx)("div",{children:(t=>{const s=e[t];return 0===s.length?(0,l.jsxs)("p",{children:["current"===t?"B\u1ea1n ch\u01b0a c\xf3 chuy\u1ebfn s\u1eafp \u0111i n\xe0o. ":"completed"===t?"B\u1ea1n ch\u01b0a c\xf3 chuy\u1ebfn n\xe0o \u0111\xe3 ho\xe0n th\xe0nh.":"B\u1ea1n ch\u01b0a c\xf3 v\xe9 n\xe0o \u0111\xe3 h\u1ee7y.","current"===t&&(0,l.jsx)("a",{href:"/book",className:"text-blue-600",children:"\u0110\u1eb7t chuy\u1ebfn \u0111i ngay"})]}):s.map((e=>(0,l.jsx)(n,{booking:e},e._id)))})(s)})]})}}}]);
//# sourceMappingURL=843.e50e115f.chunk.js.map