/*! For license information please see 817.62a05c5b.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[817],{10817:(e,t,a)=>{a.r(t),a.d(t,{default:()=>p});var l=a(65043);function r(e,t){let{title:a,titleId:r,...n}=e;return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},n),a?l.createElement("title",{id:r},a):null,l.createElement("path",{fillRule:"evenodd",d:"M4.755 10.059a7.5 7.5 0 0 1 12.548-3.364l1.903 1.903h-3.183a.75.75 0 1 0 0 1.5h4.992a.75.75 0 0 0 .75-.75V4.356a.75.75 0 0 0-1.5 0v3.18l-1.9-1.9A9 9 0 0 0 3.306 9.67a.75.75 0 1 0 1.45.388Zm15.408 3.352a.75.75 0 0 0-.919.53 7.5 7.5 0 0 1-12.548 3.364l-1.902-1.903h3.183a.75.75 0 0 0 0-1.5H2.984a.75.75 0 0 0-.75.75v4.992a.75.75 0 0 0 1.5 0v-3.18l1.9 1.9a9 9 0 0 0 15.059-4.035.75.75 0 0 0-.53-.918Z",clipRule:"evenodd"}))}const n=l.forwardRef(r);var s=a(73216);const o=(0,a(77784).A)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);var i=a(34348),c=a.n(i),d=a(70579);const u=e=>{let{label:t,selectedDate:a,onDateChange:r}=e;const[n,s]=(0,l.useState)(!1),i=new Date;i.setHours(0,0,0,0);const[u,m]=(0,l.useState)(a||i),g=u.getMonth(),h=u.getFullYear(),x=(e,t)=>e===i.getFullYear()&&t===i.getMonth(),p=e=>a&&e.getDate()===a.getDate()&&e.getMonth()===a.getMonth()&&e.getFullYear()===a.getFullYear();return(0,d.jsxs)("div",{className:"relative w-full md:flex-1",children:[(0,d.jsx)("div",{className:"mb-1",children:(0,d.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:t})}),(0,d.jsx)("div",{className:"border border-blue-300 rounded-lg p-2 cursor-pointer h-[42px] hover:border-blue-500 transition duration-200 ease-in-out",onClick:()=>s(!n),children:(0,d.jsx)("input",{type:"text",className:"outline-none w-full text-gray-700",value:a?c()(a).format("DD/MM/YYYY"):"",readOnly:!0,placeholder:"Ch\u1ecdn ng\xe0y"})}),n&&(0,d.jsxs)("div",{className:"absolute left-0 z-50 mt-1 bg-white border border-gray-200 rounded-lg shadow-xl p-4",style:{minWidth:"320px"},children:[(0,d.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,d.jsx)("button",{className:"text-gray-600 p-1 rounded-full hover:bg-gray-200 transition duration-200 ease-in-out "+(x(h,g)?"invisible":""),onClick:e=>{e.stopPropagation(),x(h,g)||m(new Date(h,g-1))},children:"<"}),(0,d.jsxs)("div",{className:"font-medium text-gray-700",children:["TH\xc1NG ",g+1,"/",h]}),(0,d.jsx)("button",{className:"text-gray-600 p-1 rounded-full hover:bg-gray-200 transition duration-200 ease-in-out",onClick:e=>{e.stopPropagation(),m(new Date(h,g+1))},children:(0,d.jsx)(o,{size:20})})]}),(0,d.jsx)("div",{className:"grid grid-cols-7 mb-2",children:["CN","T2","T3","T4","T5","T6","T7"].map((e=>(0,d.jsx)("div",{className:"text-center text-sm text-gray-500 h-10 flex items-center justify-center",children:e},e)))}),(0,d.jsx)("div",{className:"grid grid-cols-7 gap-[1px] bg-gray-100",children:(()=>{const e=new Date(h,g+1,0).getDate();const t=new Date(h,g,1).getDay(),a=Array.from({length:e},((e,t)=>({day:t+1,date:new Date(h,g,t+1)})));return[...Array(0===t?0:t).fill(null),...a]})().map(((e,t)=>{const a=null===e||e.date<i;const l=e&&(e=>e.getDate()===i.getDate()&&e.getMonth()===i.getMonth()&&e.getFullYear()===i.getFullYear())(e.date)?"bg-yellow-100 border border-yellow-500":"";return(0,d.jsx)("div",{className:`h-10 w-10 flex items-center justify-center rounded-sm \n                    ${e?p(e.date)?"bg-blue-100 border border-blue-500":"bg-white":""}\n                    ${a?"text-gray-300 cursor-not-allowed":`hover:bg-blue-50 cursor-pointer transition duration-150 ease-in-out ${l}`}\n                  `,onClick:t=>{t.stopPropagation(),!a&&e&&(r(e.date),s(!1))},children:e?e.day:""},t)}))})]})]})};var m=a(39052),g=a(16181);const h=e=>{let{label:t,value:a,onChange:r,options:n,placeholder:s,iconClass:o,isOpen:i,onToggle:c}=e;const[u,m]=(0,l.useState)([]);(0,l.useEffect)((()=>{const e=JSON.parse(localStorage.getItem("recentLocations"))||[];m(e.slice(0,2))}),[]);const g=e=>{r({target:{value:e}}),c();const t=[e,...u.filter((t=>t!==e))].slice(0,2);m(t),localStorage.setItem("recentLocations",JSON.stringify(t))};return(0,d.jsxs)("div",{className:"relative w-full md:flex-1",children:[(0,d.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:t}),(0,d.jsxs)("div",{className:"relative flex items-center border-2 rounded-lg shadow-md py-2 px-4 bg-white",onClick:c,children:[(0,d.jsx)("span",{className:`mr-2 ${o}`}),(0,d.jsx)("button",{className:"flex-grow text-left bg-transparent focus:outline-none",children:a||s}),(0,d.jsx)("span",{className:"ml-2 fas fa-chevron-down text-gray-500"})]}),i&&(0,d.jsxs)("div",{className:"absolute mt-1 w-full bg-white border rounded-lg shadow-lg z-50 p-2",children:[(0,d.jsx)("div",{className:"p-2 font-semibold text-gray-700",children:"T\u1ec8NH/TH\xc0NH PH\u1ed0"}),(0,d.jsx)("div",{className:"max-h-48 overflow-y-auto",children:null===n||void 0===n?void 0:n.map((e=>(0,d.jsx)("div",{onClick:()=>g(e.name),className:"px-4 py-2 hover:bg-gray-100 cursor-pointer border-b last:border-none",children:e.name},e._id)))}),u.length>0&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("hr",{className:"my-2"}),(0,d.jsx)("div",{className:"p-2 font-semibold text-gray-700",children:"T\xccM KI\u1ebeM G\u1ea6N \u0110\xc2Y"}),(0,d.jsx)("div",{className:"flex flex-wrap gap-2 px-4 py-2",children:u.map(((e,t)=>(0,d.jsxs)("div",{className:"flex items-center bg-gray-200 px-3 py-1 rounded-full text-sm hover:bg-gray-300 transition",children:[(0,d.jsx)("span",{onClick:()=>g(e),className:"cursor-pointer",children:e}),(0,d.jsx)("button",{onClick:t=>{t.stopPropagation(),(e=>{const t=u.filter((t=>t!==e));m(t),localStorage.setItem("recentLocations",JSON.stringify(t))})(e)},className:"ml-2 text-red-500 hover:text-red-700 focus:outline-none",children:"\xd7"})]},t)))})]})]})]})},x=e=>{let{onSearch:t}=e;const a=(0,s.Zp)(),r=(0,s.zy)(),[o,i]=(0,l.useState)(!1),[x,p]=(0,l.useState)(null),v=new URLSearchParams(r.search),[f,b]=(0,l.useState)((()=>v.get("departureLocation")||localStorage.getItem("fromLocation")||"")),[j,N]=(0,l.useState)((()=>v.get("arrivalLocation")||localStorage.getItem("toLocation")||"")),[y,w]=(0,l.useState)((()=>localStorage.getItem("ticketType")||"oneWay")),[k,C]=(0,l.useState)((()=>parseInt(v.get("ticketCount"))||parseInt(localStorage.getItem("ticketQuantity"))||1)),[S,D]=(0,l.useState)((()=>{const e=v.get("departureDate")||localStorage.getItem("departureDate");return e?new Date(e):null})),[L,T]=(0,l.useState)((()=>{const e=localStorage.getItem("returnDate");return e?new Date(e):null})),{data:I,isLoading:Y,error:M}=(0,m.eg)();return o||Y?(0,d.jsx)(g.A,{}):M?(0,d.jsx)("div",{children:"L\u1ed7i khi t\u1ea3i \u0111\u1ecba \u0111i\u1ec3m"}):(0,d.jsx)("section",{children:(0,d.jsxs)("div",{className:"bg-white shadow-lg rounded-lg p-4 sm:p-6 space-y-4",children:[(0,d.jsxs)("div",{className:"flex justify-between items-center flex-wrap",children:[(0,d.jsxs)("div",{className:"flex space-x-4 mb-2",children:[(0,d.jsxs)("label",{className:"flex items-center",children:[(0,d.jsx)("input",{type:"radio",name:"ticketType",value:"oneWay",checked:"oneWay"===y,onChange:e=>w(e.target.value),className:"form-radio text-blue-600"}),(0,d.jsx)("span",{className:"ml-2",children:"M\u1ed9t chi\u1ec1u"})]}),(0,d.jsxs)("label",{className:"flex items-center",children:[(0,d.jsx)("input",{type:"radio",name:"ticketType",value:"roundTrip",checked:"roundTrip"===y,onChange:e=>w(e.target.value),className:"form-radio text-blue-600"}),(0,d.jsx)("span",{className:"ml-2",children:"Kh\u1ee9 h\u1ed3i"})]})]}),(0,d.jsx)("a",{href:"#",className:"text-orange-500 text-sm hover:underline",children:"H\u01b0\u1edbng d\u1eabn mua v\xe9"})]}),(0,d.jsxs)("div",{className:"flex flex-col sm:flex-row flex-wrap gap-4",children:[(0,d.jsx)(h,{label:"N\u01a1i xu\u1ea5t ph\xe1t",value:f,onChange:e=>b(e.target.value),placeholder:"Ch\u1ecdn n\u01a1i xu\u1ea5t ph\xe1t",iconClass:"fas fa-circle text-blue-500",options:null===I||void 0===I?void 0:I.data,isOpen:"fromLocation"===x,onToggle:()=>p("fromLocation"===x?null:"fromLocation")}),(0,d.jsx)("div",{className:"flex justify-center items-center",children:(0,d.jsx)("button",{className:"bg-gray-100 text-gray-600 p-3 rounded-full hover:bg-gray-300 focus:outline-none shadow-md transition duration-300 ease-in-out",onClick:()=>{const e=f;b(j),N(e)},"aria-label":"Ho\xe1n \u0111\u1ed5i v\u1ecb tr\xed",children:(0,d.jsx)(n,{className:"h-6 w-6"})})}),(0,d.jsx)(h,{label:"N\u01a1i \u0111\u1ebfn",value:j,onChange:e=>N(e.target.value),placeholder:"Ch\u1ecdn n\u01a1i \u0111\u1ebfn",iconClass:"fas fa-map-marker-alt text-red-500",options:null===I||void 0===I?void 0:I.data,isOpen:"toLocation"===x,onToggle:()=>p("toLocation"===x?null:"toLocation")}),(0,d.jsx)(u,{label:"Ng\xe0y \u0111i",selectedDate:S,onDateChange:e=>D(e)}),"roundTrip"===y&&(0,d.jsx)(u,{label:"Ng\xe0y v\u1ec1",selectedDate:L,onDateChange:e=>T(e)}),(0,d.jsxs)("div",{className:"relative w-full md:flex-1",children:[(0,d.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"S\u1ed1 l\u01b0\u1ee3ng v\xe9"}),(0,d.jsx)("div",{className:"border rounded-lg py-2 px-4",children:(0,d.jsxs)("select",{value:k,onChange:e=>C(parseInt(e.target.value)),className:"w-full focus:outline-none","aria-label":"S\u1ed1 v\xe9",children:[(0,d.jsx)("option",{value:1,children:"1 v\xe9"}),(0,d.jsx)("option",{value:2,children:"2 v\xe9"}),(0,d.jsx)("option",{value:3,children:"3 v\xe9"}),(0,d.jsx)("option",{value:4,children:"4 v\xe9"})]})})]})]}),(0,d.jsx)("div",{className:"flex justify-center mt-4",children:(0,d.jsx)("button",{className:"bg-orange-500 text-white py-3 px-8 rounded-full hover:bg-orange-600 transition duration-300 ease-in-out w-full sm:w-auto",onClick:()=>{if(!f||!j||!S)return void alert("Vui l\xf2ng ch\u1ecdn \u0111\u1ea7y \u0111\u1ee7 th\xf4ng tin tr\u01b0\u1edbc khi t\xecm ki\u1ebfm!");i(!0);const e=c()(S).format("YYYY-MM-DD"),l={departureLocation:f,arrivalLocation:j,departureDate:e,ticketCount:k};localStorage.setItem("searchParams",JSON.stringify(l)),t&&t(),a(`/search-page?departureLocation=${encodeURIComponent(f)}&arrivalLocation=${encodeURIComponent(j)}&departureDate=${e}&ticketCount=${k}`),setTimeout((()=>{i(!1)}),500)},children:"T\xecm chuy\u1ebfn xe"})})]})})},p=l.memo(x)},77784:(e,t,a)=>{a.d(t,{A:()=>o});var l=a(65043);const r=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return t.filter(((e,t,a)=>Boolean(e)&&a.indexOf(e)===t)).join(" ")};var n={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const s=(0,l.forwardRef)(((e,t)=>{let{color:a="currentColor",size:s=24,strokeWidth:o=2,absoluteStrokeWidth:i,className:c="",children:d,iconNode:u,...m}=e;return(0,l.createElement)("svg",{ref:t,...n,width:s,height:s,stroke:a,strokeWidth:i?24*Number(o)/Number(s):o,className:r("lucide",c),...m},[...u.map((e=>{let[t,a]=e;return(0,l.createElement)(t,a)})),...Array.isArray(d)?d:[d]])})),o=(e,t)=>{const a=(0,l.forwardRef)(((a,n)=>{let{className:o,...i}=a;return(0,l.createElement)(s,{ref:n,iconNode:t,className:r(`lucide-${c=e,c.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,o),...i});var c}));return a.displayName=`${e}`,a}}}]);
//# sourceMappingURL=817.62a05c5b.chunk.js.map