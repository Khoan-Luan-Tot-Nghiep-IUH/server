/*! For license information please see 936.b8b622eb.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[936],{2936:(e,t,a)=>{a.r(t),a.d(t,{default:()=>p});var r=a(5043);function l(e,t){let{title:a,titleId:l,...n}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":l},n),a?r.createElement("title",{id:l},a):null,r.createElement("path",{fillRule:"evenodd",d:"M4.755 10.059a7.5 7.5 0 0 1 12.548-3.364l1.903 1.903h-3.183a.75.75 0 1 0 0 1.5h4.992a.75.75 0 0 0 .75-.75V4.356a.75.75 0 0 0-1.5 0v3.18l-1.9-1.9A9 9 0 0 0 3.306 9.67a.75.75 0 1 0 1.45.388Zm15.408 3.352a.75.75 0 0 0-.919.53 7.5 7.5 0 0 1-12.548 3.364l-1.902-1.903h3.183a.75.75 0 0 0 0-1.5H2.984a.75.75 0 0 0-.75.75v4.992a.75.75 0 0 0 1.5 0v-3.18l1.9 1.9a9 9 0 0 0 15.059-4.035.75.75 0 0 0-.53-.918Z",clipRule:"evenodd"}))}const n=r.forwardRef(l);var s=a(3216);const o=(0,a(7784).A)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);var i=a(4348),c=a.n(i),d=a(579);const u=e=>{let{label:t,selectedDate:a,onDateChange:l}=e;const[n,s]=(0,r.useState)(!1),i=new Date;i.setHours(0,0,0,0);const[u,m]=(0,r.useState)(a||i),h=u.getMonth(),g=u.getFullYear(),x=(e,t)=>e===i.getFullYear()&&t===i.getMonth(),p=e=>a&&e.getDate()===a.getDate()&&e.getMonth()===a.getMonth()&&e.getFullYear()===a.getFullYear();return(0,d.jsxs)("div",{className:"relative w-full md:flex-1",children:[(0,d.jsx)("div",{className:"mb-1",children:(0,d.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:t})}),(0,d.jsx)("div",{className:"border border-blue-300 rounded-lg p-2 cursor-pointer h-[42px] hover:border-blue-500 transition duration-200 ease-in-out",onClick:()=>s(!n),children:(0,d.jsx)("input",{type:"text",className:"outline-none w-full text-gray-700",value:a?c()(a).format("DD/MM/YYYY"):"",readOnly:!0,placeholder:"Ch\u1ecdn ng\xe0y"})}),n&&(0,d.jsxs)("div",{className:"absolute left-0 z-50 mt-1 bg-white border border-gray-200 rounded-lg shadow-xl p-4",style:{minWidth:"320px"},children:[(0,d.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,d.jsx)("button",{className:"text-gray-600 p-1 rounded-full hover:bg-gray-200 transition duration-200 ease-in-out "+(x(g,h)?"invisible":""),onClick:e=>{e.stopPropagation(),x(g,h)||m(new Date(g,h-1))},children:"<"}),(0,d.jsxs)("div",{className:"font-medium text-gray-700",children:["TH\xc1NG ",h+1,"/",g]}),(0,d.jsx)("button",{className:"text-gray-600 p-1 rounded-full hover:bg-gray-200 transition duration-200 ease-in-out",onClick:e=>{e.stopPropagation(),m(new Date(g,h+1))},children:(0,d.jsx)(o,{size:20})})]}),(0,d.jsx)("div",{className:"grid grid-cols-7 mb-2",children:["CN","T2","T3","T4","T5","T6","T7"].map((e=>(0,d.jsx)("div",{className:"text-center text-sm text-gray-500 h-10 flex items-center justify-center",children:e},e)))}),(0,d.jsx)("div",{className:"grid grid-cols-7 gap-[1px] bg-gray-100",children:(()=>{const e=new Date(g,h+1,0).getDate();const t=new Date(g,h,1).getDay(),a=Array.from({length:e},((e,t)=>({day:t+1,date:new Date(g,h,t+1)})));return[...Array(0===t?0:t).fill(null),...a]})().map(((e,t)=>{const a=null===e||e.date<i;const r=e&&(e=>e.getDate()===i.getDate()&&e.getMonth()===i.getMonth()&&e.getFullYear()===i.getFullYear())(e.date)?"bg-yellow-100 border border-yellow-500":"";return(0,d.jsx)("div",{className:`h-10 w-10 flex items-center justify-center rounded-sm \n                    ${e?p(e.date)?"bg-blue-100 border border-blue-500":"bg-white":""}\n                    ${a?"text-gray-300 cursor-not-allowed":`hover:bg-blue-50 cursor-pointer transition duration-150 ease-in-out ${r}`}\n                  `,onClick:t=>{t.stopPropagation(),!a&&e&&(l(e.date),s(!1))},children:e?e.day:""},t)}))})]})]})};var m=a(9052),h=a(6181);const g=e=>{let{label:t,value:a,onChange:r,options:l,placeholder:n,iconClass:s}=e;return(0,d.jsxs)("div",{className:"relative w-full md:flex-1",children:[(0,d.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:t}),(0,d.jsxs)("div",{className:"relative flex items-center border-2 rounded-lg shadow-md py-2 px-4 bg-white",children:[(0,d.jsx)("span",{className:`mr-2 ${s}`}),(0,d.jsxs)("select",{value:a,onChange:r,className:"flex-grow focus:outline-none bg-transparent","aria-label":t,children:[(0,d.jsx)("option",{value:"",children:n}),(0,d.jsx)("optgroup",{label:"\u0110\u1ecba \u0111i\u1ec3m ph\u1ed5 bi\u1ebfn",children:null===l||void 0===l?void 0:l.map((e=>(0,d.jsx)("option",{value:e.name,children:e.name},e._id)))})]}),(0,d.jsx)("span",{className:"ml-2 fas fa-chevron-down text-gray-500"})]})]})},x=()=>{const e=(0,s.Zp)(),t=(0,s.zy)(),[a,l]=(0,r.useState)(!1),o=new URLSearchParams(t.search),[i,x]=(0,r.useState)(o.get("departureLocation")||""),[p,v]=(0,r.useState)(o.get("arrivalLocation")||""),[f,b]=(0,r.useState)(localStorage.getItem("ticketType")||"oneWay"),[j,N]=(0,r.useState)(parseInt(o.get("ticketCount"),10)||1),[y,w]=(0,r.useState)((()=>o.get("departureDate")?new Date(o.get("departureDate")):null)),[D,k]=(0,r.useState)((()=>{return(e=localStorage.getItem("returnDate"))&&!isNaN(Date.parse(e))?new Date(e):null;var e})),{data:C,isLoading:S,error:I}=(0,m.eg)();(0,r.useEffect)((()=>{o.get("departureLocation")||localStorage.setItem("fromLocation",i)}),[i,o]),(0,r.useEffect)((()=>{o.get("arrivalLocation")||localStorage.setItem("toLocation",p)}),[p,o]),(0,r.useEffect)((()=>{localStorage.setItem("ticketType",f)}),[f]),(0,r.useEffect)((()=>{!o.get("ticketCount")&&Number.isInteger(j)&&j>0&&localStorage.setItem("ticketQuantity",j.toString())}),[j,o]),(0,r.useEffect)((()=>{y&&y instanceof Date&&!isNaN(y)?localStorage.setItem("departureDate",y.toISOString()):localStorage.removeItem("departureDate")}),[y]),(0,r.useEffect)((()=>{D&&D instanceof Date&&!isNaN(D)?localStorage.setItem("returnDate",D.toISOString()):localStorage.removeItem("returnDate")}),[D]);return a||S?(0,d.jsx)(h.A,{}):I?(0,d.jsx)("div",{children:"L\u1ed7i khi t\u1ea3i \u0111\u1ecba \u0111i\u1ec3m"}):(0,d.jsx)("section",{children:(0,d.jsx)("div",{children:(0,d.jsxs)("div",{className:"bg-white shadow-lg rounded-lg p-6 space-y-4",children:[(0,d.jsxs)("div",{className:"flex justify-between",children:[(0,d.jsxs)("div",{className:"flex space-x-6",children:[(0,d.jsxs)("label",{className:"flex items-center",children:[(0,d.jsx)("input",{type:"radio",name:"ticketType",value:"oneWay",checked:"oneWay"===f,onChange:e=>b(e.target.value),className:"form-radio text-blue-600"}),(0,d.jsx)("span",{className:"ml-2",children:"M\u1ed9t chi\u1ec1u"})]}),(0,d.jsxs)("label",{className:"flex items-center",children:[(0,d.jsx)("input",{type:"radio",name:"ticketType",value:"roundTrip",checked:"roundTrip"===f,onChange:e=>b(e.target.value),className:"form-radio text-blue-600"}),(0,d.jsx)("span",{className:"ml-2",children:"Kh\u1ee9 h\u1ed3i"})]})]}),(0,d.jsx)("a",{href:"#",className:"text-orange-500 text-sm hover:underline",children:"H\u01b0\u1edbng d\u1eabn mua v\xe9"})]}),(0,d.jsxs)("div",{className:"flex flex-col md:flex-row items-start space-y-4 md:space-y-0 md:space-x-4",children:[(0,d.jsx)(g,{label:"N\u01a1i xu\u1ea5t ph\xe1t",value:i,onChange:e=>x(e.target.value),placeholder:"Ch\u1ecdn n\u01a1i xu\u1ea5t ph\xe1t",iconClass:"fas fa-circle text-blue-500",options:null===C||void 0===C?void 0:C.data}),(0,d.jsx)("div",{className:"relative flex justify-center items-center",children:(0,d.jsx)("button",{className:"bg-gray-100 text-gray-600 p-3 rounded-full hover:bg-gray-300 focus:outline-none shadow-md transition duration-300 ease-in-out",onClick:()=>{const e=i;x(p),v(e)},"aria-label":"Ho\xe1n \u0111\u1ed5i v\u1ecb tr\xed",children:(0,d.jsx)(n,{className:"h-6 w-6"})})}),(0,d.jsx)(g,{label:"N\u01a1i \u0111\u1ebfn",value:p,onChange:e=>v(e.target.value),placeholder:"Ch\u1ecdn n\u01a1i \u0111\u1ebfn",iconClass:"fas fa-map-marker-alt text-red-500",options:null===C||void 0===C?void 0:C.data}),(0,d.jsx)(u,{label:"Ng\xe0y \u0111i",selectedDate:y,onDateChange:e=>w(e)}),"roundTrip"===f&&(0,d.jsx)(u,{label:"Ng\xe0y v\u1ec1",selectedDate:D,onDateChange:e=>k(e)}),(0,d.jsxs)("div",{className:"relative w-full md:flex-1",children:[(0,d.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"S\u1ed1 l\u01b0\u1ee3ng v\xe9"}),(0,d.jsx)("div",{className:"border rounded-lg py-2 px-4",children:(0,d.jsxs)("select",{value:j,onChange:e=>N(parseInt(e.target.value)),className:"w-full focus:outline-none","aria-label":"S\u1ed1 v\xe9",children:[(0,d.jsx)("option",{value:1,children:"1 v\xe9"}),(0,d.jsx)("option",{value:2,children:"2 v\xe9"}),(0,d.jsx)("option",{value:3,children:"3 v\xe9"}),(0,d.jsx)("option",{value:4,children:"4 v\xe9"})]})})]})]}),(0,d.jsx)("div",{className:"flex justify-center mt-4",children:(0,d.jsx)("button",{className:"bg-orange-500 text-white py-3 px-8 rounded-full hover:bg-orange-600 transition duration-300 ease-in-out",onClick:()=>{if(!i||!p||!y)return void alert("Vui l\xf2ng ch\u1ecdn \u0111\u1ea7y \u0111\u1ee7 th\xf4ng tin tr\u01b0\u1edbc khi t\xecm ki\u1ebfm!");l(!0);const t=c()(y).format("YYYY-MM-DD"),a=(D&&c()(D).format("YYYY-MM-DD"),{departureLocation:i,arrivalLocation:p,departureDate:t,ticketCount:j});localStorage.setItem("searchParams",JSON.stringify(a)),e(`/search-page?departureLocation=${encodeURIComponent(i)}&arrivalLocation=${encodeURIComponent(p)}&departureDate=${t}&ticketCount=${j}`),setTimeout((()=>{l(!1)}),500)},children:"T\xecm chuy\u1ebfn xe"})})]})})})},p=r.memo(x)},7784:(e,t,a)=>{a.d(t,{A:()=>o});var r=a(5043);const l=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return t.filter(((e,t,a)=>Boolean(e)&&a.indexOf(e)===t)).join(" ")};var n={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const s=(0,r.forwardRef)(((e,t)=>{let{color:a="currentColor",size:s=24,strokeWidth:o=2,absoluteStrokeWidth:i,className:c="",children:d,iconNode:u,...m}=e;return(0,r.createElement)("svg",{ref:t,...n,width:s,height:s,stroke:a,strokeWidth:i?24*Number(o)/Number(s):o,className:l("lucide",c),...m},[...u.map((e=>{let[t,a]=e;return(0,r.createElement)(t,a)})),...Array.isArray(d)?d:[d]])})),o=(e,t)=>{const a=(0,r.forwardRef)(((a,n)=>{let{className:o,...i}=a;return(0,r.createElement)(s,{ref:n,iconNode:t,className:l(`lucide-${c=e,c.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,o),...i});var c}));return a.displayName=`${e}`,a}}}]);
//# sourceMappingURL=936.b8b622eb.chunk.js.map