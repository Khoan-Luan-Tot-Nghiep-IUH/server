"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[843],{27843:(e,t,s)=>{s.r(t),s.d(t,{default:()=>c});var a=s(65043),l=s(3836),n=s(70579);const r=e=>{var t,s,a,l,r;let{booking:c}=e;const i=(null===(t=c.trip)||void 0===t||null===(s=t.departureLocation)||void 0===s?void 0:s.name)||"N/A",d=(null===(a=c.trip)||void 0===a||null===(l=a.arrivalLocation)||void 0===l?void 0:l.name)||"N/A",o=null!==(r=c.trip)&&void 0!==r&&r.departureTime?new Date(c.trip.departureTime):null,x=c.bookingDate?new Date(c.bookingDate):null;return(0,n.jsxs)("div",{className:"bg-white shadow-lg rounded-lg p-6 mb-4 flex flex-col md:flex-row justify-between items-start md:items-center",children:[(0,n.jsxs)("div",{className:"flex-1",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsxs)("h3",{className:"text-lg font-bold text-gray-800",children:[i," \u2192 ",d]}),(0,n.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-semibold "+("Confirmed"===c.status?"bg-green-100 text-green-600":"Completed"===c.status?"bg-blue-100 text-blue-600":"bg-red-100 text-red-600"),children:c.status})]}),(0,n.jsxs)("div",{className:"flex items-center space-x-2 text-gray-600 mt-2",children:[(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-blue-500",viewBox:"0 0 20 20",fill:"currentColor",children:(0,n.jsx)("path",{d:"M6 2a1 1 0 00-1 1v2a1 1 0 001 1h8a1 1 0 001-1V3a1 1 0 00-1-1H6zM4 6V3a3 3 0 013-3h6a3 3 0 013 3v3h1a2 2 0 012 2v7a2 2 0 01-2 2H3a2 2 0 01-2-2V8a2 2 0 012-2h1z"})}),o?(0,n.jsxs)("p",{children:[o.toLocaleDateString()," - ",o.toLocaleTimeString()]}):(0,n.jsx)("p",{children:"Th\u1eddi gian kh\xf4ng c\xf3 s\u1eb5n"})]}),(0,n.jsxs)("div",{className:"text-gray-800 mt-4",children:[(0,n.jsxs)("p",{className:"text-sm",children:["Gh\u1ebf: ",(0,n.jsx)("span",{className:"font-semibold",children:c.seatNumbers.join(", ")})]}),(0,n.jsxs)("p",{className:"text-sm",children:["Gi\xe1 v\xe9: ",(0,n.jsxs)("span",{className:"font-semibold",children:[c.totalPrice," VND"]})]}),(0,n.jsxs)("p",{className:"text-sm",children:["M\xe3 \u0111\u1eb7t v\xe9: ",(0,n.jsx)("span",{className:"font-semibold",children:c.orderCode})]})]})]}),(0,n.jsxs)("div",{className:"mt-4 md:mt-0 md:ml-6 text-right",children:[(0,n.jsx)("p",{className:"text-gray-500 text-sm",children:"Ng\xe0y \u0111\u1eb7t v\xe9"}),(0,n.jsx)("p",{className:"text-lg font-semibold text-gray-800",children:x?x.toLocaleDateString():"Kh\xf4ng c\xf3 s\u1eb5n"})]})]})},c=()=>{const[e,t]=(0,a.useState)({current:[],completed:[],canceled:[]}),[s,c]=(0,a.useState)("current"),{data:i,isLoading:d,isError:o}=(0,l.dH)();if((0,a.useEffect)((()=>{null!==i&&void 0!==i&&i.success&&t({current:i.data.filter((e=>e.trip&&"Scheduled"===e.trip.status&&"Confirmed"===e.status)),completed:i.data.filter((e=>e.trip&&"Completed"===e.trip.status)),canceled:i.data.filter((e=>"Cancelled"===e.status))})}),[i]),d)return(0,n.jsx)("p",{children:"Loading..."});if(o||null===i||void 0===i||!i.success)return(0,n.jsx)("div",{className:"container mx-auto mt-10 bg-white shadow-md rounded-lg p-8",children:(0,n.jsxs)("p",{children:["B\u1ea1n ch\u01b0a c\xf3 l\u1ecbch s\u1eed \u0111\u1eb7t v\xe9 n\xe0o. ",(0,n.jsx)("a",{href:"/",className:"text-blue-600",children:"\u0110\u1eb7t v\xe9 ngay!"})]})});return(0,n.jsxs)("div",{className:"container mx-auto mt-10 bg-white shadow-md rounded-lg p-8",children:[(0,n.jsx)("div",{className:"border-b border-gray-300 mb-6",children:(0,n.jsxs)("nav",{className:"-mb-px flex space-x-8",children:[(0,n.jsx)("button",{onClick:()=>c("current"),className:"text-gray-700 py-4 px-1 text-base font-medium "+("current"===s?"border-blue-500 text-blue-600 border-b-2":""),children:"Hi\u1ec7n t\u1ea1i"}),(0,n.jsx)("button",{onClick:()=>c("completed"),className:"text-gray-700 py-4 px-1 text-base font-medium "+("completed"===s?"border-blue-500 text-blue-600 border-b-2":""),children:"\u0110\xe3 \u0111i"}),(0,n.jsx)("button",{onClick:()=>c("canceled"),className:"text-gray-700 py-4 px-1 text-base font-medium "+("canceled"===s?"border-blue-500 text-blue-600 border-b-2":""),children:"\u0110\xe3 h\u1ee7y"})]})}),(0,n.jsx)("div",{children:(t=>{const s=e[t];return 0===s.length?(0,n.jsxs)("p",{children:["current"===t?"B\u1ea1n ch\u01b0a c\xf3 chuy\u1ebfn s\u1eafp \u0111i n\xe0o. ":"completed"===t?"B\u1ea1n ch\u01b0a c\xf3 chuy\u1ebfn n\xe0o \u0111\xe3 ho\xe0n th\xe0nh.":"B\u1ea1n ch\u01b0a c\xf3 v\xe9 n\xe0o \u0111\xe3 h\u1ee7y.","current"===t&&(0,n.jsx)("a",{href:"/book",className:"text-blue-600",children:"\u0110\u1eb7t chuy\u1ebfn \u0111i ngay!"})]}):s.map((e=>(0,n.jsx)(r,{booking:e},e._id)))})(s)})]})}}}]);
//# sourceMappingURL=843.5e3d805a.chunk.js.map