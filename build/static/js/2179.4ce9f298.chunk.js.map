{"version":3,"file":"static/js/2179.4ce9f298.chunk.js","mappings":"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","sources":["components/CompanyAdmin/components/ManageDriver/AddDriverDrawer.js","components/CompanyAdmin/components/ManageDriver/CalculateSalaryModal.js","components/CompanyAdmin/pages/ManageDrivers.js"],"sourcesContent":["import React from 'react';\r\nimport { Drawer, Button, Form, Input, notification, Row, Col, InputNumber } from 'antd';\r\nimport { useAddDriverMutation } from '../../../../Redux/Company/companyApiSlice';\r\n\r\n// Hàm format tiền tệ\r\nconst formatCurrency = (value) => {\r\n  if (!value) return '';\r\n  return `${value}`.replace(/\\B(?=(\\d{3})+(?!\\d))/g, ','); // Format số với dấu phẩy mỗi 3 chữ số\r\n};\r\n\r\nconst AddDriverDrawer = ({ visible, onClose, onAddDriverSuccess }) => {\r\n  const [addDriver, { isLoading }] = useAddDriverMutation();\r\n  const [form] = Form.useForm();\r\n\r\n  const handleFinish = async (values) => {\r\n    try {\r\n      const result = await addDriver(values).unwrap();\r\n      form.resetFields();\r\n      onAddDriverSuccess(result.driver);\r\n      onClose();\r\n    } catch (error) {\r\n      notification.error({\r\n        message: 'Lỗi',\r\n        description: 'Có lỗi xảy ra khi thêm tài xế!',\r\n      });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Drawer\r\n      title=\"Thêm Tài Xế Mới\"\r\n      width={720}\r\n      onClose={onClose}\r\n      visible={visible}\r\n      bodyStyle={{ paddingBottom: 80 }}\r\n    >\r\n      <Form\r\n        layout=\"vertical\"\r\n        form={form}\r\n        onFinish={handleFinish}\r\n      >\r\n        <Form.Item\r\n          name=\"fullName\"\r\n          label=\"Họ và Tên\"\r\n          rules={[{ required: true, message: 'Vui lòng nhập họ và tên tài xế' }]}\r\n        >\r\n          <Input placeholder=\"Nhập họ và tên tài xế\" />\r\n        </Form.Item>\r\n\r\n        <Form.Item\r\n          name=\"email\"\r\n          label=\"Email\"\r\n          rules={[{ required: true, type: 'email', message: 'Vui lòng nhập email hợp lệ' }]}\r\n        >\r\n          <Input placeholder=\"Nhập email\" />\r\n        </Form.Item>\r\n\r\n        <Form.Item\r\n          name=\"phoneNumber\"\r\n          label=\"Số điện thoại\"\r\n          rules={[{ required: true, message: 'Vui lòng nhập số điện thoại' }]}\r\n        >\r\n          <Input placeholder=\"Nhập số điện thoại\" />\r\n        </Form.Item>\r\n\r\n        <Form.Item\r\n          name=\"licenseNumber\"\r\n          label=\"Giấy phép lái xe\"\r\n          rules={[{ required: true, message: 'Vui lòng nhập giấy phép lái xe' }]}\r\n        >\r\n          <Input placeholder=\"Nhập giấy phép lái xe\" />\r\n        </Form.Item>\r\n\r\n        <Row gutter={16}>\r\n          <Col span={12}>\r\n            <Form.Item\r\n              name=\"userName\"\r\n              label=\"Tên đăng nhập\"\r\n              rules={[{ required: true, message: 'Vui lòng nhập tên đăng nhập' }]}\r\n            >\r\n              <Input placeholder=\"Nhập tên đăng nhập\" />\r\n            </Form.Item>\r\n          </Col>\r\n          <Col span={12}>\r\n            <Form.Item\r\n              name=\"password\"\r\n              label=\"Mật khẩu\"\r\n              rules={[{ required: true, message: 'Vui lòng nhập mật khẩu', min: 3 }]}\r\n            >\r\n              <Input.Password placeholder=\"Nhập mật khẩu\" />\r\n            </Form.Item>\r\n          </Col>\r\n        </Row>\r\n\r\n        <Row gutter={16}>\r\n          <Col span={12}>\r\n            <Form.Item\r\n              name=\"baseSalary\"\r\n              label=\"Lương cơ bản\"\r\n              rules={[{ required: true, message: 'Vui lòng nhập lương cơ bản' }]}\r\n            >\r\n              <InputNumber\r\n                placeholder=\"Nhập lương cơ bản\"\r\n                min={0}\r\n                style={{ width: '100%' }}\r\n                formatter={(value) => `${formatCurrency(value)} đ`} // Format với 'đ' ở cuối\r\n                parser={(value) => value.replace(/\\đ\\s?|(,*)/g, '')} // Loại bỏ ký tự đ và dấu phẩy\r\n              />\r\n            </Form.Item>\r\n          </Col>\r\n          <Col span={12}>\r\n            <Form.Item\r\n              name=\"salaryRate\"\r\n              label=\"Mức lương mỗi chuyến\"\r\n              rules={[{ required: true, message: 'Vui lòng nhập mức lương mỗi chuyến' }]}\r\n            >\r\n              <InputNumber\r\n                placeholder=\"Nhập mức lương mỗi chuyến\"\r\n                min={0}\r\n                style={{ width: '100%' }}\r\n                formatter={(value) => `${formatCurrency(value)} đ`}\r\n                parser={(value) => value.replace(/\\đ\\s?|(,*)/g, '')}\r\n              />\r\n            </Form.Item>\r\n          </Col>\r\n        </Row>\r\n\r\n        <div className=\"flex justify-end gap-4\">\r\n          <Button onClick={onClose} className=\"bg-gray-300\">\r\n            Hủy\r\n          </Button>\r\n          <Button\r\n            type=\"primary\"\r\n            htmlType=\"submit\"\r\n            loading={isLoading}\r\n            className=\"bg-blue-500 text-white\"\r\n          >\r\n            Thêm\r\n          </Button>\r\n        </div>\r\n      </Form>\r\n    </Drawer>\r\n  );\r\n};\r\n\r\nexport default AddDriverDrawer;\r\n","import React, { useState } from 'react';\r\nimport { Modal, Form, DatePicker, Button, notification, Typography, Divider, InputNumber } from 'antd';\r\nimport { useCalculateAndRecordDriverSalaryMutation } from '../../../../Redux/Company/companyApiSlice';\r\nimport moment from 'moment';\r\n\r\nconst { Title, Text } = Typography;\r\n\r\nconst CalculateSalaryModal = ({ visible, onClose, driver }) => {\r\n  const [calculateSalary] = useCalculateAndRecordDriverSalaryMutation();\r\n  const [form] = Form.useForm();\r\n  const [salaryDetails, setSalaryDetails] = useState(null);\r\n\r\n  const handleCalculateSalary = async (values) => {\r\n    const { month, bonuses, deductions } = values;\r\n    const startDate = moment(month).startOf('month').format('YYYY-MM-DD');\r\n    const endDate = moment(month).endOf('month').format('YYYY-MM-DD');\r\n\r\n    try {\r\n      const response = await calculateSalary({\r\n        userId: driver.userId._id,\r\n        startDate,\r\n        endDate,\r\n        bonuses: bonuses || 0,  // Nếu không có giá trị, gán mặc định là 0\r\n        deductions: deductions || 0 // Nếu không có giá trị, gán mặc định là 0\r\n      }).unwrap();\r\n      \r\n      setSalaryDetails(response.salaryRecord);\r\n      notification.success({\r\n        message: 'Tính lương thành công',\r\n        description: `Lương đã được tính và lưu cho tài xế ${driver.userId.fullName}.`,\r\n      });\r\n    } catch (error) {\r\n      notification.error({\r\n        message: 'Lỗi khi tính lương',\r\n        description: error.data?.message || 'Có lỗi xảy ra khi tính lương.',\r\n      });\r\n    }\r\n  };\r\n\r\n  const handleOk = () => {\r\n    form.submit();\r\n  };\r\n\r\n  return (\r\n    <Modal\r\n      title={`Tính Lương Cho Tài Xế: ${driver.userId.fullName}`}\r\n      visible={visible}\r\n      onOk={handleOk}\r\n      onCancel={onClose}\r\n      okText=\"Tính Lương\"\r\n      cancelText=\"Hủy\"\r\n    >\r\n      <Form form={form} onFinish={handleCalculateSalary} layout=\"vertical\">\r\n        <Form.Item\r\n          name=\"month\"\r\n          label=\"Chọn tháng\"\r\n          rules={[{ required: true, message: 'Vui lòng chọn tháng' }]}\r\n        >\r\n          <DatePicker\r\n            picker=\"month\"\r\n            style={{ width: '100%' }}\r\n            disabledDate={(current) => current && current > moment().endOf('month')}\r\n          />\r\n        </Form.Item>\r\n\r\n        <Form.Item\r\n          name=\"bonuses\"\r\n          label=\"Khoản thưởng\"\r\n        >\r\n          <InputNumber\r\n            style={{ width: '100%' }}\r\n            placeholder=\"Nhập khoản thưởng (nếu có)\"\r\n            formatter={value => `${value}`.replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',')}\r\n            parser={value => value.replace(/\\$\\s?|(,*)/g, '')}\r\n          />\r\n        </Form.Item>\r\n\r\n        <Form.Item\r\n          name=\"deductions\"\r\n          label=\"Khoản khấu trừ\"\r\n        >\r\n          <InputNumber\r\n            style={{ width: '100%' }}\r\n            placeholder=\"Nhập khoản khấu trừ (nếu có)\"\r\n            formatter={value => `${value}`.replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',')}\r\n            parser={value => value.replace(/\\$\\s?|(,*)/g, '')}\r\n          />\r\n        </Form.Item>\r\n      </Form>\r\n\r\n      {salaryDetails && (\r\n        <div style={{ marginTop: '20px' }}>\r\n          <Divider />\r\n          <Title level={5}>Chi Tiết Lương</Title>\r\n          <Text><b>Lương cơ bản:</b> {salaryDetails.baseSalary.toLocaleString('vi-VN')} VND</Text>\r\n          <br />\r\n          <Text><b>Thu nhập từ chuyến đi:</b> {salaryDetails.tripEarnings.toLocaleString('vi-VN')} VND</Text>\r\n          <br />\r\n          <Text><b>Tổng lương:</b> {salaryDetails.totalSalary.toLocaleString('vi-VN')} VND</Text>\r\n          <br />\r\n          <Text><b>Khoản thưởng:</b> {salaryDetails.bonuses.toLocaleString('vi-VN')} VND</Text>\r\n          <br />\r\n          <Text><b>Khoản khấu trừ:</b> {salaryDetails.deductions.toLocaleString('vi-VN')} VND</Text>\r\n        </div>\r\n      )}\r\n    </Modal>\r\n  );\r\n};\r\n\r\nexport default CalculateSalaryModal;\r\n","import React, { useState, useEffect } from 'react';\r\nimport {\r\n  useGetDriversQuery,\r\n  useUpdateDriverMutation,\r\n  useDeleteDriverMutation,\r\n  useDisableEmployeeMutation\r\n} from '../../../Redux/Company/companyApiSlice';\r\nimport { Button, Table, Typography, Space, Spin, notification, Alert, Modal, Form, Input, InputNumber, Select } from 'antd';\r\nimport { PlusOutlined, EditOutlined, DeleteOutlined, UserOutlined, SearchOutlined, DollarOutlined } from '@ant-design/icons';\r\nimport AddDriverDrawer from '../components/ManageDriver/AddDriverDrawer';\r\nimport CalculateSalaryModal from '../components/ManageDriver/CalculateSalaryModal';\r\n\r\nconst { Title } = Typography;\r\nconst { confirm } = Modal;\r\nconst { Search } = Input;\r\n\r\nconst formatCurrency = (value) => new Intl.NumberFormat('vi-VN', {\r\n  style: 'currency',\r\n  currency: 'VND',\r\n  minimumFractionDigits: 0,\r\n  maximumFractionDigits: 0,\r\n}).format(value);\r\n\r\nconst ManageDrivers = () => {\r\n  const { data: driversData, isLoading, isError, refetch } = useGetDriversQuery();\r\n  const [updateDriver] = useUpdateDriverMutation();\r\n  const [deleteDriver] = useDeleteDriverMutation();\r\n  const [toggleEmployeeStatus] = useDisableEmployeeMutation();\r\n  const [drivers, setDrivers] = useState([]);\r\n  const [filteredDrivers, setFilteredDrivers] = useState([]);\r\n  const [drawerVisible, setDrawerVisible] = useState(false);\r\n  const [salaryModalVisible, setSalaryModalVisible] = useState(false);\r\n  const [selectedDriver, setSelectedDriver] = useState(null);\r\n  const [editingDriver, setEditingDriver] = useState(null);\r\n  const [form] = Form.useForm();\r\n\r\n  useEffect(() => {\r\n    if (driversData && driversData.drivers) {\r\n      setDrivers(driversData.drivers);\r\n      setFilteredDrivers(driversData.drivers);\r\n    }\r\n  }, [driversData]);\r\n\r\n  const handleToggleDriverStatus = async (userId) => {\r\n    try {\r\n      const result = await toggleEmployeeStatus(userId).unwrap();\r\n      notification.success({\r\n        message: 'Thay đổi trạng thái thành công',\r\n        description: 'Trạng thái của tài xế đã được cập nhật.',\r\n      });\r\n      refetch();\r\n    } catch (error) {\r\n      notification.error({\r\n        message: 'Lỗi',\r\n        description: 'Có lỗi xảy ra khi thay đổi trạng thái tài xế!',\r\n      });\r\n    }\r\n  };\r\n\r\n  const handleCalculateSalaryClick = (driver) => {\r\n    setSelectedDriver(driver);\r\n    setSalaryModalVisible(true);\r\n  };\r\n\r\n  const handleAddDriverClick = () => {\r\n    setDrawerVisible(true);\r\n  };\r\n\r\n  const handleCloseDrawer = () => {\r\n    setDrawerVisible(false);\r\n  };\r\n\r\n  const handleAddDriverSuccess = (newDriver) => {\r\n    setDrivers((prevDrivers) => [...prevDrivers, newDriver]);\r\n    setFilteredDrivers((prevDrivers) => [...prevDrivers, newDriver]);\r\n    refetch();\r\n    notification.success({\r\n      message: 'Thêm tài xế thành công',\r\n      description: `Tài xế ${newDriver.userId.fullName} đã được thêm thành công.`,\r\n    });\r\n  };\r\n\r\n  const handleSearch = (value) => {\r\n    if (!value) {\r\n      setFilteredDrivers(drivers);\r\n    } else {\r\n      const filteredData = drivers.filter(driver => \r\n        driver.userId.fullName.toLowerCase().includes(value.toLowerCase()) ||\r\n        driver.userId.email.toLowerCase().includes(value.toLowerCase()) ||\r\n        driver.licenseNumber.toLowerCase().includes(value.toLowerCase())\r\n      );\r\n      setFilteredDrivers(filteredData);\r\n    }\r\n  };\r\n\r\n  const handleEditDriver = (driver) => {\r\n    setEditingDriver(driver);\r\n    form.setFieldsValue(driver);\r\n  };\r\n\r\n  const handleUpdateDriver = async (values) => {\r\n    try {\r\n      await updateDriver({ driverId: editingDriver._id, updatedData: values }).unwrap();\r\n      notification.success({\r\n        message: 'Cập nhật thành công',\r\n        description: `Tài xế ${values.fullName} đã được cập nhật.`,\r\n      });\r\n      setEditingDriver(null);\r\n      refetch();\r\n    } catch (error) {\r\n      notification.error({\r\n        message: 'Lỗi',\r\n        description: 'Có lỗi xảy ra khi cập nhật tài xế!',\r\n      });\r\n    }\r\n  };\r\n\r\n  const handleDeleteDriver = (driverId) => {\r\n    confirm({\r\n      title: 'Bạn có chắc chắn muốn xóa tài xế này không?',\r\n      onOk: async () => {\r\n        try {\r\n          await deleteDriver(driverId).unwrap();\r\n          notification.success({\r\n            message: 'Xóa thành công',\r\n            description: 'Tài xế đã được xóa thành công.',\r\n          });\r\n          refetch();\r\n        } catch (error) {\r\n          notification.error({\r\n            message: 'Lỗi',\r\n            description: 'Có lỗi xảy ra khi xóa tài xế!',\r\n          });\r\n        }\r\n      },\r\n    });\r\n  };\r\n\r\n  const columns = [\r\n    {\r\n      title: 'Tên tài xế',\r\n      dataIndex: ['userId', 'fullName'],\r\n      key: 'fullName',\r\n      render: (text) => <span><UserOutlined style={{ marginRight: 5 }} />{text}</span>\r\n    },\r\n    {\r\n      title: 'Email',\r\n      dataIndex: ['userId', 'email'],\r\n      key: 'email',\r\n    },\r\n    {\r\n      title: 'Số điện thoại',\r\n      dataIndex: ['userId', 'phoneNumber'],\r\n      key: 'phoneNumber',\r\n    },\r\n    {\r\n      title: 'Giấy phép lái xe',\r\n      dataIndex: 'licenseNumber',\r\n      key: 'licenseNumber',\r\n    },\r\n    {\r\n      title: 'Lương cơ bản',\r\n      dataIndex: 'baseSalary',\r\n      key: 'baseSalary',\r\n      render: (value) => formatCurrency(value),\r\n    },\r\n    {\r\n      title: 'Mức lương mỗi chuyến',\r\n      dataIndex: 'salaryRate',\r\n      key: 'salaryRate',\r\n      render: (value) => formatCurrency(value),\r\n    },\r\n    {\r\n      title: 'Thao tác',\r\n      key: 'action',\r\n      render: (text, record) => (\r\n        <Space size=\"middle\">\r\n          <Button type=\"link\" icon={<EditOutlined />} onClick={() => handleEditDriver(record)}>Sửa</Button>\r\n          <Button type=\"link\" icon={<DeleteOutlined />} danger onClick={() => handleDeleteDriver(record._id)}>Xóa</Button>\r\n          <Button type=\"link\" onClick={() => handleToggleDriverStatus(record.userId._id)}>\r\n            {record.isActive ? 'Vô hiệu hóa' : 'Kích hoạt'}\r\n          </Button>\r\n          <Button type=\"link\" icon={<DollarOutlined />} onClick={() => handleCalculateSalaryClick(record)}>\r\n            Tính lương\r\n          </Button>\r\n        </Space>\r\n      ),\r\n    },\r\n  ];\r\n\r\n  return (\r\n    <div className=\"manage-drivers bg-white p-6 shadow-md rounded-lg\">\r\n      <div className=\"flex justify-between items-center mb-6\">\r\n        <Title level={3} className=\"text-gray-700\">\r\n          <UserOutlined style={{ marginRight: 8 }} />\r\n          Quản Lý Tài Xế\r\n        </Title>\r\n        <Button type=\"primary\" icon={<PlusOutlined />} onClick={handleAddDriverClick}>\r\n          Thêm Tài Xế Mới\r\n        </Button>\r\n      </div>\r\n\r\n      <Space style={{ marginBottom: 16 }}>\r\n        <Search placeholder=\"Tìm kiếm tài xế...\" onSearch={handleSearch} enterButton={<SearchOutlined />} />\r\n      </Space>\r\n\r\n      {isLoading ? (\r\n        <div className=\"flex justify-center items-center py-10\">\r\n          <Spin tip=\"Đang tải danh sách tài xế...\" size=\"large\" />\r\n        </div>\r\n      ) : isError ? (\r\n        <div className=\"flex justify-center items-center py-10\">\r\n          <Alert message=\"Có lỗi xảy ra khi tải danh sách tài xế\" description={isError.message} type=\"error\" showIcon />\r\n        </div>\r\n      ) : (\r\n        <Table\r\n          dataSource={filteredDrivers}\r\n          columns={columns}\r\n          rowKey=\"_id\"\r\n          pagination={{ pageSize: 5 }}\r\n        />\r\n      )}\r\n\r\n      <AddDriverDrawer\r\n        visible={drawerVisible}\r\n        onClose={handleCloseDrawer}\r\n        onAddDriverSuccess={handleAddDriverSuccess}\r\n      />\r\n\r\n      {selectedDriver && (\r\n        <CalculateSalaryModal\r\n          visible={salaryModalVisible}\r\n          onClose={() => setSalaryModalVisible(false)}\r\n          driver={selectedDriver}\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ManageDrivers;\r\n"],"names":["formatCurrency","value","replace","_ref","visible","onClose","onAddDriverSuccess","addDriver","isLoading","useAddDriverMutation","form","Form","useForm","_jsx","Drawer","title","width","bodyStyle","paddingBottom","children","_jsxs","layout","onFinish","async","result","values","unwrap","resetFields","driver","error","notification","message","description","Item","name","label","rules","required","Input","placeholder","type","Row","gutter","Col","span","min","Password","InputNumber","style","formatter","parser","className","Button","onClick","htmlType","loading","Title","Text","Typography","calculateSalary","useCalculateAndRecordDriverSalaryMutation","salaryDetails","setSalaryDetails","useState","Modal","userId","fullName","onOk","handleOk","submit","onCancel","okText","cancelText","month","bonuses","deductions","startDate","moment","startOf","format","endDate","endOf","response","_id","salaryRecord","success","_error$data","data","DatePicker","picker","disabledDate","current","marginTop","Divider","level","baseSalary","toLocaleString","tripEarnings","totalSalary","confirm","Search","Intl","NumberFormat","currency","minimumFractionDigits","maximumFractionDigits","ManageDrivers","driversData","isError","refetch","useGetDriversQuery","updateDriver","useUpdateDriverMutation","deleteDriver","useDeleteDriverMutation","toggleEmployeeStatus","useDisableEmployeeMutation","drivers","setDrivers","filteredDrivers","setFilteredDrivers","drawerVisible","setDrawerVisible","salaryModalVisible","setSalaryModalVisible","selectedDriver","setSelectedDriver","editingDriver","setEditingDriver","useEffect","columns","dataIndex","key","render","text","UserOutlined","marginRight","record","Space","size","icon","EditOutlined","handleEditDriver","setFieldsValue","DeleteOutlined","danger","handleDeleteDriver","driverId","handleToggleDriverStatus","isActive","DollarOutlined","PlusOutlined","handleAddDriverClick","marginBottom","onSearch","filteredData","filter","toLowerCase","includes","email","licenseNumber","enterButton","SearchOutlined","Spin","tip","Alert","showIcon","Table","dataSource","rowKey","pagination","pageSize","AddDriverDrawer","handleCloseDrawer","newDriver","prevDrivers","CalculateSalaryModal"],"sourceRoot":""}