{"version":3,"file":"static/js/336.1456444d.chunk.js","mappings":"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","sources":["components/home/components/SearchResult/Trip/TripDetailsTabs.js","components/home/components/SearchResult/Trip/TripDetails.js","components/home/components/SearchResult/Trip/SeatSelection.js","components/home/components/SearchResult/Trip/TripCard.js","components/home/components/SearchResult/SearchResults.js","utils/formatUtils.js"],"sourcesContent":["import React, { useRef } from \"react\";\r\nimport Slider from \"react-slick\";\r\nimport \"slick-carousel/slick/slick.css\";\r\nimport \"slick-carousel/slick/slick-theme.css\";\r\n\r\nconst TripDetailsTabs = ({ trip, activeTab, setActiveTab }) => {\r\n  const mainSliderRef = useRef(null);\r\n  const thumbnailSliderRef = useRef(null);\r\n\r\n  const renderTabContent = () => {\r\n    switch (activeTab) {\r\n      case \"pickupDropOff\":\r\n        return (\r\n          <div className=\"p-6 animate-fadeIn\">\r\n            <h3 className=\"font-semibold text-2xl mb-6 text-blue-700\">Điểm đón / Điểm trả</h3>\r\n            <p className=\"text-base text-gray-700 mb-6 italic\">\r\n              Các mốc thời gian đón, trả bên dưới là thời gian dự kiến. Lịch này có thể thay đổi tùy tình hình thực tế.\r\n            </p>\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-8\">\r\n              {/* Điểm đón */}\r\n              <div className=\"md:border-r md:pr-6\">\r\n                <h4 className=\"font-semibold text-xl text-gray-800 mb-4\">Điểm đón</h4>\r\n                <ul className=\"space-y-4\">\r\n                  {trip.pickupPoints && trip.pickupPoints.length > 0 ? (\r\n                    trip.pickupPoints.map((point, index) => (\r\n                      <li key={index} className=\"flex items-start\">\r\n                        <span className=\"text-blue-600 mt-1 mr-3\">\r\n                          <svg\r\n                            className=\"w-5 h-5\"\r\n                            fill=\"currentColor\"\r\n                            viewBox=\"0 0 20 20\"\r\n                          >\r\n                            <path d=\"M10 2a6 6 0 016 6c0 5.25-6 10-6 10S4 13.25 4 8a6 6 0 016-6z\" />\r\n                          </svg>\r\n                        </span>\r\n                        <div>\r\n                          <p className=\"text-gray-800 font-medium\">{point.time}</p>\r\n                          <p className=\"text-gray-600\">{point.location}</p>\r\n                        </div>\r\n                      </li>\r\n                    ))\r\n                  ) : (\r\n                    <p>Không có thông tin điểm đón.</p>\r\n                  )}\r\n                </ul>\r\n              </div>\r\n\r\n              {/* Điểm trả */}\r\n              <div className=\"mt-8 md:mt-0\">\r\n                <h4 className=\"font-semibold text-xl text-gray-800 mb-4\">Điểm trả</h4>\r\n                <ul className=\"space-y-4\">\r\n                  {trip.dropOffPoints && trip.dropOffPoints.length > 0 ? (\r\n                    trip.dropOffPoints.map((point, index) => (\r\n                      <li key={index} className=\"flex items-start\">\r\n                        <span className=\"text-green-600 mt-1 mr-3\">\r\n                          <svg\r\n                            className=\"w-5 h-5\"\r\n                            fill=\"currentColor\"\r\n                            viewBox=\"0 0 20 20\"\r\n                          >\r\n                            <path d=\"M10 2a6 6 0 016 6c0 5.25-6 10-6 10S4 13.25 4 8a6 6 0 016-6z\" />\r\n                          </svg>\r\n                        </span>\r\n                        <div>\r\n                          <p className=\"text-gray-800 font-medium\">{point.time}</p>\r\n                          <p className=\"text-gray-600\">{point.location}</p>\r\n                        </div>\r\n                      </li>\r\n                    ))\r\n                  ) : (\r\n                    <p>Không có thông tin điểm trả.</p>\r\n                  )}\r\n                </ul>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        );\r\n      case \"discounts\":\r\n        return (\r\n          <div className=\"p-6 animate-fadeIn\">\r\n            <h3 className=\"font-semibold text-2xl mb-6 text-blue-700\">Ưu đãi đặc biệt</h3>\r\n            <ul className=\"space-y-4\">\r\n              <li className=\"flex items-start\">\r\n                <span className=\"text-yellow-500 mt-1 mr-3\">\r\n                  <svg\r\n                    className=\"w-6 h-6\"\r\n                    fill=\"currentColor\"\r\n                    viewBox=\"0 0 20 20\"\r\n                  >\r\n                    <path d=\"M9.049 2.927C9.469 1.78 10.531 1.78 10.951 2.927l1.362 3.724a1 1 0 00.949.69h3.943c1.168 0 1.657 1.495.712 2.178l-3.098 2.251a1 1 0 00-.364 1.118l1.362 3.724c.42 1.147-.895 2.094-1.829 1.41l-3.098-2.25a1 1 0 00-1.176 0l-3.098 2.25c-.934.684-2.249-.263-1.829-1.41l1.362-3.724a1 1 0 00-.364-1.118L2.484 9.52c-.945-.683-.456-2.178.712-2.178h3.943a1 1 0 00.949-.69l1.362-3.724z\" />\r\n                  </svg>\r\n                </span>\r\n                <p className=\"text-gray-700\">\r\n                  Giảm 50% tối đa 250k cho vé đầu tiên\r\n                </p>\r\n              </li>\r\n              <li className=\"flex items-start\">\r\n                <span className=\"text-yellow-500 mt-1 mr-3\">\r\n                  <svg\r\n                    className=\"w-6 h-6\"\r\n                    fill=\"currentColor\"\r\n                    viewBox=\"0 0 20 20\"\r\n                  >\r\n                    <path d=\"M9.049 2.927C9.469 1.78 10.531 1.78 10.951 2.927l1.362 3.724a1 1 0 00.949.69h3.943c1.168 0 1.657 1.495.712 2.178l-3.098 2.251a1 1 0 00-.364 1.118l1.362 3.724c.42 1.147-.895 2.094-1.829 1.41l-3.098-2.25a1 1 0 00-1.176 0l-3.098 2.25c-.934.684-2.249-.263-1.829-1.41l1.362-3.724a1 1 0 00-.364-1.118L2.484 9.52c-.945-.683-.456-2.178.712-2.178h3.943a1 1 0 00.949-.69l1.362-3.724z\" />\r\n                  </svg>\r\n                </span>\r\n                <p className=\"text-gray-700\">Giảm 20% cho mọi vé tiếp theo</p>\r\n              </li>\r\n            </ul>\r\n          </div>\r\n        );\r\n      case \"policy\":\r\n        return (\r\n          <div className=\"p-6 animate-fadeIn\">\r\n            <h3 className=\"font-semibold text-2xl mb-6 text-blue-700\">Chính sách</h3>\r\n            <ul className=\"space-y-4\">\r\n              <li className=\"flex items-start\">\r\n                <span className=\"text-green-500 mt-1 mr-3\">\r\n                  <svg\r\n                    className=\"w-6 h-6\"\r\n                    fill=\"currentColor\"\r\n                    viewBox=\"0 0 20 20\"\r\n                  >\r\n                    <path\r\n                      fillRule=\"evenodd\"\r\n                      d=\"M10 18a8 8 0 100-16 8 8 0 000 16zm-1-11V5h2v2h-2zm0 4v6h2v-6h-2z\"\r\n                      clipRule=\"evenodd\"\r\n                    />\r\n                  </svg>\r\n                </span>\r\n                <p className=\"text-gray-700\">Hoàn tiền 100% nếu huỷ trước 24 giờ.</p>\r\n              </li>\r\n              <li className=\"flex items-start\">\r\n                <span className=\"text-green-500 mt-1 mr-3\">\r\n                  <svg\r\n                    className=\"w-6 h-6\"\r\n                    fill=\"currentColor\"\r\n                    viewBox=\"0 0 20 20\"\r\n                  >\r\n                    <path\r\n                      fillRule=\"evenodd\"\r\n                      d=\"M10 18a8 8 0 100-16 8 8 0 000 16zm-1-11V5h2v2h-2zm0 4v6h2v-6h-2z\"\r\n                      clipRule=\"evenodd\"\r\n                    />\r\n                  </svg>\r\n                </span>\r\n                <p className=\"text-gray-700\">Hỗ trợ đổi vé miễn phí 1 lần.</p>\r\n              </li>\r\n              <li className=\"flex items-start\">\r\n                <span className=\"text-green-500 mt-1 mr-3\">\r\n                  <svg\r\n                    className=\"w-6 h-6\"\r\n                    fill=\"currentColor\"\r\n                    viewBox=\"0 0 20 20\"\r\n                  >\r\n                    <path\r\n                      fillRule=\"evenodd\"\r\n                      d=\"M10 18a8 8 0 100-16 8 8 0 000 16zm-1-11V5h2v2h-2zm0 4v6h2v-6h-2z\"\r\n                      clipRule=\"evenodd\"\r\n                    />\r\n                  </svg>\r\n                </span>\r\n                <p className=\"text-gray-700\">Bảo hiểm chuyến đi tối đa 1 tỷ VNĐ.</p>\r\n              </li>\r\n            </ul>\r\n          </div>\r\n        );\r\n      case \"images\":\r\n        const mainSliderSettings = {\r\n          dots: false,\r\n          arrows: true,\r\n          infinite: true,\r\n          speed: 800,\r\n          slidesToShow: 1,\r\n          slidesToScroll: 1,\r\n          asNavFor: thumbnailSliderRef.current,\r\n          fade: true, // Added fade effect\r\n          nextArrow: <CustomArrow direction=\"next\" />,\r\n          prevArrow: <CustomArrow direction=\"prev\" />,\r\n        };\r\n\r\n        const thumbnailSliderSettings = {\r\n          dots: false,\r\n          arrows: false,\r\n          infinite: true,\r\n          speed: 800,\r\n          slidesToShow: 5,\r\n          slidesToScroll: 1,\r\n          focusOnSelect: true,\r\n          asNavFor: mainSliderRef.current,\r\n          centerMode: true,\r\n          centerPadding: \"0px\",\r\n        };\r\n\r\n        return (\r\n          <div className=\"p-6 animate-fadeIn\">\r\n            <h3 className=\"font-semibold text-2xl mb-6 text-blue-700\">Hình ảnh</h3>\r\n            <div className=\"w-full\">\r\n              {/* Slider chính */}\r\n              <div className=\"relative\">\r\n                <Slider {...mainSliderSettings} ref={mainSliderRef}>\r\n                  {trip.busType.images &&\r\n                    trip.busType.images.map((image, index) => (\r\n                      <div key={index} className=\"flex justify-center\">\r\n                        <img\r\n                          src={image}\r\n                          alt={`Bus image ${index + 1}`}\r\n                          className=\"w-full max-h-96 object-cover rounded-lg shadow-lg\"\r\n                        />\r\n                      </div>\r\n                    ))}\r\n                </Slider>\r\n              </div>\r\n\r\n              {/* Thumbnail */}\r\n              <Slider\r\n                {...thumbnailSliderSettings}\r\n                ref={thumbnailSliderRef}\r\n                className=\"mt-6\"\r\n              >\r\n                {trip.busType.images &&\r\n                  trip.busType.images.map((image, index) => (\r\n                    <div key={index} className=\"px-1\">\r\n                      <img\r\n                        src={image}\r\n                        alt={`Thumbnail ${index + 1}`}\r\n                        className=\"w-full h-20 object-cover rounded-md shadow-md cursor-pointer hover:ring-2 hover:ring-blue-500 transition duration-300\"\r\n                      />\r\n                    </div>\r\n                  ))}\r\n              </Slider>\r\n            </div>\r\n          </div>\r\n        );\r\n      case \"feedbacks\":\r\n        return (\r\n          <div className=\"p-6 animate-fadeIn\">\r\n            <h3 className=\"font-semibold text-2xl mb-6 text-blue-700\">Đánh giá khách hàng</h3>\r\n            {trip.companyId.feedbacks && trip.companyId.feedbacks.length > 0 ? (\r\n              <div className=\"space-y-8\">\r\n                {trip.companyId.feedbacks.map((feedback, index) => (\r\n                  <div\r\n                    key={index}\r\n                    className=\"p-6 border rounded-lg shadow-md bg-white hover:shadow-lg transition duration-300 flex items-start\"\r\n                  >\r\n                    <div className=\"w-14 h-14 rounded-full bg-blue-600 text-white flex items-center justify-center font-bold text-xl mr-6\">\r\n                      {feedback.fullName[0].toUpperCase()}\r\n                    </div>\r\n                    <div>\r\n                      <div className=\"flex items-center justify-between mb-2\">\r\n                        <p className=\"font-bold text-gray-800 text-lg\">\r\n                          {feedback.fullName}\r\n                        </p>\r\n                        <div className=\"flex items-center\">\r\n                          {[...Array(5)].map((_, i) => (\r\n                            <svg\r\n                              key={i}\r\n                              className={`w-5 h-5 ${\r\n                                i < feedback.rating\r\n                                  ? \"text-yellow-500\"\r\n                                  : \"text-gray-300\"\r\n                              }`}\r\n                              fill=\"currentColor\"\r\n                              viewBox=\"0 0 20 20\"\r\n                            >\r\n                              <path d=\"M9.049 2.927C9.469 1.78 10.531 1.78 10.951 2.927l1.362 3.724a1 1 0 00.949.69h3.943c1.168 0 1.657 1.495.712 2.178l-3.098 2.251a1 1 0 00-.364 1.118l1.362 3.724c.42 1.147-.895 2.094-1.829 1.41l-3.098-2.25a1 1 0 00-1.176 0l-3.098 2.25c-.934.684-2.249-.263-1.829-1.41l1.362-3.724a1 1 0 00-.364-1.118L2.484 9.52c-.945-.683-.456-2.178.712-2.178h3.943a1 1 0 00.949-.69l1.362-3.724z\" />\r\n                            </svg>\r\n                          ))}\r\n                        </div>\r\n                      </div>\r\n                      <p className=\"text-gray-700 mb-4\">{feedback.comment}</p>\r\n                      <p className=\"text-gray-500 text-sm\">\r\n                        {new Date(feedback.createdAt).toLocaleDateString()}\r\n                      </p>\r\n                    </div>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            ) : (\r\n              <p>Chưa có đánh giá nào.</p>\r\n            )}\r\n          </div>\r\n        );\r\n      default:\r\n        return null;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      {/* Tabs Navigation */}\r\n      <div className=\"flex flex-wrap justify-between md:justify-around border-b mb-6\">\r\n        {[\"pickupDropOff\", \"discounts\", \"policy\", \"images\", \"feedbacks\"].map(\r\n          (tab, index) => (\r\n            <button\r\n              key={index}\r\n              className={`relative px-6 py-4 text-base font-semibold tracking-wide transition duration-300 ${\r\n                activeTab === tab\r\n                  ? \"text-blue-700\"\r\n                  : \"text-gray-600 hover:text-blue-600\"\r\n              }`}\r\n              onClick={() => setActiveTab(tab)}\r\n            >\r\n              {tab === \"pickupDropOff\"\r\n                ? \"Điểm đón/trả\"\r\n                : tab === \"discounts\"\r\n                ? \"Ưu đãi\"\r\n                : tab === \"policy\"\r\n                ? \"Chính sách\"\r\n                : tab === \"images\"\r\n                ? \"Hình ảnh\"\r\n                : \"Đánh giá\"}\r\n              {activeTab === tab && (\r\n                <span className=\"absolute bottom-0 left-0 w-full h-1 bg-blue-700 rounded-t-md\"></span>\r\n              )}\r\n            </button>\r\n          )\r\n        )}\r\n      </div>\r\n      {/* Tab Content */}\r\n      <div className=\"bg-gray-50 shadow-lg rounded-lg overflow-hidden\">\r\n        {renderTabContent()}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\n// Custom Arrow\r\nconst CustomArrow = ({ direction, onClick }) => {\r\n  return (\r\n    <button\r\n      onClick={onClick}\r\n      className={`absolute ${\r\n        direction === \"next\" ? \"right-4\" : \"left-4\"\r\n      } top-1/2 transform -translate-y-1/2 bg-white text-gray-700 p-3 rounded-full shadow-md hover:bg-gray-100 focus:outline-none transition duration-300`}\r\n    >\r\n      {direction === \"next\" ? (\r\n        <svg\r\n          className=\"w-5 h-5\"\r\n          fill=\"none\"\r\n          stroke=\"currentColor\"\r\n          viewBox=\"0 0 24 24\"\r\n        >\r\n          <path\r\n            strokeLinecap=\"round\"\r\n            strokeLinejoin=\"round\"\r\n            strokeWidth={2}\r\n            d=\"M9 5l7 7-7 7\"\r\n          />\r\n        </svg>\r\n      ) : (\r\n        <svg\r\n          className=\"w-5 h-5\"\r\n          fill=\"none\"\r\n          stroke=\"currentColor\"\r\n          viewBox=\"0 0 24 24\"\r\n        >\r\n          <path\r\n            strokeLinecap=\"round\"\r\n            strokeLinejoin=\"round\"\r\n            strokeWidth={2}\r\n            d=\"M15 19l-7-7 7-7\"\r\n          />\r\n        </svg>\r\n      )}\r\n    </button>\r\n  );\r\n};\r\n\r\nexport default TripDetailsTabs;\r\n","import React, { useState } from \"react\";\r\nimport { Modal } from \"antd\";\r\nimport { formatCurrency } from \"utils/formatUtils\";\r\nimport TripDetailsTabs from \"./TripDetailsTabs\";\r\nimport { BsStarFill, BsStarHalf, BsStar } from \"react-icons/bs\";\r\n\r\nconst TripDetails = ({ trip, onToggle, loading }) => {\r\n  \r\n  const [isDetailsVisible, setIsDetailsVisible] = useState(false);\r\n  const [isModalVisible, setIsModalVisible] = useState(false);\r\n  const [activeTab, setActiveTab] = useState(\"discounts\"); \r\n\r\n\r\n  const mainImage =\r\n    trip.busType.images && trip.busType.images.length > 0\r\n      ? trip.busType.images[0]\r\n      : \"https://via.placeholder.com/150\";\r\n\r\n  const handleViewMoreImages = () => {\r\n    setIsDetailsVisible(true);\r\n    setActiveTab(\"images\");\r\n  };\r\n\r\n  const handleCloseModal = () => {\r\n    setIsModalVisible(false);\r\n  };\r\n\r\n  const renderStars = (rating) => {\r\n    const sanitizedRating = Math.max(0, Math.min(5, Number(rating) || 0));\r\n    const fullStars = Math.floor(sanitizedRating);\r\n    const halfStars = sanitizedRating % 1 >= 0.5 ? 1 : 0;\r\n    const emptyStars = 5 - fullStars - halfStars;\r\n  \r\n    return (\r\n      <div className=\"flex items-center\">\r\n        {Array(fullStars)\r\n          .fill()\r\n          .map((_, index) => (\r\n            <BsStarFill key={`full-${index}`} className=\"text-yellow-500\" />\r\n          ))}\r\n        {halfStars === 1 && <BsStarHalf className=\"text-yellow-500\" />}\r\n        {Array(emptyStars)\r\n          .fill()\r\n          .map((_, index) => (\r\n            <BsStar key={`empty-${index}`} className=\"text-gray-300\" />\r\n          ))}\r\n      </div>\r\n    );\r\n  };\r\n  \r\n\r\n  const handleToggleTrip = () => {\r\n    if (isDetailsVisible) {\r\n      setIsDetailsVisible(false);\r\n    }\r\n    onToggle();\r\n  };\r\n\r\n  return (\r\n    <div className=\"border border-gray-200  rounded-lg shadow-md hover:shadow-lg p-4 mb-6 transition-shadow\">\r\n      <div className=\"flex flex-col md:flex-row items-start gap-4\">\r\n        <div className=\"relative w-full md:w-1/5 flex-shrink-0\">\r\n          <img\r\n            src={mainImage}\r\n            alt=\"Bus\"\r\n            className=\"w-full h-28 object-cover rounded-lg\"\r\n            onClick={handleViewMoreImages}\r\n          />\r\n          {trip.instantConfirmation && (\r\n            <div className=\"absolute top-1 left-1 bg-green-600 text-white text-xs px-2 py-1 rounded\">\r\n              Xác nhận tức thì\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        {/* Nội dung chính */}\r\n        <div className=\"flex-1\">\r\n          {/* Tên công ty và đánh giá */}\r\n          <div className=\"flex justify-between items-center\">\r\n            <h3 className=\"font-semibold text-lg text-gray-800\">\r\n              {trip.companyId.name}\r\n            </h3>\r\n            <div className=\"flex items-center\">\r\n              {renderStars(trip.companyId.averageRating || 0)}\r\n              <span className=\"text-sm text-gray-500 ml-2\">\r\n                ({trip.companyId.totalReviews || 0})\r\n              </span>\r\n            </div>\r\n          </div>\r\n          <p className=\"text-sm text-gray-600 mt-1\">\r\n            {trip.busType.description} ({trip.busType.seats} chỗ)\r\n          </p>\r\n\r\n          {/* Thông tin giờ đi và đến */}\r\n          <div className=\"flex justify-between items-center mt-3\">\r\n            {/* Giờ đi */}\r\n            <div className=\"text-center\">\r\n              <p className=\"text-lg font-bold text-gray-800\">\r\n                {new Date(trip.departureTime).toLocaleTimeString([], {\r\n                  hour: \"2-digit\",\r\n                  minute: \"2-digit\",\r\n                })}\r\n              </p>\r\n              <p className=\"text-sm text-gray-500\">\r\n                {trip.departureLocation.name}\r\n              </p>\r\n            </div>\r\n\r\n            {/* Hành trình */}\r\n            <div className=\"text-center text-gray-400 text-sm\">\r\n              {Math.round(\r\n                (new Date(trip.arrivalTime) - new Date(trip.departureTime)) /\r\n                  3600000\r\n              ) || 1}{\" \"}\r\n              giờ\r\n            </div>\r\n\r\n            {/* Giờ đến */}\r\n            <div className=\"text-center\">\r\n              <p className=\"text-lg font-bold text-gray-800\">\r\n                {new Date(trip.arrivalTime).toLocaleTimeString([], {\r\n                  hour: \"2-digit\",\r\n                  minute: \"2-digit\",\r\n                })}\r\n              </p>\r\n              <p className=\"text-sm text-gray-500\">\r\n                {trip.arrivalLocation.name}\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Giá vé và nút */}\r\n        <div className=\"text-right w-full md:w-auto flex-shrink-0\">\r\n          <p className=\"text-xl font-bold text-red-600\">\r\n            {formatCurrency(trip.basePrice)} VND\r\n          </p>\r\n          {trip.discount && (\r\n            <p className=\"text-sm text-gray-500 line-through\">\r\n              {formatCurrency(trip.originalPrice)} VND\r\n            </p>\r\n          )}\r\n          <p className=\"text-xs text-green-600 mt-1\">\r\n            Còn {trip.availableSeats} chỗ trống\r\n          </p>\r\n          <button\r\n            onClick={handleToggleTrip}\r\n            className=\"bg-yellow-500 text-white px-5 py-2 mt-2 rounded-lg hover:bg-yellow-600 transition\"\r\n            disabled={loading}\r\n          >\r\n            Chọn chuyến\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Nút xem thêm */}\r\n      <div className=\"mt-4\">\r\n        <button\r\n          onClick={() => setIsDetailsVisible(!isDetailsVisible)}\r\n          className=\"text-blue-600 text-sm\"\r\n        >\r\n          {isDetailsVisible ? \"Ẩn chi tiết\" : \"Thông tin chi tiết\"}\r\n        </button>\r\n      </div>\r\n\r\n      {/* Nội dung chi tiết */}\r\n      {isDetailsVisible && (\r\n        <div className=\"mt-4 bg-gray-100 rounded-lg p-4\">\r\n          <TripDetailsTabs trip={trip}\r\n            activeTab={activeTab}\r\n            setActiveTab={setActiveTab} />\r\n        </div>\r\n      )}\r\n\r\n      {/* Modal hình ảnh */}\r\n      <Modal\r\n        visible={isModalVisible}\r\n        footer={null}\r\n        onCancel={handleCloseModal}\r\n        title=\"Hình Ảnh Xe\"\r\n      >\r\n        <div className=\"grid grid-cols-3 gap-4\">\r\n          {trip.busType.images &&\r\n            trip.busType.images.map((image, index) => (\r\n              <img\r\n                key={index}\r\n                src={image}\r\n                alt={`Bus image ${index + 1}`}\r\n                className=\"w-full h-32 object-cover rounded-lg\"\r\n              />\r\n            ))}\r\n        </div>\r\n      </Modal>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TripDetails;\r\n","import React from \"react\";\r\nimport { Transition } from \"@headlessui/react\";\r\nimport { Clock } from \"lucide-react\";\r\nimport { formatCurrency } from \"utils/formatUtils\";\r\nimport { RiArmchairLine } from \"react-icons/ri\";\r\nconst SeatSelection = ({\r\n  seatsData,\r\n  isLoadingSeats,\r\n  handleSeatSelect,\r\n  selectedSeats,\r\n  lockTimers,\r\n  loading,\r\n  totalPrice,\r\n  handleContinue,\r\n  error,\r\n  userId,\r\n}) => {\r\n  const getSeatStyle = (seat) => {\r\n    if (seat.seatNumber === 1) {\r\n      return \"text-gray-500 cursor-not-allowed\"; \r\n    }\r\n    \r\n    if (selectedSeats.includes(seat.seatNumber)) {\r\n      return \"text-green-500\";\r\n    }\r\n    if (seat.lockedBy && seat.lockedBy !== userId) {\r\n      return \"text-orange-500\";\r\n    }\r\n    if (!seat.isAvailable) {\r\n      return \"text-red-500\"; \r\n    }\r\n    if ([2, 3, 4, 5, 6].includes(seat.seatNumber)) {\r\n      return \"text-yellow-500\"; // Ghế VIP\r\n    }\r\n    return \"text-green-300\"; // Ghế có sẵn\r\n  };\r\n\r\n  const renderSeats = (seats, floorLabel) => {\r\n    const numColumns = seats.length < 5 ? seats.length : 5;\r\n\r\n    return (\r\n      <div className=\"mb-4\">\r\n        <h4 className=\"font-semibold text-center mb-3 text-gray-700\">\r\n          {floorLabel}\r\n        </h4>\r\n        <div\r\n          className=\"grid gap-3 mx-auto\"\r\n          style={{\r\n            gridTemplateColumns: `repeat(${numColumns}, minmax(0, 1fr))`,\r\n          }}\r\n        >\r\n          {seats.map((seat) => (\r\n            <button\r\n              key={seat._id}\r\n              onClick={() => handleSeatSelect(seat.seatNumber)}\r\n              disabled={loading}\r\n              className={`text-2xl cursor-pointer ${getSeatStyle(seat)}`}\r\n            >\r\n              <RiArmchairLine />\r\n              {lockTimers[seat.seatNumber] && (\r\n                <Clock className=\"absolute -top-1 -right-1 h-4 w-4\" />\r\n              )}\r\n            </button>\r\n          ))}\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const groupSeatsByRow = (seats) => {\r\n    const rows = { Front: [], Middle: [], Back: [] };\r\n  \r\n    seats.forEach((seat) => {\r\n      if (rows[seat.seatRow]) {\r\n        rows[seat.seatRow].push(seat);\r\n      }\r\n    });\r\n  \r\n    return rows;\r\n  };\r\n\r\n  const renderSeatsByRow = (seats, floorLabel) => {\r\n    const seatsByRow = groupSeatsByRow(seats);\r\n    return (\r\n      <div className=\"mb-6\">\r\n        <h4 className=\"text-lg font-semibold text-center text-gray-700 mb-4\">\r\n          {floorLabel}\r\n        </h4>\r\n        {Object.entries(seatsByRow).map(([rowName, seatsInRow]) => (\r\n          <div key={rowName} className=\"mb-4\">\r\n            <h5 className=\"text-sm font-medium text-gray-600 mb-4\">\r\n              {`Hàng ${\r\n                rowName === \"Front\"\r\n                  ? \"đầu\"\r\n                  : rowName === \"Middle\"\r\n                  ? \"giữa\"\r\n                  : \"cuối\"\r\n              }`}\r\n            </h5>\r\n            <div\r\n              className=\"grid gap-5 mx-auto\"\r\n              style={{\r\n                gridTemplateColumns: `repeat(${Math.min(\r\n                  seatsInRow.length,\r\n                  3\r\n                )}, minmax(0, 1fr))`,\r\n              }}\r\n            >\r\n              {seatsInRow.map((seat) => (\r\n                <button\r\n                  key={seat._id}\r\n                  onClick={() => handleSeatSelect(seat.seatNumber)}\r\n                  disabled={loading}\r\n                  className={`relative p-2 text-2xl cursor-pointer ${getSeatStyle(\r\n                    seat\r\n                  )}`}\r\n                >\r\n                  <RiArmchairLine size={30} />\r\n                  <span className=\"absolute text-sm font-medium -bottom-2 left-1/2 transform -translate-x-1/2 text-red-700\">\r\n                    {seat.seatNumber}\r\n                  </span>\r\n                  {lockTimers[seat.seatNumber] && (\r\n                    <Clock className=\"absolute -top-1 -right-1 h-4 w-4\" />\r\n                  )}\r\n                </button>\r\n              ))}\r\n            </div>\r\n          </div>\r\n        ))}\r\n      </div>\r\n    );\r\n  };  \r\n  return (\r\n    <Transition\r\n      show\r\n      enter=\"transition-opacity duration-300\"\r\n      enterFrom=\"opacity-0\"\r\n      enterTo=\"opacity-100\"\r\n      leave=\"transition-opacity duration-300\"\r\n      leaveFrom=\"opacity-100\"\r\n      leaveTo=\"opacity-0\"\r\n    >\r\n      <div className=\"border-t mt-4 pt-4 space-y-6\">\r\n        {/* Chú thích: dàn hàng ngang với flex-wrap */}\r\n        <div className=\"flex flex-row flex-wrap justify-around space-x-4 mb-4 text-sm text-gray-700\">\r\n          <div className=\"flex items-center mb-2\">\r\n            <RiArmchairLine className=\"text-gray-500 mr-2\" />\r\n            Ghế không bán\r\n          </div>\r\n          <div className=\"flex items-center mb-2\">\r\n            <RiArmchairLine className=\"text-yellow-500 mr-2\" />\r\n            Ghế VIP\r\n          </div>\r\n          <div className=\"flex items-center mb-2\">\r\n            <RiArmchairLine className=\"text-green-500 mr-2\" />\r\n            Đã chọn\r\n          </div>\r\n          <div className=\"flex items-center mb-2\">\r\n            <RiArmchairLine className=\"text-orange-500 mr-2\" />\r\n            Tạm thời giữ\r\n          </div>\r\n          <div className=\"flex items-center mb-2\">\r\n            <RiArmchairLine className=\"text-green-300 mr-2\" />\r\n            Có sẵn\r\n          </div>\r\n          <div className=\"flex items-center mb-2\">\r\n            <RiArmchairLine className=\"text-red-500 mr-2\" />\r\n            Đã đặt\r\n          </div>\r\n        </div>\r\n        \r\n        {/* Tầng Dưới và Tầng Trên */}\r\n        <div className=\"flex justify-center w-full\">\r\n          {/* Tầng Dưới */}\r\n          <div\r\n            className={`w-full ${\r\n              seatsData.upper ? \"md:w-1/2\" : \"w-2/3\"\r\n            } flex justify-center`}\r\n          >\r\n            {renderSeatsByRow(seatsData.lower, \"Tầng Dưới\")}\r\n          </div>\r\n          {/* Tầng Trên */}\r\n          {seatsData.upper && seatsData.upper.length > 0 && (\r\n            <div className=\"md:w-z1/2 pl-4\">\r\n              {renderSeatsByRow(seatsData.upper, \"Tầng Trên\")}\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        {/* Tổng giá và nút tiếp tục */}\r\n        <div className=\"mt-6 flex justify-around h-[80px] items-center border-t pt-4\">\r\n          <div className=\"text-sm text-gray-700\">\r\n            Ghế đã chọn:\r\n            <span className=\"font-medium\">{selectedSeats.join(\", \")}</span>\r\n          </div>\r\n          <div className=\"text-lg font-semibold text-gray-900\">\r\n            Tổng: {formatCurrency(totalPrice)} VND\r\n          </div>\r\n          <button\r\n            onClick={handleContinue}\r\n            disabled={selectedSeats.length === 0 || loading}\r\n            className={`px-6 py-2 rounded-lg text-white transition duration-300\r\n              ${\r\n                selectedSeats.length === 0 || loading\r\n                  ? \"bg-gray-400 cursor-not-allowed\"\r\n                  : \"bg-blue-600 hover:bg-blue-700\"\r\n              }`}\r\n          >\r\n            Tiếp tục\r\n          </button>\r\n        </div>\r\n        {error && <p className=\"text-red-500 mt-2\">{error}</p>}\r\n      </div>\r\n    </Transition>\r\n  );\r\n};\r\n\r\nexport default SeatSelection;\r\n","import React, { useState, useEffect, useCallback, useRef } from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport io from 'socket.io-client';\r\nimport TripDetails from './TripDetails';\r\nimport SeatSelection from './SeatSelection';\r\nimport { useGetSeatsByTripIdQuery } from '../../../../../Redux/Trip/TripApiSlice';\r\n\r\nconst TripCard = ({ trip, isOpen, onToggle, onReleaseSeats }) => {\r\n  const navigate = useNavigate();\r\n  const socketRef = useRef(null);\r\n  const userInfo = useSelector((state) => state.user.userInfo);\r\n  const userId = userInfo?.id;\r\n  const [expandedTripId, setExpandedTripId] = useState(null);\r\n  const [selectedSeats, setSelectedSeats] = useState([]);\r\n  const [seatsData, setSeatsData] = useState({ lower: [], upper: [] }); \r\n  const [lockTimers, setLockTimers] = useState({});\r\n  const [error, setError] = useState(null);\r\n  const [loading, setLoading] = useState(false);\r\n  const [totalPrice, setTotalPrice] = useState(0);\r\n  const { data: initialSeatsData, isLoading: isLoadingSeats } = useGetSeatsByTripIdQuery(trip._id, {\r\n    skip: !isOpen,\r\n  });\r\n\r\n  const setupSocket = useCallback(() => {\r\n    try {\r\n      socketRef.current = io(process.env.REACT_APP_SOCKET_URL || 'http://localhost:5000', {\r\n        reconnection: true,\r\n        reconnectionAttempts: 5,\r\n        reconnectionDelay: 1000,\r\n      });\r\n\r\n      socketRef.current.on('connect', () => {\r\n        console.log('Connected to socket server');\r\n        if (isOpen && trip._id) {\r\n          socketRef.current.emit('joinTrip', trip._id);\r\n          console.log(`Joining trip room: ${trip._id}`);\r\n        }\r\n      });\r\n\r\n      socketRef.current.on('connect_error', (error) => {\r\n        console.error('Socket connection error:', error);\r\n        setError('Unable to connect to booking service. Please try again later.');\r\n      });\r\n\r\n      return () => {\r\n        if (socketRef.current) {\r\n          socketRef.current.disconnect();\r\n        }\r\n      };\r\n    } catch (error) {\r\n      console.error('Socket setup error:', error);\r\n      setError('Unable to initialize booking service. Please try again later.');\r\n    }\r\n  }, [trip._id, isOpen]);\r\n\r\n  useEffect(() => {\r\n    if (initialSeatsData) {\r\n      setSeatsData(initialSeatsData.data);\r\n      setError(null);\r\n    }\r\n  }, [initialSeatsData]);\r\n\r\n  useEffect(() => {\r\n    if (!socketRef.current) {\r\n      setupSocket();\r\n    }\r\n\r\n    const socket = socketRef.current;\r\n\r\n    const handleSeatLocked = ({ seatNumber, lockedBy, lockExpiration }) => {\r\n      setSeatsData((prevSeats) => ({\r\n        lower: prevSeats.lower.map((seat) =>\r\n          seat.seatNumber === seatNumber\r\n            ? { ...seat, isAvailable: false, lockedBy, lockExpiration }\r\n            : seat\r\n        ),\r\n        upper: prevSeats.upper.map((seat) =>\r\n          seat.seatNumber === seatNumber\r\n            ? { ...seat, isAvailable: false, lockedBy, lockExpiration }\r\n            : seat\r\n        ),\r\n      }));\r\n    };\r\n\r\n    const handleSeatReleased = ({ seatNumber }) => {\r\n      setSeatsData((prevSeats) => ({\r\n        lower: prevSeats.lower.map((seat) =>\r\n          seat.seatNumber === seatNumber\r\n            ? { ...seat, isAvailable: true, lockedBy: null }\r\n            : seat\r\n        ),\r\n        upper: prevSeats.upper.map((seat) =>\r\n          seat.seatNumber === seatNumber\r\n            ? { ...seat, isAvailable: true, lockedBy: null }\r\n            : seat\r\n        ),\r\n      }));\r\n    \r\n      if (lockTimers[seatNumber]) {\r\n        clearTimeout(lockTimers[seatNumber]);\r\n        setLockTimers((prev) => {\r\n          const newTimers = { ...prev };\r\n          delete newTimers[seatNumber];\r\n          return newTimers;\r\n        });\r\n      }\r\n    };\r\n\r\n    const handleError = ({ type, message }) => {\r\n      setError(message);\r\n      setLoading(false);\r\n\r\n      if (type === 'RESERVE_ERROR') {\r\n        setSelectedSeats((prev) => prev.filter((seat) => !seat.includes(message.seatNumber)));\r\n      }\r\n    };\r\n\r\n    socket.on('seatLocked', handleSeatLocked);\r\n    socket.on('seatReleased', handleSeatReleased);\r\n    socket.on('error', handleError);\r\n    socket.on('seatUnavailable', ({ seatNumber }) => {\r\n      setError(`Ghế số ${seatNumber} không khả dụng`);\r\n      setSelectedSeats((prev) => prev.filter((s) => s !== seatNumber));\r\n    });\r\n\r\n    return () => {\r\n      socket.off('seatLocked', handleSeatLocked);\r\n      socket.off('seatReleased', handleSeatReleased);\r\n      socket.off('error', handleError);\r\n      socket.off('seatUnavailable');\r\n      Object.values(lockTimers).forEach(clearTimeout);\r\n    };\r\n  }, [userId, trip._id, setupSocket, lockTimers]);\r\n\r\n  useEffect(() => {\r\n    if (isOpen) {\r\n      if (trip._id) {\r\n        socketRef.current.emit('joinTrip', trip._id);\r\n      }\r\n    }\r\n  }, [isOpen]);\r\n\r\n  // Hàm để giải phóng tất cả ghế đã chọn\r\n \r\n  const releaseSeats = () => {\r\n    selectedSeats.forEach((seatNumber) => {\r\n      socketRef.current.emit('releaseSeat', { tripId: trip._id, seatNumber });\r\n    });\r\n    setSelectedSeats([]);\r\n  };\r\n  useEffect(() => {\r\n    if (onReleaseSeats) {\r\n      onReleaseSeats(releaseSeats);\r\n    }\r\n  }, [onReleaseSeats, releaseSeats]);\r\n\r\n\r\n  \r\n  const handleSeatSelect = useCallback(\r\n    async (seatNumber) => {\r\n        if (!userId) {\r\n            setError('Vui lòng đăng nhập để chọn ghế');\r\n            return;\r\n        }\r\n\r\n        setLoading(true);\r\n        setError(null);\r\n\r\n        try {\r\n            console.log(\"Selected seat number:\", seatNumber);\r\n\r\n            if (selectedSeats.includes(seatNumber)) {\r\n                const seat = [...seatsData.lower, ...seatsData.upper].find((seat) => seat.seatNumber === seatNumber);\r\n                if (!seat.isAvailable && seat.lockedBy && seat.lockedBy !== userId) {\r\n                    setError(`Seat ${seatNumber} is temporarily reserved by another user`);\r\n                    return;\r\n                }\r\n                console.log(\"Releasing seat:\", seatNumber);\r\n                socketRef.current.emit('releaseSeat', { tripId: trip._id, seatNumber, userId });\r\n                setSelectedSeats((prev) => prev.filter((s) => s !== seatNumber));\r\n            } else {\r\n                // Chọn ghế nếu chưa chọn\r\n                console.log(\"Reserving seat:\", seatNumber);\r\n                socketRef.current.emit('reserveSeat', { tripId: trip._id, seatNumber, userId });\r\n                setSelectedSeats((prev) => [...prev, seatNumber]);\r\n            }\r\n        } catch (error) {\r\n            console.error(\"Error in seat selection:\", error);\r\n            setError('Failed to process seat selection. Please try again.');\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    },\r\n    [trip._id, userId, seatsData, selectedSeats]\r\n);\r\n\r\n  const handleContinue = useCallback(() => {\r\n    if (selectedSeats.length === 0) {\r\n      setError('Please select at least one seat to continue');\r\n      return;\r\n    }\r\n\r\n    navigate('/bookingconfirmation', {\r\n      state: {\r\n        selectedSeats,\r\n        totalPrice: calculateTotalPrice(),\r\n        trip,\r\n      },\r\n    });\r\n  }, [navigate, selectedSeats, trip]);\r\n  const calculateTotalPrice = () => {\r\n    return selectedSeats.reduce((total, seatNumber) => {\r\n      const seat = [...seatsData.lower, ...seatsData.upper].find(s => s.seatNumber === seatNumber);\r\n      return seat ? total + seat.price : total;\r\n    }, 0);\r\n  };\r\n  \r\n  useEffect(() => {\r\n    setTotalPrice(calculateTotalPrice());\r\n  }, [selectedSeats, seatsData]);\r\n  \r\n  return (\r\n    <div className=\"bg-white rounded-lg shadow-lg  hover:shadow-xl transition-shadow duration-300\">\r\n      <TripDetails trip={trip} onToggle={onToggle} isOpen={isOpen} loading={loading} />\r\n      {isOpen && (\r\n        <SeatSelection\r\n          seatsData={seatsData}\r\n          isLoadingSeats={isLoadingSeats}\r\n          handleSeatSelect={handleSeatSelect}\r\n          selectedSeats={selectedSeats}\r\n          lockTimers={lockTimers}\r\n          loading={loading}\r\n          totalPrice={calculateTotalPrice()} \r\n          handleContinue={handleContinue}\r\n          error={error}\r\n          userId={userId}\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TripCard;","import React, { useEffect, useState } from 'react';\r\nimport { useLocation, useNavigate } from 'react-router-dom';\r\nimport { useSearchTripQuery } from '../../../../Redux/Trip/TripApiSlice';\r\nimport TripCard from '../SearchResult/Trip/TripCard';\r\nimport SkeletonLoader from '../../../shared/Loader/Loader';\r\nimport { Modal, Button } from 'antd';\r\n\r\nconst SearchResults = ({ filters = {} }) => {\r\n  const location = useLocation();\r\n  const navigate = useNavigate();\r\n  // Lấy các giá trị params từ URL thay vì sử dụng state\r\n  const searchParams = new URLSearchParams(location.search);\r\n  const departureLocation = searchParams.get('departureLocation');\r\n  const arrivalLocation = searchParams.get('arrivalLocation');\r\n  const departureDate = searchParams.get('departureDate');\r\n  const returnDate = searchParams.get('returnDate');\r\n  const ticketCount = searchParams.get('ticketCount');\r\n\r\n  const [filteredTrips, setFilteredTrips] = useState([]);\r\n  const [allTrips, setAllTrips] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [selectedSeats, setSelectedSeats] = useState([]);\r\n  const [totalPrice, setTotalPrice] = useState(0);\r\n  const [tripDetails, setTripDetails] = useState(null);\r\n  const [isModalVisible, setIsModalVisible] = useState(false);\r\n\r\n  // Gọi API để tìm kiếm chuyến xe, mặc định gọi API không điều kiện\r\n  const { data: trips, error, isLoading } = useSearchTripQuery({\r\n    departureLocation,\r\n    arrivalLocation,\r\n    departureDate,\r\n    returnDate,\r\n    ticketCount,\r\n  });\r\n\r\n  // Cập nhật dữ liệu khi nhận được từ API\r\n  useEffect(() => {\r\n    if (trips?.data?.departureTrips) {\r\n      setAllTrips(trips.data.departureTrips);\r\n      setFilteredTrips(trips.data.departureTrips);\r\n    }\r\n  }, [trips]);\r\n\r\n  useEffect(() => {\r\n    setLoading(true);\r\n\r\n    const delayDebounceFn = setTimeout(() => {\r\n      const applyFilters = () => {\r\n        let filtered = [...allTrips];\r\n\r\n        // Lọc theo giá\r\n        if (filters.priceRange === 'low') {\r\n          filtered = filtered.filter(trip => trip.basePrice < 200000);\r\n        } else if (filters.priceRange === 'medium') {\r\n          filtered = filtered.filter(trip => trip.basePrice >= 200000 && trip.basePrice <= 500000);\r\n        } else if (filters.priceRange === 'high') {\r\n          filtered = filtered.filter(trip => trip.basePrice > 500000);\r\n        }\r\n\r\n        // Lọc theo nhà xe\r\n        if (filters.busOperator) {\r\n          filtered = filtered.filter(trip => trip.companyId?._id === filters.busOperator);\r\n        }\r\n\r\n        // **Lọc theo loại xe**\r\n        if (filters.busType) {\r\n          filtered = filtered.filter(trip => trip.busType._id === filters.busType);\r\n        }\r\n        \r\n\r\n        // Lọc theo giờ đi\r\n        if (filters.departureTimeRange === 'morning') {\r\n          filtered = filtered.filter(trip => {\r\n            const hour = new Date(trip.departureTime).getHours();\r\n            return hour >= 6 && hour < 12;\r\n          });\r\n        } else if (filters.departureTimeRange === 'afternoon') {\r\n          filtered = filtered.filter(trip => {\r\n            const hour = new Date(trip.departureTime).getHours();\r\n            return hour >= 12 && hour < 18;\r\n          });\r\n        }\r\n\r\n        // Sắp xếp chuyến đi\r\n        if (filters.sort === 'priceAsc') {\r\n          filtered.sort((a, b) => a.basePrice - b.basePrice);\r\n        } else if (filters.sort === 'priceDesc') {\r\n          filtered.sort((a, b) => b.basePrice - a.basePrice);\r\n        } else if (filters.sort === 'earliest') {\r\n          filtered.sort((a, b) => new Date(a.departureTime) - new Date(b.departureTime));\r\n        } else if (filters.sort === 'latest') {\r\n          filtered.sort((a, b) => new Date(b.departureTime) - new Date(a.departureTime));\r\n        }\r\n\r\n        setFilteredTrips(filtered);\r\n        setLoading(false);\r\n        if (filtered.length === 0) {\r\n          setIsModalVisible(true);\r\n        }\r\n      };\r\n\r\n      applyFilters();\r\n    }, 500);\r\n\r\n    return () => clearTimeout(delayDebounceFn);\r\n  }, [filters, allTrips]);\r\n\r\n  useEffect(() => {\r\n    if (error || (trips && trips.data.departureTrips.length === 0)) {\r\n      setIsModalVisible(true);\r\n    }\r\n  }, [error, trips]);\r\n\r\n\r\n  const handleModalOk = () => {\r\n    setIsModalVisible(false);\r\n    navigate('/yeu-cau-mo-chuyen-di');\r\n  };\r\n\r\n  const handleModalCancel = () => {\r\n    setIsModalVisible(false);\r\n  };\r\n  if (!departureLocation || !arrivalLocation || !departureDate) {\r\n    return <div>Thiếu thông tin tìm kiếm. Vui lòng thử lại.</div>;\r\n  }\r\n\r\n  if (loading || isLoading) {\r\n    return (\r\n      <div className=\"container mx-auto py-8\">\r\n        <SkeletonLoader />\r\n      </div>\r\n    );\r\n  }\r\n\r\n\r\n  const handleContinue = (seats, price, trip) => {\r\n    setSelectedSeats(seats);\r\n    setTotalPrice(price);\r\n    setTripDetails(trip);\r\n  };\r\n\r\n  return (\r\n    <div className=\"container mx-auto py-8\">\r\n      <h2 className=\"text-2xl font-bold mb-4\">Kết quả tìm kiếm chuyến xe</h2>\r\n      <div className=\"space-y-4\">\r\n        {filteredTrips.map((trip) => (\r\n          <TripCard\r\n            key={trip._id}\r\n            trip={trip}\r\n            isOpen={trip._id === tripDetails?._id}\r\n            onToggle={() => {\r\n              setTripDetails(tripDetails?._id === trip._id ? null : trip);\r\n            }}\r\n            onContinue={handleContinue}\r\n          />\r\n        ))}\r\n      </div>\r\n      <Modal\r\n        title=\"Không tìm thấy chuyến xe phù hợp\"\r\n        visible={isModalVisible}\r\n        onOk={handleModalOk}\r\n        onCancel={handleModalCancel}\r\n        okText=\"Yêu cầu mở chuyến đi\"\r\n        cancelText=\"Đóng\"\r\n      >\r\n        <p>Chúng tôi không tìm thấy chuyến xe nào phù hợp với yêu cầu của bạn.</p>\r\n        <p>\r\n          Bạn có thể yêu cầu mở chuyến đi phù hợp bằng cách nhấn vào nút\r\n          <strong> \"Yêu cầu mở chuyến đi\"</strong>.\r\n        </p>\r\n      </Modal>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SearchResults;\r\n","import moment from 'moment-timezone';\r\n\r\nconst VN_TIMEZONE = 'Asia/Ho_Chi_Minh';\r\n\r\nexport const timeUtils = {\r\n  parseUTCTimeForForm: (utcTimeString) => {\r\n    if (!utcTimeString) return new Date();\r\n    return new Date(utcTimeString);\r\n  },\r\n\r\n  formatTimeForServer: (localDate) => {\r\n    if (!localDate) return null;\r\n    return moment(localDate).utc().format();\r\n  },\r\n\r\n  formatDisplayTime: (utcTimeString) => {\r\n    if (!utcTimeString) return '';\r\n    return moment(utcTimeString).tz(VN_TIMEZONE).format('DD/MM/YYYY HH:mm');\r\n  }\r\n};\r\nexport const formatCurrency = (value) => {\r\n  if (!value) return '0 VND';\r\n  return new Intl.NumberFormat('vi-VN', { style: 'currency', currency: 'VND' }).format(value);\r\n};\r\n"],"names":["CustomArrow","_ref2","direction","onClick","_jsx","className","children","fill","stroke","viewBox","strokeLinecap","strokeLinejoin","strokeWidth","d","_ref","trip","activeTab","setActiveTab","mainSliderRef","useRef","thumbnailSliderRef","_jsxs","map","tab","index","renderTabContent","pickupPoints","length","point","time","location","dropOffPoints","fillRule","clipRule","mainSliderSettings","dots","arrows","infinite","speed","slidesToShow","slidesToScroll","asNavFor","current","fade","nextArrow","prevArrow","thumbnailSliderSettings","focusOnSelect","centerMode","centerPadding","Slider","ref","busType","images","image","src","alt","companyId","feedbacks","feedback","fullName","toUpperCase","Array","_","i","rating","comment","Date","createdAt","toLocaleDateString","onToggle","loading","isDetailsVisible","setIsDetailsVisible","useState","isModalVisible","setIsModalVisible","mainImage","handleViewMoreImages","instantConfirmation","name","sanitizedRating","Math","max","min","Number","fullStars","floor","halfStars","emptyStars","BsStarFill","BsStarHalf","BsStar","renderStars","averageRating","totalReviews","description","seats","departureTime","toLocaleTimeString","hour","minute","departureLocation","round","arrivalTime","arrivalLocation","formatCurrency","basePrice","discount","originalPrice","availableSeats","handleToggleTrip","disabled","TripDetailsTabs","Modal","visible","footer","onCancel","handleCloseModal","title","seatsData","isLoadingSeats","handleSeatSelect","selectedSeats","lockTimers","totalPrice","handleContinue","error","userId","getSeatStyle","seat","seatNumber","includes","lockedBy","isAvailable","renderSeatsByRow","floorLabel","seatsByRow","rows","Front","Middle","Back","forEach","seatRow","push","groupSeatsByRow","Object","entries","rowName","seatsInRow","style","gridTemplateColumns","RiArmchairLine","size","Clock","_id","Transition","show","enter","enterFrom","enterTo","leave","leaveFrom","leaveTo","upper","lower","join","isOpen","onReleaseSeats","navigate","useNavigate","socketRef","userInfo","useSelector","state","user","id","expandedTripId","setExpandedTripId","setSelectedSeats","setSeatsData","setLockTimers","setError","setLoading","setTotalPrice","data","initialSeatsData","isLoading","useGetSeatsByTripIdQuery","skip","setupSocket","useCallback","io","process","reconnection","reconnectionAttempts","reconnectionDelay","on","console","log","emit","disconnect","useEffect","socket","handleSeatLocked","lockExpiration","prevSeats","handleSeatReleased","_ref3","clearTimeout","prev","newTimers","handleError","_ref4","type","message","filter","_ref5","s","off","values","releaseSeats","tripId","async","find","calculateTotalPrice","reduce","total","price","TripDetails","SeatSelection","filters","useLocation","searchParams","URLSearchParams","search","get","departureDate","returnDate","ticketCount","filteredTrips","setFilteredTrips","allTrips","setAllTrips","tripDetails","setTripDetails","trips","useSearchTripQuery","_trips$data","departureTrips","delayDebounceFn","setTimeout","applyFilters","filtered","priceRange","busOperator","_trip$companyId","departureTimeRange","getHours","sort","a","b","SkeletonLoader","TripCard","onContinue","onOk","handleModalOk","handleModalCancel","okText","cancelText","timeUtils","parseUTCTimeForForm","utcTimeString","formatTimeForServer","localDate","moment","utc","format","formatDisplayTime","tz","value","Intl","NumberFormat","currency"],"sourceRoot":""}