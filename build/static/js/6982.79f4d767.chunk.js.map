{"version":3,"file":"static/js/6982.79f4d767.chunk.js","mappings":"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","sources":["components/home/components/Booking/CountdownTimer.js","components/home/components/Booking/VoucherList.js","components/home/components/Booking/PaymentMethod.js","components/shared/Notification/Notification.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\n\r\nconst CountdownTimer = ({ endTime, onTimeout }) => {\r\n    const [timeLeft, setTimeLeft] = useState(0);\r\n\r\n    useEffect(() => {\r\n        const endTimestamp = new Date(endTime).getTime();\r\n        const calculateTimeLeft = () => Math.max(0, Math.floor((endTimestamp - Date.now()) / 1000));\r\n        \r\n        setTimeLeft(calculateTimeLeft());\r\n\r\n        const timerId = setInterval(() => {\r\n            setTimeLeft(prevTime => {\r\n                const newTime = calculateTimeLeft();\r\n                if (newTime <= 0) {\r\n                    clearInterval(timerId);\r\n                    onTimeout();\r\n                }\r\n                return newTime;\r\n            });\r\n        }, 1000);\r\n\r\n        return () => clearInterval(timerId);\r\n    }, [endTime, onTimeout]);\r\n\r\n    const minutes = String(Math.floor(timeLeft / 60)).padStart(2, '0');\r\n    const seconds = String(timeLeft % 60).padStart(2, '0');\r\n\r\n    return (\r\n        <div className=\"w-full text-center font-bold mb-8 p-4 rounded-lg shadow-lg flex flex-col items-center\"\r\n             style={{\r\n                 background: 'linear-gradient(135deg, #3a8dff, #1e40af)',\r\n                 color: 'white',\r\n                 borderRadius: '8px',\r\n                 boxShadow: '0 6px 12px rgba(0, 0, 0, 0.2)',\r\n             }}\r\n        >\r\n            <p className=\"text-lg tracking-wide\" style={{ marginBottom: '8px' }}>Thời gian thanh toán còn lại</p>\r\n            <div className=\"bg-white text-red-600 font-extrabold text-5xl px-6 py-2 rounded-md shadow-md inline-block\"\r\n                 style={{\r\n                     boxShadow: '0 4px 15px rgba(0, 0, 0, 0.1)',\r\n                     fontFamily: 'monospace',\r\n                 }}\r\n            >\r\n                {minutes}:{seconds}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default CountdownTimer;\r\n","import React from 'react';\r\nimport { FaTag, FaPercent, FaCalendarAlt } from 'react-icons/fa';\r\nimport { useGetAllVouchersQuery } from '../../../../Redux/User/apiSlice';\r\n\r\nconst VoucherList = ({ onSelectVoucher }) => {\r\n    const { data: vouchers, isLoading: isVouchersLoading, isError } = useGetAllVouchersQuery();\r\n\r\n    return (\r\n        <div className=\"mb-6\">\r\n            <h3 className=\"text-2xl font-semibold text-gray-800 mb-6\">Voucher của bạn</h3>\r\n            {isVouchersLoading ? (\r\n                <p>Đang tải danh sách voucher...</p>\r\n            ) : isError ? (\r\n                <p className=\"text-red-500\">Không thể tải danh sách voucher. Vui lòng thử lại.</p>\r\n            ) : (\r\n                <ul className=\"space-y-4\">\r\n                    {vouchers?.map(voucher => (\r\n                        <li \r\n                            key={voucher._id} \r\n                            className=\"flex items-center p-4 border border-gray-200 rounded-lg shadow-md bg-white hover:bg-gray-50 cursor-pointer transition duration-200\"\r\n                            onClick={() => onSelectVoucher(voucher)}\r\n                        >\r\n                            <div className=\"flex-shrink-0 text-blue-500 mr-4\">\r\n                                <FaTag size={24} />\r\n                            </div>\r\n                            <div className=\"flex-1\">\r\n                                <p className=\"text-lg font-medium text-gray-700 mb-1\">Mã: {voucher.code}</p>\r\n                                <div className=\"flex items-center text-sm text-gray-500 space-x-4\">\r\n                                    <div className=\"flex items-center\">\r\n                                        <FaPercent className=\"mr-1 text-yellow-500\" />\r\n                                        <span>Giảm giá: {voucher.discount}%</span>\r\n                                    </div>\r\n                                    <div className=\"flex items-center\">\r\n                                        <FaCalendarAlt className=\"mr-1 text-red-500\" />\r\n                                        <span>HSD: {new Date(voucher.expiryDate).toLocaleDateString('vi-VN')}</span>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </li>\r\n                    ))}\r\n                </ul>\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default VoucherList;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { useLocation, useNavigate } from 'react-router-dom';\r\nimport { FaQrcode, FaTicketAlt, FaLink, FaMoneyCheckAlt } from 'react-icons/fa';\r\nimport { useCreateBookingMutation } from '../../../../Redux/Booking/bookingApiSlice';\r\nimport QRCode from 'qrcode';\r\nimport Notification from '../../../shared/Notification/Notification';\r\nimport CountdownTimer from './CountdownTimer';\r\nimport VoucherList from './VoucherList';\r\n\r\n\r\nconst PaymentMethods = () => {\r\n    const location = useLocation();\r\n    const navigate = useNavigate();\r\n    const [selectedVoucher, setSelectedVoucher] = useState(null);\r\n    const { selectedSeats, totalPrice: originalTotalPrice, trip, bookingId, expiryTime } = location.state || {};\r\n    const [paymentMethod, setPaymentMethod] = useState(null);\r\n    const [createBooking, { isLoading, isError, data, isSuccess }] = useCreateBookingMutation();\r\n    const [isVoucherListVisible, setVoucherListVisible] = useState(false);\r\n    const [confirmDialog, setConfirmDialog] = useState(false);\r\n\r\n    \r\n    const [notification, setNotification] = useState({\r\n        open: false,\r\n        message: '',\r\n        severity: 'success', \r\n    });\r\n\r\n    // Calculate the discounted price based on the selected voucher\r\n    const discountedPrice = selectedVoucher\r\n        ? originalTotalPrice - (originalTotalPrice * selectedVoucher.discount) / 100\r\n        : originalTotalPrice;\r\n\r\n    const showNotification = (message, severity = 'success') => {\r\n        setNotification({ open: true, message, severity });\r\n    };\r\n\r\n    const closeNotification = () => {\r\n        setNotification({ ...notification, open: false });\r\n    };\r\n\r\n    const handleTimeout = () => {\r\n        setConfirmDialog(true);\r\n    };\r\n\r\n    const handleConfirmReturn = () => {\r\n        navigate(-1);\r\n    };\r\n\r\n    const handleCancelReturn = () => {\r\n        setConfirmDialog(false);\r\n    };\r\n\r\n    useEffect(() => {\r\n        if (isSuccess && paymentMethod === 'OnBoard') {\r\n            showNotification('Đặt chỗ thành công! Bạn sẽ thanh toán khi lên xe.');\r\n            navigate('/user/ticket-buy'); \r\n        }\r\n    }, [isSuccess, paymentMethod, navigate]);\r\n\r\n    const handleBooking = async () => {\r\n        if (!paymentMethod) {\r\n            showNotification('Vui lòng chọn phương thức thanh toán', 'error');\r\n            return;\r\n        }\r\n\r\n        if (!bookingId) {\r\n            showNotification('Dữ liệu không hợp lệ', 'error');\r\n            return;\r\n        }\r\n\r\n        const bookingData = {\r\n            bookingId,\r\n            paymentMethod,\r\n            voucherCode: selectedVoucher?.code || null,\r\n        };\r\n\r\n        try {\r\n            const result = await createBooking(bookingData).unwrap();\r\n            if (paymentMethod === 'Online') {\r\n                showNotification('Đặt chỗ thành công! Vui lòng nhấn vào liên kết để thanh toán...', 'success');\r\n                setTimeout(() => {\r\n                    window.open(result.data.paymentLink, \"_self\");\r\n                }, 2000);\r\n            }\r\n        }\r\n        catch (error) {\r\n            console.error('Lỗi khi đặt chỗ:', error);\r\n            showNotification('Có lỗi xảy ra khi đặt chỗ. Vui lòng thử lại.', 'error');\r\n        }\r\n    };\r\n\r\n    const handlePaymentRedirect = () => {\r\n        if (data?.data?.paymentLink) {\r\n            window.open(data.data.paymentLink, \"_self\");\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"container mx-auto p-6 bg-gray-50 min-h-screen\">\r\n            <CountdownTimer endTime={expiryTime} onTimeout={handleTimeout} />\r\n\r\n            <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\r\n                <div className=\"lg:col-span-2 bg-white p-8 rounded-xl shadow-lg\">\r\n                    <h1 className=\"text-2xl font-semibold text-gray-800 mb-6\">Phương thức thanh toán</h1>\r\n                    \r\n                    {/* Online Payment Option */}\r\n                    <div \r\n                        className={`mb-6 border rounded-lg p-6 flex items-center cursor-pointer hover:shadow-md ${paymentMethod === 'Online' ? 'border-blue-500 bg-blue-50' : 'border-gray-300'}`}\r\n                        onClick={() => setPaymentMethod('Online')}\r\n                    >\r\n                        <FaQrcode className=\"text-3xl text-blue-500 mr-4\" />\r\n                        <div>\r\n                            <input \r\n                                type=\"radio\" \r\n                                id=\"qr\" \r\n                                name=\"payment\" \r\n                                className=\"mr-3 mt-1\" \r\n                                checked={paymentMethod === 'Online'} \r\n                                onChange={() => setPaymentMethod('Online')} \r\n                            />\r\n                            <label htmlFor=\"qr\" className=\"text-lg font-medium text-gray-700\">QR chuyển khoản / Ví điện tử</label>\r\n                        </div>\r\n                    </div>\r\n\r\n                    {/* OnBoard Payment Option */}\r\n                    <div \r\n                        className={`mb-6 border rounded-lg p-6 flex items-center cursor-pointer hover:shadow-md ${paymentMethod === 'OnBoard' ? 'border-green-500 bg-green-50' : 'border-gray-300'}`}\r\n                        onClick={() => setPaymentMethod('OnBoard')}\r\n                    >\r\n                        <FaMoneyCheckAlt className=\"text-3xl text-green-500 mr-4\" />\r\n                        <div>\r\n                            <input \r\n                                type=\"radio\" \r\n                                id=\"onboard\" \r\n                                name=\"payment\" \r\n                                className=\"mr-3 mt-1\" \r\n                                checked={paymentMethod === 'OnBoard'} \r\n                                onChange={() => setPaymentMethod('OnBoard')} \r\n                            />\r\n                            <label htmlFor=\"onboard\" className=\"text-lg font-medium text-gray-700\">Thanh toán khi lên xe</label>\r\n                        </div>\r\n                    </div>\r\n\r\n                    {isError && <p className=\"text-red-500 mt-4\">Đã có lỗi xảy ra. Vui lòng thử lại.</p>}\r\n                    {!isSuccess && (\r\n                        <button \r\n                            className=\"w-full bg-yellow-500 text-white font-semibold py-3 rounded-lg hover:bg-yellow-600 flex items-center justify-center mt-4\"\r\n                            onClick={handleBooking}\r\n                            disabled={isLoading}\r\n                        >\r\n                            <FaTicketAlt className=\"mr-2\" /> {isLoading ? 'Đang đặt chỗ...' : 'Đặt chỗ'}\r\n                        </button>\r\n                    )}\r\n                </div>\r\n\r\n                <div className=\"bg-white p-8 rounded-xl shadow-lg\">\r\n                    <h2 className=\"text-2xl font-semibold text-gray-800 mb-6\">Thông tin thanh toán</h2>\r\n                    <button \r\n                        className=\"w-full bg-blue-500 text-white font-semibold py-2 rounded-lg hover:bg-blue-600 transition duration-300 mb-4\"\r\n                        onClick={() => setVoucherListVisible(!isVoucherListVisible)}\r\n                    >\r\n                        {isVoucherListVisible ? 'Ẩn voucher' : 'Hiển thị voucher'}\r\n                    </button>\r\n\r\n                    <div className={`transition-all duration-300 ease-in-out transform ${isVoucherListVisible ? 'opacity-100 translate-y-0' : 'opacity-0 -translate-y-4 pointer-events-none'}`}>\r\n                        {isVoucherListVisible && (\r\n                            <VoucherList onSelectVoucher={(voucher) => {\r\n                                setSelectedVoucher(voucher);\r\n                                setVoucherListVisible(false); \r\n                            }} />\r\n                        )}\r\n                    </div>\r\n                    {selectedVoucher && (\r\n                        <div className=\"mt-4 p-4 bg-gray-100 border border-gray-200 rounded-lg\">\r\n                            <p className=\"text-sm text-gray-600\">Voucher áp dụng: <span className=\"font-semibold\">{selectedVoucher.code}</span></p>\r\n                            <p className=\"text-sm text-gray-600\">Giảm giá: <span className=\"font-semibold\">{selectedVoucher.discount}%</span></p>\r\n                        </div>\r\n                    )}\r\n\r\n                    <div className=\"mt-6 p-6 border rounded-lg shadow-sm bg-gray-100 flex items-center justify-between\">\r\n                        <div>\r\n                            <h2 className=\"text-lg font-semibold text-gray-700 mb-2\">Tổng tiền</h2>\r\n                            <p className=\"text-2xl font-bold text-blue-600\">{discountedPrice ? `${discountedPrice.toLocaleString('vi-VN')} VND` : 'Chưa có thông tin giá'}</p>\r\n                        </div>\r\n                        <FaMoneyCheckAlt className=\"text-4xl text-blue-600\" />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <Notification\r\n                open={notification.open}\r\n                onClose={closeNotification}\r\n                severity={notification.severity}\r\n                message={notification.message}\r\n            />\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default PaymentMethods;\r\n","import React from 'react';\r\nimport Snackbar from '@mui/material/Snackbar';\r\nimport MuiAlert from '@mui/material/Alert';\r\nimport Slide from '@mui/material/Slide';\r\nconst Alert = React.forwardRef(function Alert(props, ref) {\r\n  return <MuiAlert elevation={6} ref={ref} variant=\"filled\" {...props} />;\r\n});\r\n\r\nconst Notification = ({ open, onClose, severity, message, autoHideDuration = 3000, TransitionComponent = Slide }) => {\r\n  return (\r\n    <Snackbar\r\n      open={open}\r\n      autoHideDuration={autoHideDuration}\r\n      onClose={onClose}\r\n      TransitionComponent={TransitionComponent}\r\n      anchorOrigin={{ vertical: 'top', horizontal: 'right' }} \r\n    >\r\n      <Alert onClose={onClose} severity={severity} sx={{ width: '100%' }}>\r\n        {message}\r\n      </Alert>\r\n    </Snackbar>\r\n  );\r\n};\r\nexport default Notification;\r\n"],"names":["_ref","endTime","onTimeout","timeLeft","setTimeLeft","useState","useEffect","endTimestamp","Date","getTime","calculateTimeLeft","Math","max","floor","now","timerId","setInterval","prevTime","newTime","clearInterval","minutes","String","padStart","seconds","_jsxs","className","style","background","color","borderRadius","boxShadow","children","_jsx","marginBottom","fontFamily","onSelectVoucher","data","vouchers","isLoading","isVouchersLoading","isError","useGetAllVouchersQuery","map","voucher","onClick","FaTag","size","code","FaPercent","discount","FaCalendarAlt","expiryDate","toLocaleDateString","_id","PaymentMethods","location","useLocation","navigate","useNavigate","selectedVoucher","setSelectedVoucher","selectedSeats","totalPrice","originalTotalPrice","trip","bookingId","expiryTime","state","paymentMethod","setPaymentMethod","createBooking","isSuccess","useCreateBookingMutation","isVoucherListVisible","setVoucherListVisible","confirmDialog","setConfirmDialog","notification","setNotification","open","message","severity","discountedPrice","showNotification","arguments","length","undefined","CountdownTimer","handleTimeout","FaQrcode","type","id","name","checked","onChange","htmlFor","FaMoneyCheckAlt","async","bookingData","voucherCode","result","unwrap","setTimeout","window","paymentLink","error","console","disabled","FaTicketAlt","VoucherList","toLocaleString","Notification","onClose","closeNotification","Alert","React","props","ref","MuiAlert","elevation","variant","autoHideDuration","TransitionComponent","Slide","Snackbar","anchorOrigin","vertical","horizontal","sx","width"],"sourceRoot":""}