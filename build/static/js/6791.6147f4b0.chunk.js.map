{"version":3,"file":"static/js/6791.6147f4b0.chunk.js","mappings":"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","sources":["components/home/components/SearchResult/Trip/TripDetails.js","../node_modules/@headlessui/react/dist/components/transition/transition.js","../node_modules/@headlessui/react/dist/hooks/use-is-mounted.js","../node_modules/lucide-react/src/icons/clock.ts","components/home/components/SearchResult/Trip/SeatSelection.js","components/home/components/SearchResult/Trip/TripCard.js","components/home/components/SearchResult/SearchResults.js","utils/formatUtils.js","../node_modules/shared/src/utils.ts","../node_modules/lucide-react/src/defaultAttributes.ts","../node_modules/lucide-react/src/Icon.ts","../node_modules/lucide-react/src/createLucideIcon.ts"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { Modal } from 'antd';\r\nimport { formatCurrency } from 'utils/formatUtils';\r\n\r\nconst TripDetails = ({ trip, onToggle, isOpen, loading }) => {\r\n  const [isModalVisible, setIsModalVisible] = useState(false);\r\n\r\n  // Use the first image if available, otherwise use a fallback image\r\n  const mainImage = trip.busType.images && trip.busType.images.length > 0\r\n    ? trip.busType.images[0]\r\n    : \"https://static.vexere.com/production/images/1702527338553.jpeg\"; // Fallback image\r\n\r\n  const handleViewMore = () => {\r\n    setIsModalVisible(true);\r\n  };\r\n\r\n  const handleCloseModal = () => {\r\n    setIsModalVisible(false);\r\n  };\r\n\r\n  return (\r\n    <div className=\"bg-white shadow-lg rounded-lg p-4 mb-4\">\r\n      {/* Thời gian và địa điểm khởi hành - đến */}\r\n      <div className=\"flex justify-between items-center border-b pb-3\">\r\n        <div className=\"flex flex-col items-start text-left\">\r\n          <p className=\"text-lg font-semibold text-gray-800\">\r\n            {new Date(trip.departureTime).toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })}\r\n          </p>\r\n          <p className=\"text-xl text-gray-600\">{trip.departureLocation.name}</p>\r\n        </div>\r\n\r\n        <div className=\"text-center text-gray-500 text-sm\">\r\n          <p>{Math.round((new Date(trip.arrivalTime) - new Date(trip.departureTime)) / 3600000)} giờ</p>\r\n        </div>\r\n\r\n        <div className=\"flex flex-col items-end text-right\">\r\n          <p className=\"text-lg font-semibold text-gray-800\">\r\n            {new Date(trip.arrivalTime).toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })}\r\n          </p>\r\n          <p className=\"text-xl text-gray-600\">{trip.arrivalLocation.name}</p>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Thông tin hình ảnh, loại xe và số ghế trống */}\r\n      <div className=\"flex justify-between items-center mt-3\">\r\n        {/* Hình ảnh xe, ẩn trên màn hình nhỏ */}\r\n        <div className=\"relative flex-shrink-0 hidden sm:block w-24 h-24 rounded-lg overflow-hidden\">\r\n          <img\r\n            src={mainImage}\r\n            alt=\"Bus\"\r\n            className=\"w-full h-full object-cover\"\r\n          />\r\n          {trip.busType.images && trip.busType.images.length > 1 && (\r\n            <button\r\n              onClick={handleViewMore}\r\n              className=\"absolute top-1 left-1 bg-blue-500 text-white text-xs px-2 py-1 rounded\"\r\n            >\r\n              Xem Thêm\r\n            </button>\r\n          )}\r\n        </div>\r\n\r\n        <div className=\"flex flex-col items-start sm:ml-4 flex-1\">\r\n          <h3 className=\"font-semibold text-lg sm:text-base\">{trip.busType.name}</h3>\r\n          <p className=\"mt-2 text-green-600\">{trip.availableSeats} ghế còn trống</p>\r\n        </div>\r\n\r\n        {/* Giá vé */}\r\n        <div className=\"text-right\">\r\n          <p className=\"text-xl font-bold text-blue-600\">\r\n            {formatCurrency(trip.basePrice)} VND\r\n          </p>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Nút chọn chuyến */}\r\n      <div className=\"flex justify-between items-center mt-4\">\r\n        <button\r\n          onClick={onToggle}\r\n          className=\"w-full sm:w-auto bg-yellow-500 text-white px-4 py-2 rounded-lg hover:bg-yellow-600 transition duration-300\"\r\n          disabled={loading}\r\n        >\r\n          {isOpen ? 'Ẩn chi tiết' : 'Chọn chuyến'}\r\n        </button>\r\n        <p className=\"text-xs text-gray-500 mt-2 sm:mt-0 pl-3\">KHÔNG YÊU CẦU THANH TOÁN TRƯỚC</p>\r\n      </div>\r\n      <Modal\r\n        visible={isModalVisible}\r\n        footer={null}\r\n        onCancel={handleCloseModal}\r\n        title=\"Hình Ảnh Xe\"\r\n      >\r\n        <div className=\"flex flex-wrap gap-4\">\r\n          {trip.busType.images && trip.busType.images.map((image, index) => (\r\n            <img\r\n              key={index}\r\n              src={image}\r\n              alt={`Bus image ${index + 1}`}\r\n              className=\"w-32 h-32 object-cover rounded-lg\"\r\n            />\r\n          ))}\r\n        </div>\r\n      </Modal>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TripDetails;\r\n","\"use client\";import f,{Fragment as O,createContext as ne,useContext as q,useEffect as he,useMemo as ie,useRef as E,useState as V}from\"react\";import{useDisposables as ge}from'../../hooks/use-disposables.js';import{useEvent as S}from'../../hooks/use-event.js';import{useIsMounted as ve}from'../../hooks/use-is-mounted.js';import{useIsoMorphicEffect as H}from'../../hooks/use-iso-morphic-effect.js';import{useLatestValue as be}from'../../hooks/use-latest-value.js';import{useServerHandoffComplete as re}from'../../hooks/use-server-handoff-complete.js';import{useSyncRefs as oe}from'../../hooks/use-sync-refs.js';import{transitionDataAttributes as Ee,useTransition as Se}from'../../hooks/use-transition.js';import{OpenClosedProvider as ye,State as N,useOpenClosed as se}from'../../internal/open-closed.js';import{classNames as Re}from'../../utils/class-names.js';import{match as le}from'../../utils/match.js';import{RenderFeatures as Pe,RenderStrategy as x,compact as xe,forwardRefWithAs as J,render as ae}from'../../utils/render.js';function ue(e){var t;return!!(e.enter||e.enterFrom||e.enterTo||e.leave||e.leaveFrom||e.leaveTo)||((t=e.as)!=null?t:de)!==O||f.Children.count(e.children)===1}let w=ne(null);w.displayName=\"TransitionContext\";var Ne=(n=>(n.Visible=\"visible\",n.Hidden=\"hidden\",n))(Ne||{});function _e(){let e=q(w);if(e===null)throw new Error(\"A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.\");return e}function De(){let e=q(M);if(e===null)throw new Error(\"A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.\");return e}let M=ne(null);M.displayName=\"NestingContext\";function U(e){return\"children\"in e?U(e.children):e.current.filter(({el:t})=>t.current!==null).filter(({state:t})=>t===\"visible\").length>0}function Te(e,t){let n=be(e),l=E([]),y=ve(),R=ge(),T=S((o,i=x.Hidden)=>{let a=l.current.findIndex(({el:s})=>s===o);a!==-1&&(le(i,{[x.Unmount](){l.current.splice(a,1)},[x.Hidden](){l.current[a].state=\"hidden\"}}),R.microTask(()=>{var s;!U(l)&&y.current&&((s=n.current)==null||s.call(n))}))}),P=S(o=>{let i=l.current.find(({el:a})=>a===o);return i?i.state!==\"visible\"&&(i.state=\"visible\"):l.current.push({el:o,state:\"visible\"}),()=>T(o,x.Unmount)}),p=E([]),m=E(Promise.resolve()),C=E({enter:[],leave:[]}),h=S((o,i,a)=>{p.current.splice(0),t&&(t.chains.current[i]=t.chains.current[i].filter(([s])=>s!==o)),t==null||t.chains.current[i].push([o,new Promise(s=>{p.current.push(s)})]),t==null||t.chains.current[i].push([o,new Promise(s=>{Promise.all(C.current[i].map(([r,d])=>d)).then(()=>s())})]),i===\"enter\"?m.current=m.current.then(()=>t==null?void 0:t.wait.current).then(()=>a(i)):a(i)}),g=S((o,i,a)=>{Promise.all(C.current[i].splice(0).map(([s,r])=>r)).then(()=>{var s;(s=p.current.shift())==null||s()}).then(()=>a(i))});return ie(()=>({children:l,register:P,unregister:T,onStart:h,onStop:g,wait:m,chains:C}),[P,T,l,h,g,C,m])}let de=O,fe=Pe.RenderStrategy;function He(e,t){var ee,te;let{transition:n=!0,beforeEnter:l,afterEnter:y,beforeLeave:R,afterLeave:T,enter:P,enterFrom:p,enterTo:m,entered:C,leave:h,leaveFrom:g,leaveTo:o,...i}=e,[a,s]=V(null),r=E(null),d=ue(e),j=oe(...d?[r,t,s]:t===null?[]:[t]),v=(ee=i.unmount)==null||ee?x.Unmount:x.Hidden,{show:c,appear:z,initial:K}=_e(),[b,G]=V(c?\"visible\":\"hidden\"),Q=De(),{register:A,unregister:I}=Q;H(()=>A(r),[A,r]),H(()=>{if(v===x.Hidden&&r.current){if(c&&b!==\"visible\"){G(\"visible\");return}return le(b,{[\"hidden\"]:()=>I(r),[\"visible\"]:()=>A(r)})}},[b,r,A,I,c,v]);let B=re();H(()=>{if(d&&B&&b===\"visible\"&&r.current===null)throw new Error(\"Did you forget to passthrough the `ref` to the actual DOM node?\")},[r,b,B,d]);let ce=K&&!z,Y=z&&c&&K,W=E(!1),L=Te(()=>{W.current||(G(\"hidden\"),I(r))},Q),Z=S(k=>{W.current=!0;let F=k?\"enter\":\"leave\";L.onStart(r,F,D=>{D===\"enter\"?l==null||l():D===\"leave\"&&(R==null||R())})}),$=S(k=>{let F=k?\"enter\":\"leave\";W.current=!1,L.onStop(r,F,D=>{D===\"enter\"?y==null||y():D===\"leave\"&&(T==null||T())}),F===\"leave\"&&!U(L)&&(G(\"hidden\"),I(r))});he(()=>{d&&n||(Z(c),$(c))},[c,d,n]);let pe=(()=>!(!n||!d||!B||ce))(),[,u]=Se(pe,a,c,{start:Z,end:$}),Ce=xe({ref:j,className:((te=Re(i.className,Y&&P,Y&&p,u.enter&&P,u.enter&&u.closed&&p,u.enter&&!u.closed&&m,u.leave&&h,u.leave&&!u.closed&&g,u.leave&&u.closed&&o,!u.transition&&c&&C))==null?void 0:te.trim())||void 0,...Ee(u)}),_=0;return b===\"visible\"&&(_|=N.Open),b===\"hidden\"&&(_|=N.Closed),u.enter&&(_|=N.Opening),u.leave&&(_|=N.Closing),f.createElement(M.Provider,{value:L},f.createElement(ye,{value:_},ae({ourProps:Ce,theirProps:i,defaultTag:de,features:fe,visible:b===\"visible\",name:\"Transition.Child\"})))}function Ae(e,t){let{show:n,appear:l=!1,unmount:y=!0,...R}=e,T=E(null),P=ue(e),p=oe(...P?[T,t]:t===null?[]:[t]);re();let m=se();if(n===void 0&&m!==null&&(n=(m&N.Open)===N.Open),n===void 0)throw new Error(\"A <Transition /> is used but it is missing a `show={true | false}` prop.\");let[C,h]=V(n?\"visible\":\"hidden\"),g=Te(()=>{n||h(\"hidden\")}),[o,i]=V(!0),a=E([n]);H(()=>{o!==!1&&a.current[a.current.length-1]!==n&&(a.current.push(n),i(!1))},[a,n]);let s=ie(()=>({show:n,appear:l,initial:o}),[n,l,o]);H(()=>{n?h(\"visible\"):!U(g)&&T.current!==null&&h(\"hidden\")},[n,g]);let r={unmount:y},d=S(()=>{var v;o&&i(!1),(v=e.beforeEnter)==null||v.call(e)}),j=S(()=>{var v;o&&i(!1),(v=e.beforeLeave)==null||v.call(e)});return f.createElement(M.Provider,{value:g},f.createElement(w.Provider,{value:s},ae({ourProps:{...r,as:O,children:f.createElement(me,{ref:p,...r,...R,beforeEnter:d,beforeLeave:j})},theirProps:{},defaultTag:O,features:fe,visible:C===\"visible\",name:\"Transition\"})))}function Ie(e,t){let n=q(w)!==null,l=se()!==null;return f.createElement(f.Fragment,null,!n&&l?f.createElement(X,{ref:t,...e}):f.createElement(me,{ref:t,...e}))}let X=J(Ae),me=J(He),Le=J(Ie),Xe=Object.assign(X,{Child:Le,Root:X});export{Xe as Transition,Le as TransitionChild};\n","import{useRef as r}from\"react\";import{useIsoMorphicEffect as t}from'./use-iso-morphic-effect.js';function f(){let e=r(!1);return t(()=>(e.current=!0,()=>{e.current=!1}),[]),e}export{f as useIsMounted};\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Clock\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjEyIiByPSIxMCIgLz4KICA8cG9seWxpbmUgcG9pbnRzPSIxMiA2IDEyIDEyIDE2IDE0IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/clock\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Clock = createLucideIcon('Clock', [\n  ['circle', { cx: '12', cy: '12', r: '10', key: '1mglay' }],\n  ['polyline', { points: '12 6 12 12 16 14', key: '68esgv' }],\n]);\n\nexport default Clock;\n","import React from \"react\";\r\nimport { Transition } from \"@headlessui/react\";\r\nimport { Clock } from \"lucide-react\";\r\nimport { FaChair } from \"react-icons/fa\";\r\nimport { formatCurrency } from \"utils/formatUtils\";\r\n\r\nconst SeatSelection = ({\r\n  seatsData,\r\n  isLoadingSeats,\r\n  handleSeatSelect,\r\n  selectedSeats,\r\n  lockTimers,\r\n  loading,\r\n  totalPrice,\r\n  handleContinue,\r\n  error,\r\n  userId,\r\n}) => {\r\n  const getSeatStyle = (seat) => {\r\n    if (seat.seatNumber === 1) {\r\n      return \"text-gray-500 cursor-not-allowed\"; // Ghế không khả dụng\r\n    }\r\n    if (selectedSeats.includes(seat.seatNumber)) {\r\n      return \"text-green-500\";\r\n    }\r\n    if (!seat.isAvailable) {\r\n      return \"text-red-500\"; \r\n    }\r\n    if (seat.lockedBy && seat.lockedBy !== userId) {\r\n      return \"text-orange-500\";\r\n    }\r\n    if ([2, 3, 4, 5, 6].includes(seat.seatNumber)) {\r\n      return \"text-yellow-500\"; // Ghế VIP\r\n    }\r\n    return \"text-green-300\"; // Ghế có sẵn\r\n  };\r\n\r\n  const renderSeats = (seats, floorLabel) => {\r\n    const numColumns = seats.length < 5 ? seats.length : 5;\r\n\r\n    return (\r\n      <div className=\"mb-4\">\r\n        <h4 className=\"font-semibold text-center mb-3 text-gray-700\">\r\n          {floorLabel}\r\n        </h4>\r\n        <div\r\n          className=\"grid gap-3 mx-auto\"\r\n          style={{\r\n            gridTemplateColumns: `repeat(${numColumns}, minmax(0, 1fr))`,\r\n          }}\r\n        >\r\n          {seats.map((seat) => (\r\n            <button\r\n              key={seat._id}\r\n              onClick={() => handleSeatSelect(seat.seatNumber)}\r\n              disabled={loading}\r\n              className={`text-2xl cursor-pointer ${getSeatStyle(seat)}`}\r\n            >\r\n              <FaChair />\r\n              {lockTimers[seat.seatNumber] && (\r\n                <Clock className=\"absolute -top-1 -right-1 h-4 w-4\" />\r\n              )}\r\n            </button>\r\n          ))}\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <Transition\r\n      show\r\n      enter=\"transition-opacity duration-300\"\r\n      enterFrom=\"opacity-0\"\r\n      enterTo=\"opacity-100\"\r\n      leave=\"transition-opacity duration-300\"\r\n      leaveFrom=\"opacity-100\"\r\n      leaveTo=\"opacity-0\"\r\n    >\r\n      <div className=\"border-t mt-4 pt-4 space-y-6\">\r\n        {/* Chú thích: dàn hàng ngang với flex-wrap */}\r\n        <div className=\"flex flex-row flex-wrap justify-around space-x-4 mb-4 text-sm text-gray-700\">\r\n          <div className=\"flex items-center mb-2\">\r\n            <FaChair className=\"text-gray-500 mr-2\" />\r\n            Ghế không bán\r\n          </div>\r\n          <div className=\"flex items-center mb-2\">\r\n            <FaChair className=\"text-yellow-500 mr-2\" />\r\n            Ghế VIP\r\n          </div>\r\n          <div className=\"flex items-center mb-2\">\r\n            <FaChair className=\"text-green-500 mr-2\" />\r\n            Đã chọn\r\n          </div>\r\n          <div className=\"flex items-center mb-2\">\r\n            <FaChair className=\"text-orange-500 mr-2\" />\r\n            Tạm thời giữ\r\n          </div>\r\n          <div className=\"flex items-center mb-2\">\r\n            <FaChair className=\"text-green-300 mr-2\" />\r\n            Có sẵn\r\n          </div>\r\n          <div className=\"flex items-center mb-2\">\r\n            <FaChair className=\"text-red-500 mr-2\" />\r\n            Đã đặt\r\n          </div>\r\n        </div>\r\n        \r\n        {/* Tầng Dưới và Tầng Trên */}\r\n        <div className=\"flex justify-center w-full\">\r\n          {/* Tầng Dưới */}\r\n          <div\r\n            className={`w-full ${\r\n              seatsData.upper ? \"md:w-1/2\" : \"w-2/3\"\r\n            } flex justify-center`}\r\n          >\r\n            {renderSeats(seatsData.lower, \"Tầng Dưới\")}\r\n          </div>\r\n          {/* Tầng Trên */}\r\n          {seatsData.upper && seatsData.upper.length > 0 && (\r\n            <div className=\"md:w-z1/2 pl-4\">\r\n              {renderSeats(seatsData.upper, \"Tầng Trên\")}\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        {/* Tổng giá và nút tiếp tục */}\r\n        <div className=\"mt-6 flex justify-between items-center border-t pt-4\">\r\n          <div className=\"text-sm text-gray-700\">\r\n            Ghế đã chọn:{\" \"}\r\n            <span className=\"font-medium\">{selectedSeats.join(\", \")}</span>\r\n          </div>\r\n          <div className=\"text-lg font-semibold text-gray-900\">\r\n            Tổng: {formatCurrency(totalPrice)} VND\r\n          </div>\r\n          <button\r\n            onClick={handleContinue}\r\n            disabled={selectedSeats.length === 0 || loading}\r\n            className={`px-6 py-2 rounded-lg text-white transition duration-300\r\n              ${\r\n                selectedSeats.length === 0 || loading\r\n                  ? \"bg-gray-400 cursor-not-allowed\"\r\n                  : \"bg-blue-600 hover:bg-blue-700\"\r\n              }`}\r\n          >\r\n            Tiếp tục\r\n          </button>\r\n        </div>\r\n        {error && <p className=\"text-red-500 mt-2\">{error}</p>}\r\n      </div>\r\n    </Transition>\r\n  );\r\n};\r\n\r\nexport default SeatSelection;\r\n","import React, { useState, useEffect, useCallback, useRef } from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport io from 'socket.io-client';\r\nimport TripDetails from './TripDetails';\r\nimport SeatSelection from './SeatSelection';\r\nimport { useGetSeatsByTripIdQuery } from '../../../../../Redux/Trip/TripApiSlice';\r\n\r\nconst TripCard = ({ trip, isOpen, onToggle, onReleaseSeats }) => {\r\n  const navigate = useNavigate();\r\n  const socketRef = useRef(null);\r\n  const userInfo = useSelector((state) => state.user.userInfo);\r\n  const userId = userInfo?.id;\r\n\r\n  const [selectedSeats, setSelectedSeats] = useState([]);\r\n  const [seatsData, setSeatsData] = useState({ lower: [], upper: [] }); \r\n  const [lockTimers, setLockTimers] = useState({});\r\n  const [error, setError] = useState(null);\r\n  const [loading, setLoading] = useState(false);\r\n  const [totalPrice, setTotalPrice] = useState(0);\r\n  const { data: initialSeatsData, isLoading: isLoadingSeats } = useGetSeatsByTripIdQuery(trip._id, {\r\n    skip: !isOpen,\r\n  });\r\n\r\n  const setupSocket = useCallback(() => {\r\n    try {\r\n      socketRef.current = io(process.env.REACT_APP_SOCKET_URL || 'http://localhost:5000', {\r\n        reconnection: true,\r\n        reconnectionAttempts: 5,\r\n        reconnectionDelay: 1000,\r\n      });\r\n\r\n      socketRef.current.on('connect', () => {\r\n        console.log('Connected to socket server');\r\n        if (isOpen && trip._id) {\r\n          socketRef.current.emit('joinTrip', trip._id);\r\n          console.log(`Joining trip room: ${trip._id}`);\r\n        }\r\n      });\r\n\r\n      socketRef.current.on('connect_error', (error) => {\r\n        console.error('Socket connection error:', error);\r\n        setError('Unable to connect to booking service. Please try again later.');\r\n      });\r\n\r\n      return () => {\r\n        if (socketRef.current) {\r\n          socketRef.current.disconnect();\r\n        }\r\n      };\r\n    } catch (error) {\r\n      console.error('Socket setup error:', error);\r\n      setError('Unable to initialize booking service. Please try again later.');\r\n    }\r\n  }, [trip._id, isOpen]);\r\n\r\n  useEffect(() => {\r\n    if (initialSeatsData) {\r\n      setSeatsData(initialSeatsData.data);\r\n      setError(null);\r\n    }\r\n  }, [initialSeatsData]);\r\n\r\n  useEffect(() => {\r\n    if (!socketRef.current) {\r\n      setupSocket();\r\n    }\r\n\r\n    const socket = socketRef.current;\r\n\r\n    const handleSeatLocked = ({ seatNumber, lockedBy, lockExpiration }) => {\r\n      setSeatsData((prevSeats) => ({\r\n        lower: prevSeats.lower.map((seat) =>\r\n          seat.seatNumber === seatNumber\r\n            ? { ...seat, isAvailable: false, lockedBy, lockExpiration }\r\n            : seat\r\n        ),\r\n        upper: prevSeats.upper.map((seat) =>\r\n          seat.seatNumber === seatNumber\r\n            ? { ...seat, isAvailable: false, lockedBy, lockExpiration }\r\n            : seat\r\n        ),\r\n      }));\r\n    };\r\n\r\n    const handleSeatReleased = ({ seatNumber }) => {\r\n      setSeatsData((prevSeats) => ({\r\n        lower: prevSeats.lower.map((seat) =>\r\n          seat.seatNumber === seatNumber\r\n            ? { ...seat, isAvailable: true, lockedBy: null }\r\n            : seat\r\n        ),\r\n        upper: prevSeats.upper.map((seat) =>\r\n          seat.seatNumber === seatNumber\r\n            ? { ...seat, isAvailable: true, lockedBy: null }\r\n            : seat\r\n        ),\r\n      }));\r\n    \r\n      if (lockTimers[seatNumber]) {\r\n        clearTimeout(lockTimers[seatNumber]);\r\n        setLockTimers((prev) => {\r\n          const newTimers = { ...prev };\r\n          delete newTimers[seatNumber];\r\n          return newTimers;\r\n        });\r\n      }\r\n    };\r\n\r\n    const handleError = ({ type, message }) => {\r\n      setError(message);\r\n      setLoading(false);\r\n\r\n      if (type === 'RESERVE_ERROR') {\r\n        setSelectedSeats((prev) => prev.filter((seat) => !seat.includes(message.seatNumber)));\r\n      }\r\n    };\r\n\r\n    socket.on('seatLocked', handleSeatLocked);\r\n    socket.on('seatReleased', handleSeatReleased);\r\n    socket.on('error', handleError);\r\n    socket.on('seatUnavailable', ({ seatNumber }) => {\r\n      setError(`Ghế số ${seatNumber} không khả dụng`);\r\n      setSelectedSeats((prev) => prev.filter((s) => s !== seatNumber));\r\n    });\r\n\r\n    return () => {\r\n      socket.off('seatLocked', handleSeatLocked);\r\n      socket.off('seatReleased', handleSeatReleased);\r\n      socket.off('error', handleError);\r\n      socket.off('seatUnavailable');\r\n      Object.values(lockTimers).forEach(clearTimeout);\r\n    };\r\n  }, [userId, trip._id, setupSocket, lockTimers]);\r\n\r\n  useEffect(() => {\r\n    if (isOpen) {\r\n      if (trip._id) {\r\n        socketRef.current.emit('joinTrip', trip._id);\r\n      }\r\n    }\r\n  }, [isOpen]);\r\n\r\n  // Hàm để giải phóng tất cả ghế đã chọn\r\n \r\n  const releaseSeats = () => {\r\n    selectedSeats.forEach((seatNumber) => {\r\n      socketRef.current.emit('releaseSeat', { tripId: trip._id, seatNumber });\r\n    });\r\n    setSelectedSeats([]);\r\n  };\r\n  useEffect(() => {\r\n    if (onReleaseSeats) {\r\n      onReleaseSeats(releaseSeats);\r\n    }\r\n  }, [onReleaseSeats, releaseSeats]);\r\n\r\n\r\n  \r\n  const handleSeatSelect = useCallback(\r\n    async (seatNumber) => {\r\n        if (!userId) {\r\n            setError('Vui lòng đăng nhập để chọn ghế');\r\n            return;\r\n        }\r\n\r\n        setLoading(true);\r\n        setError(null);\r\n\r\n        try {\r\n            console.log(\"Selected seat number:\", seatNumber);\r\n\r\n            if (selectedSeats.includes(seatNumber)) {\r\n                const seat = [...seatsData.lower, ...seatsData.upper].find((seat) => seat.seatNumber === seatNumber);\r\n                if (!seat.isAvailable && seat.lockedBy && seat.lockedBy !== userId) {\r\n                    setError(`Seat ${seatNumber} is temporarily reserved by another user`);\r\n                    return;\r\n                }\r\n                console.log(\"Releasing seat:\", seatNumber);\r\n                socketRef.current.emit('releaseSeat', { tripId: trip._id, seatNumber, userId });\r\n                setSelectedSeats((prev) => prev.filter((s) => s !== seatNumber));\r\n            } else {\r\n                // Chọn ghế nếu chưa chọn\r\n                console.log(\"Reserving seat:\", seatNumber);\r\n                socketRef.current.emit('reserveSeat', { tripId: trip._id, seatNumber, userId });\r\n                setSelectedSeats((prev) => [...prev, seatNumber]);\r\n            }\r\n        } catch (error) {\r\n            console.error(\"Error in seat selection:\", error);\r\n            setError('Failed to process seat selection. Please try again.');\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    },\r\n    [trip._id, userId, seatsData, selectedSeats]\r\n);\r\n\r\n  const handleContinue = useCallback(() => {\r\n    if (selectedSeats.length === 0) {\r\n      setError('Please select at least one seat to continue');\r\n      return;\r\n    }\r\n\r\n    navigate('/bookingconfirmation', {\r\n      state: {\r\n        selectedSeats,\r\n        totalPrice: calculateTotalPrice(),\r\n        trip,\r\n      },\r\n    });\r\n  }, [navigate, selectedSeats, trip]);\r\n  const calculateTotalPrice = () => {\r\n    return selectedSeats.reduce((total, seatNumber) => {\r\n      const seat = [...seatsData.lower, ...seatsData.upper].find(s => s.seatNumber === seatNumber);\r\n      return seat ? total + seat.price : total;\r\n    }, 0);\r\n  };\r\n  \r\n  useEffect(() => {\r\n    setTotalPrice(calculateTotalPrice());\r\n  }, [selectedSeats, seatsData]);\r\n  \r\n  return (\r\n    <div className=\"bg-white rounded-lg shadow-lg mb-6 p-4 hover:shadow-xl transition-shadow duration-300\">\r\n      <TripDetails trip={trip} onToggle={onToggle} isOpen={isOpen} loading={loading} />\r\n      {isOpen && (\r\n        <SeatSelection\r\n          seatsData={seatsData}\r\n          isLoadingSeats={isLoadingSeats}\r\n          handleSeatSelect={handleSeatSelect}\r\n          selectedSeats={selectedSeats}\r\n          lockTimers={lockTimers}\r\n          loading={loading}\r\n          totalPrice={calculateTotalPrice()} \r\n          handleContinue={handleContinue}\r\n          error={error}\r\n          userId={userId}\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TripCard;","import React, { useEffect, useState } from 'react';\r\nimport { useLocation } from 'react-router-dom';\r\nimport { useSearchTripQuery } from '../../../../Redux/Trip/TripApiSlice';\r\nimport TripCard from '../SearchResult/Trip/TripCard';\r\nimport SkeletonLoader from '../../../shared/Loader/Loader';\r\n\r\nconst SearchResults = ({ filters = {} }) => {\r\n  const location = useLocation();\r\n\r\n  // Lấy các giá trị params từ URL thay vì sử dụng state\r\n  const searchParams = new URLSearchParams(location.search);\r\n  const departureLocation = searchParams.get('departureLocation');\r\n  const arrivalLocation = searchParams.get('arrivalLocation');\r\n  const departureDate = searchParams.get('departureDate');\r\n  const returnDate = searchParams.get('returnDate');\r\n  const ticketCount = searchParams.get('ticketCount');\r\n\r\n  const [filteredTrips, setFilteredTrips] = useState([]);\r\n  const [allTrips, setAllTrips] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [selectedSeats, setSelectedSeats] = useState([]);\r\n  const [totalPrice, setTotalPrice] = useState(0);\r\n  const [tripDetails, setTripDetails] = useState(null);\r\n\r\n  // Gọi API để tìm kiếm chuyến xe, mặc định gọi API không điều kiện\r\n  const { data: trips, error, isLoading } = useSearchTripQuery({\r\n    departureLocation,\r\n    arrivalLocation,\r\n    departureDate,\r\n    returnDate,\r\n    ticketCount,\r\n  });\r\n\r\n  // Cập nhật dữ liệu khi nhận được từ API\r\n  useEffect(() => {\r\n    if (trips?.data?.departureTrips) {\r\n      setAllTrips(trips.data.departureTrips);\r\n      setFilteredTrips(trips.data.departureTrips);\r\n    }\r\n  }, [trips]);\r\n\r\n  // Áp dụng bộ lọc và cập nhật danh sách chuyến xe\r\n  useEffect(() => {\r\n    setLoading(true);\r\n\r\n    const delayDebounceFn = setTimeout(() => {\r\n      const applyFilters = () => {\r\n        let filtered = [...allTrips];\r\n\r\n        if (filters.priceRange === 'low') {\r\n          filtered = filtered.filter(trip => trip.basePrice < 200000);\r\n        } else if (filters.priceRange === 'medium') {\r\n          filtered = filtered.filter(trip => trip.basePrice >= 200000 && trip.basePrice <= 500000);\r\n        } else if (filters.priceRange === 'high') {\r\n          filtered = filtered.filter(trip => trip.basePrice > 500000);\r\n        }\r\n\r\n        if (filters.busOperator) {\r\n          filtered = filtered.filter(trip => trip.busType?.name === filters.busOperator);\r\n        }\r\n\r\n        if (filters.departureTimeRange === 'morning') {\r\n          filtered = filtered.filter(trip => {\r\n            const hour = new Date(trip.departureTime).getHours();\r\n            return hour >= 6 && hour < 12;\r\n          });\r\n        } else if (filters.departureTimeRange === 'afternoon') {\r\n          filtered = filtered.filter(trip => {\r\n            const hour = new Date(trip.departureTime).getHours();\r\n            return hour >= 12 && hour < 18;\r\n          });\r\n        }\r\n\r\n        // Sort trips\r\n        if (filters.sort === 'priceAsc') {\r\n          filtered.sort((a, b) => a.basePrice - b.basePrice);\r\n        } else if (filters.sort === 'priceDesc') {\r\n          filtered.sort((a, b) => b.basePrice - a.basePrice);\r\n        } else if (filters.sort === 'earliest') {\r\n          filtered.sort((a, b) => new Date(a.departureTime) - new Date(b.departureTime));\r\n        } else if (filters.sort === 'latest') {\r\n          filtered.sort((a, b) => new Date(b.departureTime) - new Date(a.departureTime));\r\n        }\r\n\r\n        setFilteredTrips(filtered);\r\n        setLoading(false);\r\n      };\r\n\r\n      applyFilters();\r\n    }, 500);\r\n\r\n    return () => clearTimeout(delayDebounceFn);\r\n  }, [filters, allTrips]);\r\n\r\n  if (!departureLocation || !arrivalLocation || !departureDate) {\r\n    return <div>Thiếu thông tin tìm kiếm. Vui lòng thử lại.</div>;\r\n  }\r\n\r\n  if (loading || isLoading) {\r\n    return (\r\n      <div className=\"container mx-auto py-8\">\r\n        <SkeletonLoader />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (error) {\r\n    return <div>Không tìm thấy chuyến xe. Lỗi: {error.message}</div>;\r\n  }\r\n\r\n\r\n  if (filteredTrips.length === 0) {\r\n    return <div>Không tìm thấy chuyến xe nào phù hợp với yêu cầu tìm kiếm của bạn.</div>;\r\n  }\r\n\r\n  const handleContinue = (seats, price, trip) => {\r\n    setSelectedSeats(seats);\r\n    setTotalPrice(price);\r\n    setTripDetails(trip);\r\n  };\r\n\r\n  return (\r\n    <div className=\"container mx-auto py-8\">\r\n      <h2 className=\"text-2xl font-bold mb-4\">Kết quả tìm kiếm chuyến xe</h2>\r\n      <div className=\"space-y-4\">\r\n        {filteredTrips.map((trip) => (\r\n          <TripCard \r\n            key={trip._id} \r\n            trip={trip} \r\n            isOpen={trip._id === tripDetails?._id} \r\n            onToggle={() => {\r\n              setTripDetails(tripDetails?._id === trip._id ? null : trip); \r\n            }} \r\n            onContinue={handleContinue}\r\n          />\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SearchResults;","import moment from 'moment-timezone';\r\n\r\nconst VN_TIMEZONE = 'Asia/Ho_Chi_Minh';\r\n\r\nexport const timeUtils = {\r\n  parseUTCTimeForForm: (utcTimeString) => {\r\n    if (!utcTimeString) return new Date();\r\n    return new Date(utcTimeString);\r\n  },\r\n\r\n  formatTimeForServer: (localDate) => {\r\n    if (!localDate) return null;\r\n    return moment(localDate).utc().format();\r\n  },\r\n\r\n  formatDisplayTime: (utcTimeString) => {\r\n    if (!utcTimeString) return '';\r\n    return moment(utcTimeString).tz(VN_TIMEZONE).format('DD/MM/YYYY HH:mm');\r\n  }\r\n};\r\nexport const formatCurrency = (value) => {\r\n  if (!value) return '0 VND';\r\n  return new Intl.NumberFormat('vi-VN', { style: 'currency', currency: 'VND' }).format(value);\r\n};\r\n","import { CamelToPascal } from './utility-types';\n\n/**\n * Converts string to kebab case\n *\n * @param {string} string\n * @returns {string} A kebabized string\n */\nexport const toKebabCase = (string: string) =>\n  string.replace(/([a-z0-9])([A-Z])/g, '$1-$2').toLowerCase();\n\n/**\n * Converts string to camel case\n *\n * @param {string} string\n * @returns {string} A camelized string\n */\nexport const toCamelCase = <T extends string>(string: T) =>\n  string.replace(/^([A-Z])|[\\s-_]+(\\w)/g, (match, p1, p2) =>\n    p2 ? p2.toUpperCase() : p1.toLowerCase(),\n  );\n\n/**\n * Converts string to pascal case\n *\n * @param {string} string\n * @returns {string} A pascalized string\n */\nexport const toPascalCase = <T extends string>(string: T): CamelToPascal<T> => {\n  const camelCase = toCamelCase(string);\n\n  return (camelCase.charAt(0).toUpperCase() + camelCase.slice(1)) as CamelToPascal<T>;\n};\n\n/**\n * Merges classes into a single string\n *\n * @param {array} classes\n * @returns {string} A string of classes\n */\nexport const mergeClasses = <ClassType = string | undefined | null>(...classes: ClassType[]) =>\n  classes\n    .filter((className, index, array) => {\n      return Boolean(className) && array.indexOf(className) === index;\n    })\n    .join(' ');\n","export default {\n  xmlns: 'http://www.w3.org/2000/svg',\n  width: 24,\n  height: 24,\n  viewBox: '0 0 24 24',\n  fill: 'none',\n  stroke: 'currentColor',\n  strokeWidth: 2,\n  strokeLinecap: 'round',\n  strokeLinejoin: 'round',\n};\n","import { createElement, forwardRef } from 'react';\nimport defaultAttributes from './defaultAttributes';\nimport { IconNode, LucideProps } from './types';\nimport { mergeClasses } from '@lucide/shared';\n\ninterface IconComponentProps extends LucideProps {\n  iconNode: IconNode;\n}\n\n/**\n * Lucide icon component\n *\n * @component Icon\n * @param {object} props\n * @param {string} props.color - The color of the icon\n * @param {number} props.size - The size of the icon\n * @param {number} props.strokeWidth - The stroke width of the icon\n * @param {boolean} props.absoluteStrokeWidth - Whether to use absolute stroke width\n * @param {string} props.className - The class name of the icon\n * @param {IconNode} props.children - The children of the icon\n * @param {IconNode} props.iconNode - The icon node of the icon\n *\n * @returns {ForwardRefExoticComponent} LucideIcon\n */\nconst Icon = forwardRef<SVGSVGElement, IconComponentProps>(\n  (\n    {\n      color = 'currentColor',\n      size = 24,\n      strokeWidth = 2,\n      absoluteStrokeWidth,\n      className = '',\n      children,\n      iconNode,\n      ...rest\n    },\n    ref,\n  ) => {\n    return createElement(\n      'svg',\n      {\n        ref,\n        ...defaultAttributes,\n        width: size,\n        height: size,\n        stroke: color,\n        strokeWidth: absoluteStrokeWidth ? (Number(strokeWidth) * 24) / Number(size) : strokeWidth,\n        className: mergeClasses('lucide', className),\n        ...rest,\n      },\n      [\n        ...iconNode.map(([tag, attrs]) => createElement(tag, attrs)),\n        ...(Array.isArray(children) ? children : [children]),\n      ],\n    );\n  },\n);\n\nexport default Icon;\n","import { createElement, forwardRef } from 'react';\nimport { mergeClasses, toKebabCase } from '@lucide/shared';\nimport { IconNode, LucideProps } from './types';\nimport Icon from './Icon';\n\n/**\n * Create a Lucide icon component\n * @param {string} iconName\n * @param {array} iconNode\n * @returns {ForwardRefExoticComponent} LucideIcon\n */\nconst createLucideIcon = (iconName: string, iconNode: IconNode) => {\n  const Component = forwardRef<SVGSVGElement, LucideProps>(({ className, ...props }, ref) =>\n    createElement(Icon, {\n      ref,\n      iconNode,\n      className: mergeClasses(`lucide-${toKebabCase(iconName)}`, className),\n      ...props,\n    }),\n  );\n\n  Component.displayName = `${iconName}`;\n\n  return Component;\n};\n\nexport default createLucideIcon;\n"],"names":["_ref","trip","onToggle","isOpen","loading","isModalVisible","setIsModalVisible","useState","mainImage","busType","images","length","_jsxs","className","children","_jsx","Date","departureTime","toLocaleTimeString","hour","minute","departureLocation","name","Math","round","arrivalTime","arrivalLocation","src","alt","onClick","handleViewMore","availableSeats","formatCurrency","basePrice","disabled","Modal","visible","footer","onCancel","handleCloseModal","title","map","image","index","ue","e","t","enter","enterFrom","enterTo","leave","leaveFrom","leaveTo","as","de","O","f","count","w","ne","displayName","n","Ne","Visible","Hidden","M","U","current","filter","el","_ref2","state","Te","be","l","E","y","r","ve","R","ge","T","S","o","i","arguments","undefined","x","a","findIndex","_ref3","s","le","Unmount","splice","microTask","call","P","find","_ref4","push","p","m","Promise","resolve","C","h","chains","_ref5","all","_ref6","d","then","wait","g","_ref7","shift","ie","register","unregister","onStart","onStop","fe","Pe","RenderStrategy","X","J","show","appear","unmount","oe","re","se","N","Open","Error","V","H","initial","v","beforeEnter","j","beforeLeave","Provider","value","ae","ourProps","me","ref","theirProps","defaultTag","features","ee","te","transition","afterEnter","afterLeave","entered","c","z","K","q","_e","b","G","Q","De","A","I","hidden","B","ce","Y","W","L","Z","k","F","D","$","he","pe","u","Se","start","end","Ce","xe","Re","closed","trim","Ee","_","Closed","Opening","Closing","ye","Le","Xe","Object","assign","Child","Root","Clock","createLucideIcon","cx","cy","key","points","seatsData","isLoadingSeats","handleSeatSelect","selectedSeats","lockTimers","totalPrice","handleContinue","error","userId","getSeatStyle","seat","seatNumber","includes","isAvailable","lockedBy","renderSeats","seats","floorLabel","numColumns","style","gridTemplateColumns","FaChair","_id","Transition","upper","lower","join","onReleaseSeats","navigate","useNavigate","socketRef","useRef","userInfo","useSelector","user","id","setSelectedSeats","setSeatsData","setLockTimers","setError","setLoading","setTotalPrice","data","initialSeatsData","isLoading","useGetSeatsByTripIdQuery","skip","setupSocket","useCallback","io","process","reconnection","reconnectionAttempts","reconnectionDelay","on","console","log","emit","disconnect","useEffect","socket","handleSeatLocked","lockExpiration","prevSeats","handleSeatReleased","clearTimeout","prev","newTimers","handleError","type","message","off","values","forEach","releaseSeats","tripId","async","calculateTotalPrice","reduce","total","price","TripDetails","SeatSelection","filters","location","useLocation","searchParams","URLSearchParams","search","get","departureDate","returnDate","ticketCount","filteredTrips","setFilteredTrips","allTrips","setAllTrips","tripDetails","setTripDetails","trips","useSearchTripQuery","_trips$data","departureTrips","delayDebounceFn","setTimeout","applyFilters","filtered","priceRange","busOperator","_trip$busType","departureTimeRange","getHours","sort","SkeletonLoader","TripCard","onContinue","timeUtils","parseUTCTimeForForm","utcTimeString","formatTimeForServer","localDate","moment","utc","format","formatDisplayTime","tz","Intl","NumberFormat","currency","mergeClasses","_len","classes","Array","_key","array","Boolean","indexOf","defaultAttributes","xmlns","width","height","viewBox","fill","stroke","strokeWidth","strokeLinecap","strokeLinejoin","Icon","forwardRef","color","size","absoluteStrokeWidth","iconNode","rest","createElement","Number","tag","attrs","isArray","iconName","Component","props","string","replace","toLowerCase"],"sourceRoot":""}