"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[133],{72133:(e,s,t)=>{t.r(s),t.d(s,{default:()=>m});var r=t(65043),a=t(83003),n=t(85627),o=t(31906),l=t(73216);class c extends Error{}function i(e){let s=e.replace(/-/g,"+").replace(/_/g,"/");switch(s.length%4){case 0:break;case 2:s+="==";break;case 3:s+="=";break;default:throw new Error("base64 string is not of the correct length")}try{return function(e){return decodeURIComponent(atob(e).replace(/(.)/g,((e,s)=>{let t=s.charCodeAt(0).toString(16).toUpperCase();return t.length<2&&(t="0"+t),"%"+t})))}(s)}catch(t){return atob(s)}}function d(e,s){if("string"!==typeof e)throw new c("Invalid token specified: must be a string");s||(s={});const t=!0===s.header?0:1,r=e.split(".")[t];if("string"!==typeof r)throw new c(`Invalid token specified: missing part #${t+1}`);let a;try{a=i(r)}catch(n){throw new c(`Invalid token specified: invalid base64 for part #${t+1} (${n.message})`)}try{return JSON.parse(a)}catch(n){throw new c(`Invalid token specified: invalid json for part #${t+1} (${n.message})`)}}c.prototype.name="InvalidTokenError";var h=t(75995),u=t(70579);const m=()=>{var e;const[s,t]=(0,r.useState)(""),[c,i]=(0,r.useState)(""),[m,g]=(0,r.useState)(""),p=(0,a.wA)(),f=(0,l.Zp)(),x=(0,l.zy)(),[b,{isLoading:w}]=(0,n._L)(),[y,v]=(0,r.useState)(!1),[N,j]=(0,r.useState)(""),[k,S]=(0,r.useState)("success"),C=(null===(e=x.state)||void 0===e?void 0:e.from)||{pathname:"/"},I=e=>{try{const s={...d(e),token:e};localStorage.setItem("user",JSON.stringify(s)),p((0,o.LA)(s)),f(C.pathname+C.search,{replace:!0}),L("success","Social login successful!")}catch(s){g("Social login failed. Please try again."),L("error","Social login failed. Please try again.")}};(0,r.useEffect)((()=>{const e=new URLSearchParams(x.search),s=e.get("token"),t=e.get("from")||"/";s&&(I(s),f(t))}),[x]);const L=(e,s)=>{S(e),j(s),v(!0)};return(0,u.jsxs)("div",{className:"min-h-screen flex items-center justify-center bg-gray-400",children:[(0,u.jsx)("div",{className:"w-full max-w-5xl bg-white rounded-2xl shadow-lg overflow-hidden",children:(0,u.jsxs)("div",{className:"flex flex-col md:flex-row",children:[(0,u.jsx)("div",{className:"md:w-1/2 hidden md:block bg-cover bg-center",style:{backgroundImage:'url("https://source.unsplash.com/random")'},children:(0,u.jsxs)("div",{className:"h-full w-full flex flex-col justify-center items-center bg-gradient-to-tr from-purple-600 to-blue-500",children:[(0,u.jsx)("h2",{className:"text-4xl font-bold text-white mb-4",children:"Ch\xe0o M\u1eebng Tr\u1edf L\u1ea1i!"}),(0,u.jsx)("p",{className:"text-white mb-8 text-center px-8",children:"\u0110\u0103ng nh\u1eadp \u0111\u1ec3 ti\u1ebfp t\u1ee5c truy c\u1eadp v\xe0o h\u1ec7 th\u1ed1ng c\u1ee7a ch\xfang t\xf4i."}),(0,u.jsx)("button",{className:"bg-white text-blue-600 font-semibold py-2 px-6 rounded-full hover:bg-gray-100",onClick:()=>f("/register"),children:"\u0110\u0103ng K\xfd"})]})}),(0,u.jsxs)("div",{className:"w-full md:w-1/2 p-8 sm:p-12",children:[(0,u.jsx)("h2",{className:"text-3xl font-semibold text-gray-800 mb-6",children:"\u0110\u0103ng Nh\u1eadp T\xe0i Kho\u1ea3n"}),(0,u.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),g("");try{const e=await b({userName:s,password:c}).unwrap();if(null===e||void 0===e||!e.accessToken)throw new Error("Token is missing or invalid.");{const s={...d(e.accessToken),token:e.accessToken};localStorage.setItem("user",JSON.stringify(s)),p((0,o.LA)(s)),L("success","Login successful!"),f(C.pathname+C.search,{replace:!0})}}catch(r){var t;const e=(null===r||void 0===r||null===(t=r.data)||void 0===t?void 0:t.msg)||"Login failed. Please try again.";g(e),L("error",e)}},className:"space-y-5",children:[(0,u.jsxs)("div",{children:[(0,u.jsx)("label",{className:"block text-gray-700",children:"T\xean \u0110\u0103ng Nh\u1eadp"}),(0,u.jsx)("input",{type:"text",placeholder:"Nh\u1eadp t\xean \u0111\u0103ng nh\u1eadp",value:s,onChange:e=>t(e.target.value),required:!0,className:"w-full mt-2 px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:outline-none"})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)("label",{className:"block text-gray-700",children:"M\u1eadt Kh\u1ea9u"}),(0,u.jsx)("input",{type:"password",placeholder:"Nh\u1eadp m\u1eadt kh\u1ea9u",value:c,onChange:e=>i(e.target.value),required:!0,className:"w-full mt-2 px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:outline-none"})]}),m&&(0,u.jsx)("p",{className:"text-sm text-red-500",children:m}),(0,u.jsxs)("div",{className:"flex items-center justify-between",children:[(0,u.jsx)("a",{href:"/forgot-password",className:"text-sm text-blue-500 hover:underline",children:"Qu\xean m\u1eadt kh\u1ea9u?"}),(0,u.jsx)("a",{href:"/register",className:"text-sm text-blue-500 hover:underline",children:"\u0110\u0103ng K\xfd Ngay"})]}),(0,u.jsx)("button",{type:"submit",className:"w-full bg-blue-600 text-white py-3 rounded-md hover:bg-blue-700 transition duration-300",children:w?"\u0110ang \u0110\u0103ng Nh\u1eadp...":"\u0110\u0103ng Nh\u1eadp"})]}),(0,u.jsxs)("div",{className:"flex items-center my-6",children:[(0,u.jsx)("hr",{className:"flex-grow border-gray-300"}),(0,u.jsx)("span",{className:"mx-4 text-gray-400",children:"Ho\u1eb7c"}),(0,u.jsx)("hr",{className:"flex-grow border-gray-300"})]}),(0,u.jsxs)("div",{className:"flex flex-col sm:flex-row justify-center space-y-4 sm:space-y-0 sm:space-x-4",children:[(0,u.jsxs)("button",{onClick:()=>{window.location.href="https://server-zeym.onrender.com/api/user/google"},className:"flex items-center justify-center bg-white border border-gray-300 hover:bg-gray-50 text-gray-700 font-semibold py-2 px-4 rounded-md shadow-sm w-full sm:w-auto",children:[(0,u.jsx)("img",{src:"https://img.icons8.com/color/48/000000/google-logo.png",alt:"Google",className:"h-6 w-6 mr-2"}),"\u0110\u0103ng nh\u1eadp v\u1edbi Google"]}),(0,u.jsxs)("button",{onClick:()=>{window.location.href="https://server-zeym.onrender.com/api/user/facebook"},className:"flex items-center justify-center bg-white border border-gray-300 hover:bg-gray-50 text-gray-700 font-semibold py-2 px-4 rounded-md shadow-sm w-full sm:w-auto",children:[(0,u.jsx)("img",{src:"https://img.icons8.com/color/48/000000/facebook-new.png",alt:"Facebook",className:"h-6 w-6 mr-2"}),"\u0110\u0103ng nh\u1eadp v\u1edbi Facebook"]})]})]})]})}),(0,u.jsx)(h.A,{open:y,onClose:()=>{v(!1)},severity:k,message:N})]})}}}]);
//# sourceMappingURL=133.0eb09fd5.chunk.js.map