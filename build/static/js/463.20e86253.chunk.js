"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[463],{64463:(e,a,t)=>{t.r(a),t.d(a,{default:()=>y});var s=t(65043),l=t(23927),n=t(16569),c=t(3188),d=t(47419),r=t(11645),i=t(89073),o=t(91995),h=t(59748),u=t(15444),x=t(6051),m=t(75337),j=t(76191),v=t(67407),A=t(61966),g=t(39052),p=t(70579);const{Title:b}=l.A,y=()=>{var e;const[a,t]=(0,s.useState)(null),[l,y]=(0,s.useState)(!1),[w,f]=(0,s.useState)(!1),[C,L]=(0,s.useState)({name:"",address:"",city:"",coordinates:[0,0]}),{data:N,error:k,isLoading:E}=(0,g.eg)(),[q]=(0,g.yg)(),[I]=(0,g.xK)(),[F]=(0,g.L0)(),{data:H}=(0,g.$$)(a,{skip:!a}),M=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;f(!!e),L(e||{name:"",address:"",city:"",coordinates:[0,0]}),y(!0)},S=()=>y(!1);return(0,p.jsxs)("div",{className:"p-6 bg-gray-100 min-h-screen",children:[(0,p.jsx)(b,{level:2,className:"text-center text-blue-700 mb-8 font-bold",children:"Location Management"}),(0,p.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow-lg mb-8",children:[(0,p.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,p.jsx)(b,{level:4,className:"text-blue-600",children:"All Locations"}),(0,p.jsx)(c.Ay,{type:"primary",icon:(0,p.jsx)(m.A,{}),onClick:()=>M(),className:"bg-blue-600",children:"Add Location"})]}),E&&(0,p.jsx)("p",{children:"Loading..."}),k&&(0,p.jsx)("p",{className:"text-red-500",children:"Error loading locations"}),(0,p.jsx)(d.A,{gutter:16,children:null===N||void 0===N||null===(e=N.data)||void 0===e?void 0:e.map((e=>(0,p.jsx)(r.A,{xs:24,sm:12,md:8,lg:6,children:(0,p.jsx)(i.A,{hoverable:!0,className:"location-card shadow-md hover:shadow-lg transition-shadow duration-300",actions:[(0,p.jsx)(j.A,{onClick:()=>t(e._id)}),(0,p.jsx)(v.A,{onClick:()=>M(e)}),(0,p.jsx)(A.A,{onClick:()=>(async e=>{try{await F(e).unwrap(),n.Ay.success("Location deleted successfully")}catch(k){n.Ay.error("Failed to delete location")}})(e._id)})],children:(0,p.jsx)(i.A.Meta,{title:(0,p.jsx)("span",{className:"text-blue-600 font-semibold",children:e.name}),description:`${e.address}, ${e.city}`})})},e._id)))})]}),H&&(0,p.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow-lg mb-6",children:[(0,p.jsx)(b,{level:4,className:"text-blue-600",children:"Location Detail"}),(0,p.jsxs)("p",{children:[(0,p.jsx)("strong",{children:"Name:"})," ",H.data.name]}),(0,p.jsxs)("p",{children:[(0,p.jsx)("strong",{children:"Address:"})," ",H.data.address]}),(0,p.jsxs)("p",{children:[(0,p.jsx)("strong",{children:"City:"})," ",H.data.city]}),(0,p.jsxs)("p",{children:[(0,p.jsx)("strong",{children:"Coordinates:"})," ",H.data.coordinates.coordinates.join(", ")]})]}),(0,p.jsx)(o.A,{title:w?"Edit Location":"Add New Location",visible:l,onOk:async()=>{try{w?(await I({id:C._id,updatedLocation:C}).unwrap(),n.Ay.success("Location updated successfully")):(await q(C).unwrap(),n.Ay.success("Location created successfully")),S()}catch(k){n.Ay.error("Failed to save location")}},onCancel:S,okText:w?"Update":"Create",okButtonProps:{className:"bg-blue-600"},children:(0,p.jsxs)(h.A,{layout:"vertical",children:[(0,p.jsx)(h.A.Item,{label:"Name",required:!0,children:(0,p.jsx)(u.A,{value:C.name,onChange:e=>L({...C,name:e.target.value}),placeholder:"Enter location name"})}),(0,p.jsx)(h.A.Item,{label:"Address",required:!0,children:(0,p.jsx)(u.A,{value:C.address,onChange:e=>L({...C,address:e.target.value}),placeholder:"Enter address"})}),(0,p.jsx)(h.A.Item,{label:"City",required:!0,children:(0,p.jsx)(u.A,{value:C.city,onChange:e=>L({...C,city:e.target.value}),placeholder:"Enter city"})}),(0,p.jsxs)(x.A,{children:[(0,p.jsx)(h.A.Item,{label:"Latitude",required:!0,children:(0,p.jsx)(u.A,{type:"number",value:C.coordinates[0],onChange:e=>L({...C,coordinates:[parseFloat(e.target.value),C.coordinates[1]]}),placeholder:"Enter latitude"})}),(0,p.jsx)(h.A.Item,{label:"Longitude",required:!0,children:(0,p.jsx)(u.A,{type:"number",value:C.coordinates[1],onChange:e=>L({...C,coordinates:[C.coordinates[0],parseFloat(e.target.value)]}),placeholder:"Enter longitude"})})]})]})})]})}},61966:(e,a,t)=>{t.d(a,{A:()=>r});var s=t(58168),l=t(65043);const n={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z"}}]},name:"delete",theme:"outlined"};var c=t(22172),d=function(e,a){return l.createElement(c.A,(0,s.A)({},e,{ref:a,icon:n}))};const r=l.forwardRef(d)},11645:(e,a,t)=>{t.d(a,{A:()=>s});const s=t(30227).A},47419:(e,a,t)=>{t.d(a,{A:()=>s});const s=t(28821).A}}]);
//# sourceMappingURL=463.20e86253.chunk.js.map