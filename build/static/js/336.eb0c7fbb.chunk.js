"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[336],{53981:(e,s,t)=>{t.r(s),t.d(s,{default:()=>b});var a=t(65043),i=t(73216),n=t(3836),l=t(83003),r=t(36210),c=t(70579);const d=e=>{let{selectedSeats:s,totalPrice:t,trip:i,onSubmit:n}=e;const d=(0,l.d4)((e=>e.user.userInfo)),[m,o]=(0,a.useState)({name:"",phone:"",email:"",countryCode:"+84"}),[h,x]=(0,a.useState)({});(0,a.useEffect)((()=>{d&&o({name:d.fullName||"",phone:d.phoneNumber||"",email:d.email||"",countryCode:"+84"})}),[d]);return(0,c.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-lg",children:[(0,c.jsx)("h3",{className:"text-lg font-medium mb-4",children:"Th\xf4ng tin li\xean h\u1ec7"}),(0,c.jsxs)("form",{onSubmit:e=>{e.preventDefault();const s=(()=>{const e={};return m.name.trim()||(e.name="T\xean kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng"),/^[0-9]{9,10}$/.test(m.phone)||(e.phone="S\u1ed1 \u0111i\u1ec7n tho\u1ea1i kh\xf4ng h\u1ee3p l\u1ec7"),/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(m.email)||(e.email="Email kh\xf4ng h\u1ee3p l\u1ec7"),e})();Object.keys(s).length>0?x(s):(x({}),n&&n(m))},className:"space-y-4",children:[(0,c.jsxs)("div",{children:[(0,c.jsxs)("label",{className:"block text-sm mb-2",children:["T\xean ng\u01b0\u1eddi \u0111i ",(0,c.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,c.jsx)("input",{type:"text",value:m.name,onChange:e=>o({...m,name:e.target.value}),className:"w-full px-3 py-2.5 border rounded-lg "+(h.name?"border-red-500":"border-gray-200")}),h.name&&(0,c.jsx)("p",{className:"text-red-500 text-sm mt-1",children:h.name})]}),(0,c.jsxs)("div",{children:[(0,c.jsxs)("label",{className:"block text-sm mb-2",children:["S\u1ed1 \u0111i\u1ec7n tho\u1ea1i ",(0,c.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,c.jsxs)("div",{className:"flex gap-2",children:[(0,c.jsxs)("button",{type:"button",className:"w-[110px] px-3 py-2.5 border border-gray-200 rounded-lg bg-white flex items-center justify-between",children:[(0,c.jsx)("span",{children:"VN +84"}),(0,c.jsx)("span",{className:"text-gray-400",children:"\u25bc"})]}),(0,c.jsx)("input",{type:"tel",value:m.phone,onChange:e=>o({...m,phone:e.target.value}),className:"flex-1 px-3 py-2.5 border rounded-lg "+(h.phone?"border-red-500":"border-gray-200")})]}),h.phone&&(0,c.jsx)("p",{className:"text-red-500 text-sm mt-1",children:h.phone})]}),(0,c.jsxs)("div",{children:[(0,c.jsxs)("label",{className:"block text-sm mb-2",children:["Email \u0111\u1ec3 nh\u1eadn th\xf4ng tin \u0111\u1eb7t ch\u1ed7 ",(0,c.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,c.jsx)("input",{type:"email",value:m.email,onChange:e=>o({...m,email:e.target.value}),className:"w-full px-3 py-2.5 border rounded-lg "+(h.email?"border-red-500":"border-gray-200")}),h.email&&(0,c.jsx)("p",{className:"text-red-500 text-sm mt-1",children:h.email})]}),(0,c.jsxs)("div",{className:"p-4 bg-green-50 border border-green-100 rounded-lg text-sm text-gray-600 flex items-start gap-2",children:[(0,c.jsx)(r.A,{className:"w-5 h-5 text-green-500 mt-0.5"}),(0,c.jsx)("span",{children:"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i v\xe0 email \u0111\u01b0\u1ee3c s\u1eed d\u1ee5ng \u0111\u1ec3 g\u1eedi th\xf4ng tin \u0111\u01a1n h\xe0ng v\xe0 li\xean h\u1ec7 khi c\u1ea7n thi\u1ebft."})]})]})]})};var m=t(50423);const o=e=>{let{totalPrice:s,selectedSeats:t}=e;const[i,n]=(0,a.useState)(!1);return(0,c.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[(0,c.jsxs)("div",{className:"flex justify-between items-center",children:[(0,c.jsx)("h3",{className:"text-xl font-semibold mb-2",children:"T\u1ea1m t\xednh"}),(0,c.jsx)("button",{onClick:()=>{n(!i)},className:"text-xl",children:i?(0,c.jsx)(m.Ik,{}):(0,c.jsx)(m.pte,{})})]}),(0,c.jsxs)("p",{className:"text-2xl font-bold text-blue-600",children:[null===s||void 0===s?void 0:s.toLocaleString("vi-VN"),"\u0111"]}),i&&(0,c.jsxs)("div",{className:"mt-2",children:[(0,c.jsxs)("p",{className:"text-sm text-gray-500",children:["Gi\xe1 v\xe9: ",null===s||void 0===s?void 0:s.toLocaleString("vi-VN")," x ",t.length," gh\u1ebf"]}),(0,c.jsxs)("p",{className:"mt-1 text-sm text-gray-500",children:["M\xe3 gh\u1ebf/gi\u01b0\u1eddng: ",t.join(", ")]})]})]})};var h=t(60184);const x=e=>{var s,t,i,n,l,r,d,m,o,x,u,g;let{trip:p}=e;const[b,j]=(0,a.useState)(!1),N=()=>{j(!b)};return(0,c.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md max-w-lg mx-auto",children:[(0,c.jsx)("h3",{className:"text-xl font-semibold mb-4",children:"Th\xf4ng tin chuy\u1ebfn \u0111i"}),p?(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,c.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,c.jsx)(h.PnS,{className:"text-blue-500"}),(0,c.jsx)("p",{className:"text-sm text-gray-500",children:p.departureTime?new Date(p.departureTime).toLocaleDateString("vi-VN",{weekday:"short",day:"2-digit",month:"2-digit",year:"numeric"}):"Ch\u01b0a c\xf3 ng\xe0y \u0111i"})]}),(0,c.jsx)("button",{onClick:N,className:"text-blue-500 text-sm",children:"Chi ti\u1ebft"})]}),(0,c.jsx)("div",{className:"mb-4",children:(0,c.jsx)("div",{className:"flex justify-between items-center",children:(0,c.jsxs)("div",{children:[(0,c.jsx)("p",{className:"font-medium",children:(null===(s=p.busType)||void 0===s?void 0:s.name)||"Ch\u01b0a c\xf3 th\xf4ng tin xe"}),(0,c.jsx)("p",{className:"text-sm text-gray-500",children:(null===(t=p.busType)||void 0===t?void 0:t.description)||"Ch\u01b0a c\xf3 m\xf4 t\u1ea3"})]})})}),(0,c.jsx)("div",{className:"border-t border-gray-200 my-4"}),(0,c.jsx)("div",{className:"mb-4",children:(0,c.jsxs)("div",{className:"flex justify-between",children:[(0,c.jsxs)("div",{className:"flex items-start space-x-2",children:[(0,c.jsx)(h.w_X,{className:"text-blue-500 mt-1"}),(0,c.jsxs)("div",{children:[(0,c.jsx)("p",{className:"text-lg font-semibold",children:p.departureTime?new Date(p.departureTime).toLocaleTimeString("vi-VN",{hour:"2-digit",minute:"2-digit"}):"Ch\u01b0a c\xf3 gi\u1edd \u0111i"}),(0,c.jsx)("p",{className:"text-sm text-gray-500",children:(null===(i=p.departureLocation)||void 0===i?void 0:i.name)||"Ch\u01b0a c\xf3 \u0111i\u1ec3m \u0111i"}),(0,c.jsx)("p",{className:"text-sm text-gray-500",children:(null===(n=p.departureLocation)||void 0===n?void 0:n.address)||"Ch\u01b0a c\xf3 \u0111\u1ecba ch\u1ec9"})]})]}),(0,c.jsx)("button",{className:"text-blue-500 text-sm",children:"Thay \u0111\u1ed5i"})]})}),(0,c.jsx)("div",{className:"mb-4",children:(0,c.jsxs)("div",{className:"flex justify-between",children:[(0,c.jsxs)("div",{className:"flex items-start space-x-2",children:[(0,c.jsx)(h.vq8,{className:"text-red-500 mt-1"}),(0,c.jsxs)("div",{children:[(0,c.jsx)("p",{className:"text-lg font-semibold",children:p.arrivalTime?new Date(p.arrivalTime).toLocaleTimeString("vi-VN",{hour:"2-digit",minute:"2-digit"}):"Ch\u01b0a c\xf3 gi\u1edd \u0111\u1ebfn"}),(0,c.jsx)("p",{className:"text-sm text-gray-500",children:(null===(l=p.arrivalLocation)||void 0===l?void 0:l.name)||"Ch\u01b0a c\xf3 \u0111i\u1ec3m \u0111\u1ebfn"}),(0,c.jsx)("p",{className:"text-sm text-gray-500",children:(null===(r=p.arrivalLocation)||void 0===r?void 0:r.address)||"Ch\u01b0a c\xf3 \u0111\u1ecba ch\u1ec9"})]})]}),(0,c.jsx)("button",{className:"text-blue-500 text-sm",children:"Thay \u0111\u1ed5i"})]})}),(0,c.jsxs)("div",{className:`fixed inset-y-0 right-0 transform ${b?"translate-x-0":"translate-x-full"} transition-transform duration-300 w-full max-w-md bg-white shadow-lg z-50`,children:[(0,c.jsx)("div",{className:"bg-blue-600 p-4 text-white",children:(0,c.jsxs)("div",{className:"flex justify-between items-center",children:[(0,c.jsx)("h2",{className:"text-lg font-semibold",children:(null===(d=p.busType)||void 0===d?void 0:d.name)||"Vie Limousine"}),(0,c.jsx)("p",{className:"text-sm",children:p.departureTime&&`${new Date(p.departureTime).toLocaleTimeString("vi-VN",{hour:"2-digit",minute:"2-digit"})} \u2022 ${new Date(p.departureTime).toLocaleDateString("vi-VN",{weekday:"short",day:"2-digit",month:"2-digit",year:"numeric"})}`})]})}),(0,c.jsxs)("div",{className:"p-6",children:[(0,c.jsx)("h3",{className:"text-xl font-semibold mb-4",children:"Chi ti\u1ebft chuy\u1ebfn \u0111i"}),(0,c.jsxs)("div",{className:"mb-4",children:[(0,c.jsxs)("p",{className:"text-sm text-gray-500",children:["Lo\u1ea1i xe: ",(null===(m=p.busType)||void 0===m?void 0:m.name)||"Ch\u01b0a c\xf3 th\xf4ng tin xe"]}),(0,c.jsxs)("p",{className:"text-sm text-gray-500",children:["S\u1ed1 gh\u1ebf/gi\u01b0\u1eddng: ",p.seat||"Ch\u01b0a c\xf3 th\xf4ng tin gh\u1ebf"]}),(0,c.jsxs)("p",{className:"text-sm text-gray-500",children:["Gi\xe1 v\xe9: ",p.price?`${p.price.toLocaleString()}\u0111`:"Ch\u01b0a c\xf3 gi\xe1 v\xe9"]})]}),(0,c.jsxs)("div",{className:"mb-4",children:[(0,c.jsx)("h4",{className:"font-semibold text-lg",children:"\u0110i\u1ec3m \u0111\xf3n"}),(0,c.jsx)("p",{children:(null===(o=p.departureLocation)||void 0===o?void 0:o.name)||"Ch\u01b0a c\xf3 \u0111i\u1ec3m \u0111\xf3n"}),(0,c.jsx)("p",{className:"text-sm text-gray-500",children:(null===(x=p.departureLocation)||void 0===x?void 0:x.address)||"Ch\u01b0a c\xf3 \u0111\u1ecba ch\u1ec9"}),(0,c.jsxs)("p",{className:"text-sm text-gray-500",children:["D\u1ef1 ki\u1ebfn \u0111\xf3n l\xfac:"," ",p.departureTime?new Date(p.departureTime).toLocaleTimeString("vi-VN",{hour:"2-digit",minute:"2-digit"}):"Ch\u01b0a c\xf3 gi\u1edd \u0111\xf3n"]})]}),(0,c.jsxs)("div",{className:"mb-4",children:[(0,c.jsx)("h4",{className:"font-semibold text-lg",children:"\u0110i\u1ec3m tr\u1ea3"}),(0,c.jsx)("p",{children:(null===(u=p.arrivalLocation)||void 0===u?void 0:u.name)||"Ch\u01b0a c\xf3 \u0111i\u1ec3m tr\u1ea3"}),(0,c.jsx)("p",{className:"text-sm text-gray-500",children:(null===(g=p.arrivalLocation)||void 0===g?void 0:g.address)||"Ch\u01b0a c\xf3 \u0111\u1ecba ch\u1ec9"}),(0,c.jsxs)("p",{className:"text-sm text-gray-500",children:["D\u1ef1 ki\u1ebfn tr\u1ea3 l\xfac:"," ",p.arrivalTime?new Date(p.arrivalTime).toLocaleTimeString("vi-VN",{hour:"2-digit",minute:"2-digit"}):"Ch\u01b0a c\xf3 gi\u1edd tr\u1ea3"]})]}),(0,c.jsx)("button",{onClick:N,className:"mt-4 w-full bg-blue-500 text-white font-medium py-2 px-4 rounded-lg hover:bg-blue-600 transition duration-200",children:"\u0110\xf3ng"})]})]}),b&&(0,c.jsx)("div",{onClick:N,className:"fixed inset-0 bg-black opacity-50 z-40"})]}):(0,c.jsx)("p",{children:"Ch\u01b0a c\xf3 th\xf4ng tin chuy\u1ebfn \u0111i."})]})};var u=t(6279),g=t(91995),p=t(81016);const b=()=>{const e=(0,i.zy)(),s=(0,i.Zp)(),t=(0,p.Y)(),{selectedSeats:l,totalPrice:r,trip:h}=e.state||{},[b,{isLoading:j}]=(0,n.R2)(),[N,v]=(0,a.useState)(!1);t?(console.log("Socket is available in BookingPage:",t),t.on("connect",(()=>{console.log("Socket reconnected in BookingPage:",t.id)}))):console.error("Socket is not available in BookingPage.");return(0,c.jsxs)("div",{className:"min-h-screen pb-0",children:[(0,c.jsx)(u.A,{}),(0,c.jsxs)("div",{className:"container mx-auto px-4 py-6 grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,c.jsx)("div",{className:"lg:col-span-3 mb-4",children:(0,c.jsxs)("button",{onClick:()=>{v(!0)},className:"text-blue-500 flex items-center mb-4",children:[(0,c.jsx)(m.m6W,{}),"Quay l\u1ea1i"]})}),(0,c.jsxs)("div",{className:"lg:col-span-2",children:[(0,c.jsx)(d,{selectedSeats:l,totalPrice:r,trip:h}),(0,c.jsx)("div",{className:"bg-white p-6 rounded-lg shadow-md mt-6",children:(0,c.jsx)("h3",{className:"text-xl font-semibold mb-4",children:"Ti\u1ec7n \xedch"})})]}),(0,c.jsxs)("div",{className:"lg:col-span-1",children:[(0,c.jsx)(o,{totalPrice:r,selectedSeats:l}),(0,c.jsx)("div",{className:"my-6"}),(0,c.jsx)(x,{trip:h})]})]}),(0,c.jsx)(g.A,{title:"X\xe1c nh\u1eadn gi\u1ea3i ph\xf3ng gh\u1ebf",visible:N,onOk:()=>{l&&h&&t&&l.forEach((e=>{console.log(`Attempting to release seat ${e} for trip ${h._id}`),t.emit("releaseSeat",{tripId:h._id,seatNumber:e}),console.log(`Released seat ${e} for trip ${h._id} successfully`)})),v(!1),s(-1)},onCancel:()=>{v(!1)},okText:"\u0110\u1ed3ng \xfd",cancelText:"H\u1ee7y",children:(0,c.jsx)("p",{children:"B\u1ea1n c\xf3 ch\u1eafc ch\u1eafn mu\u1ed1n gi\u1ea3i ph\xf3ng c\xe1c gh\u1ebf \u0111\xe3 ch\u1ecdn kh\xf4ng?"})}),(0,c.jsx)("div",{className:"w-full h-full bg-white shadow-md mt-6",children:(0,c.jsxs)("div",{className:"container mx-auto",children:[(0,c.jsxs)("div",{className:"px-4 py-6 flex justify-between items-center space-x-4",children:[(0,c.jsx)("button",{onClick:async()=>{if(l&&r&&h)try{const e=await b({tripId:h._id,seatNumbers:l}).unwrap();s("/payment-methods",{state:{selectedSeats:l,totalPrice:e.data.totalPrice,trip:h,bookingId:e.data.bookingId,expiryTime:e.data.expiryTime}})}catch(e){console.error("L\u1ed7i khi t\u1ea1o booking draft:",e)}else console.error("D\u1eef li\u1ec7u kh\xf4ng \u0111\u1ea7y \u0111\u1ee7!")},className:"bg-blue-800 text-white font-semibold px-6 py-3 rounded-lg hover:bg-blue-900 transition duration-200 w-1/2 "+(j?"opacity-50 cursor-not-allowed":""),disabled:j,children:j?"\u0110ang x\u1eed l\xfd...":"Ti\u1ebfp t\u1ee5c \u0111\u1eb7t v\xe9 m\u1ed9t chi\u1ec1u"}),(0,c.jsx)("button",{className:"bg-yellow-500 text-white font-semibold px-6 py-3 rounded-lg hover:bg-yellow-600 transition duration-200 w-1/2",children:"\u0110\u1eb7t th\xeam chi\u1ec1u v\u1ec1"})]}),(0,c.jsxs)("div",{className:"px-4 pb-6 flex justify-between items-center",children:[(0,c.jsxs)("p",{className:"text-sm text-gray-600",children:["B\u1eb1ng vi\u1ec7c ti\u1ebfp t\u1ee5c, b\u1ea1n \u0111\u1ed3ng \xfd v\u1edbi"," ",(0,c.jsx)("a",{href:"#",className:"text-blue-500 underline",children:"Ch\xednh s\xe1ch b\u1ea3o m\u1eadt thanh to\xe1n"}),"v\xe0",(0,c.jsx)("a",{href:"#",className:"text-blue-500 underline",children:"Quy ch\u1ebf"})]}),(0,c.jsxs)("div",{className:"text-green-600 text-sm font-semibold",children:["\u0110\u1eb7t th\xeam chi\u1ec1u v\u1ec1, gi\u1ea3m ngay 20k!",(0,c.jsx)("a",{href:"#",className:"text-blue-500 underline",children:"Chi ti\u1ebft"})]})]})]})})]})}},6279:(e,s,t)=>{t.d(s,{A:()=>C});var a=t(65043),i=t(73216),n=t(35475),l=t(83003),r=t(31906),c=t(29718),d=t(62153),m=t(26399),o=t(19474),h=t(36400),x=t(19014),u=t(41682),g=t(11568),p=t(66062);const b=t.p+"static/media/logo.f3bb5b8495dc1d221a6b.JPG";var j=t(85627),N=t(32903),v=t(86178),f=t.n(v),y=t(70579);const w=()=>{const[e,s]=(0,a.useState)(!1),[t,i]=(0,a.useState)("all"),n=(0,a.useRef)(),{data:l=[],isLoading:r,refetch:c}=(0,j.dt)(),[d]=(0,j.Cs)();(0,a.useEffect)((()=>{const e=e=>{n.current&&!n.current.contains(e.target)&&s(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}}),[]),(0,a.useEffect)((()=>{const e=setInterval((()=>{c()}),1e4);return()=>clearInterval(e)}),[c]);const m=l.reduce(((e,s)=>{const t=f()(s.createdAt).startOf("day").format("YYYY-MM-DD");return e[t]||(e[t]=[]),e[t].push(s),e}),{}),o=e=>{const s=f()().startOf("day"),t=f()(e);return t.isSame(s,"day")?"H\xf4m nay":t.isSame(s.clone().subtract(1,"days"),"day")?"H\xf4m qua":t.format("DD/MM/YYYY")},h=l.filter((e=>"unread"!==t||!e.isChecked)),x=l.filter((e=>!e.isChecked)).length;return(0,y.jsxs)("div",{className:"relative",ref:n,children:[(0,y.jsxs)("button",{onClick:()=>s(!e),className:"relative text-white-700",children:[(0,y.jsx)(N.A,{className:"h-6 w-6  "}),x>0&&(0,y.jsx)("span",{className:"absolute -top-1 -right-1 bg-red-600 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:x})]}),e&&(0,y.jsxs)("div",{className:"absolute right-0 mt-2 w-96 bg-white shadow-lg rounded-md z-50",children:[(0,y.jsxs)("div",{className:"flex justify-between border-b px-4 py-2",children:[(0,y.jsx)("button",{className:"text-sm font-medium "+("all"===t?"text-blue-600 border-b-2 border-blue-600":"text-gray-600"),onClick:()=>i("all"),children:"T\u1ea5t c\u1ea3"}),(0,y.jsx)("button",{className:"text-sm font-medium "+("unread"===t?"text-blue-600 border-b-2 border-blue-600":"text-gray-600"),onClick:()=>i("unread"),children:"Ch\u01b0a \u0111\u1ecdc"})]}),(0,y.jsx)("div",{className:"max-h-96 overflow-y-auto",children:r?(0,y.jsx)("p",{className:"p-4 text-gray-500",children:"\u0110ang t\u1ea3i..."}):0===h.length?(0,y.jsx)("p",{className:"p-4 text-gray-500",children:"unread"===t?"Kh\xf4ng c\xf3 th\xf4ng b\xe1o ch\u01b0a \u0111\u1ecdc.":"Kh\xf4ng c\xf3 th\xf4ng b\xe1o."}):Object.keys(m).sort(((e,s)=>f()(s).diff(f()(e)))).map((e=>(0,y.jsxs)("div",{children:[(0,y.jsx)("div",{className:"bg-gray-100 px-4 py-2",children:(0,y.jsx)("h4",{className:"text-xs font-medium text-gray-500",children:o(e)})}),m[e].filter((e=>"unread"!==t||!e.isChecked)).map((e=>(0,y.jsxs)("div",{className:`flex items-start p-4 border-b cursor-pointer ${e.isChecked?"bg-white":"bg-blue-50"} hover:bg-gray-100`,onClick:()=>(async e=>{try{await d(e)}catch(s){console.error("Failed to mark notification as checked:",s)}})(e._id),children:[e.images&&(0,y.jsx)("img",{src:e.images[0],alt:"Notification",className:"h-12 w-12 rounded-full mr-4 object-cover"}),(0,y.jsxs)("div",{className:"flex-1",children:[(0,y.jsxs)("p",{className:"text-sm text-gray-700",children:[(0,y.jsx)("span",{className:"font-medium",children:e.title})," ",e.description]}),(0,y.jsx)("p",{className:"text-xs text-gray-400 mt-1",children:f()(e.createdAt).fromNow()})]})]},e._id)))]},e)))})]})]})},k=()=>{const e=(0,l.wA)(),s=(0,i.Zp)(),t=(0,i.zy)(),j=(0,l.d4)((e=>e.user.userInfo)),[N,v]=(0,a.useState)(!1),[f,k]=(0,a.useState)(!1),[C,S]=(0,a.useState)(!1),T=(0,a.useRef)(),A=(0,a.useRef)();(0,a.useEffect)((()=>{const e=e=>{T.current&&!T.current.contains(e.target)&&k(!1),A.current&&!A.current.contains(e.target)&&S(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}}),[]);const L={superadmin:[{name:"Qu\u1ea3n l\xfd h\u1ec7 th\u1ed1ng",path:"/superadmin/dashboard",icon:c.A}],companyadmin:[{name:"Qu\u1ea3n l\xfd nh\xe0 xe",path:"/companyadmin/dashboard",icon:c.A},{name:"Qu\u1ea3n l\xfd chuy\u1ebfn \u0111i",path:"/companyadmin/trip",icon:d.A}],staff:[{name:"Qu\u1ea3n l\xfd nh\xe2n vi\xean",path:"/staff/dashboard",icon:c.A},{name:"H\u1ed7 tr\u1ee3 kh\xe1ch h\xe0ng",path:"/staff/support",icon:m.A}],user:[{name:"Th\xf4ng tin t\xe0i kho\u1ea3n",path:"/user/profile",icon:c.A},{name:"\u0110\u01a1n h\xe0ng c\u1ee7a t\xf4i",path:"/user/ticket-buy",icon:d.A},{name:"\u01afu \u0111\xe3i",path:"/user/offers",icon:d.A},{name:"Nh\u1eadn x\xe9t chuy\u1ebfn \u0111i",path:"/user/reviews",icon:o.A},{name:"\u0110\u1ed5i m\u1eadt kh\u1ea9u",path:"/user/change-password",icon:h.A}]},D=[{name:"Trang ch\u1ee7",path:"/",icon:x.A},{name:"T\xe0i kho\u1ea3n c\u1ee7a t\xf4i",path:"/user/profile",icon:c.A},{name:"\u01afu \u0111\xe3i c\u1ee7a t\xf4i",path:"/user/offers",icon:d.A}],V=[{name:"M\u1edf b\xe1n t\u1ea1i VeXeOnline",path:"/mo-ban-ve-xe",icon:d.A},{name:"V\u1ec1 VeXeOnline",path:"/about",icon:x.A},{name:"Gi\u1edbi thi\u1ec7u",path:"/gioi-thieu",icon:o.A}];return(0,y.jsxs)("header",{className:"bg-blue-600 shadow-md top-0 w-full z-50",children:[(0,y.jsxs)("div",{className:"container mx-auto flex items-center justify-between px-4 py-3",children:[(0,y.jsx)("button",{onClick:()=>v(!N),className:"text-white md:hidden",children:N?(0,y.jsx)(u.A,{className:"h-6 w-6"}):(0,y.jsx)(g.A,{className:"h-6 w-6"})}),(0,y.jsx)("div",{className:"flex-grow flex justify-center md:justify-start",children:(0,y.jsxs)(n.N_,{to:"/",className:"flex items-center space-x-2",children:[(0,y.jsx)("img",{src:b,alt:"Logo",className:"h-12 w-auto rounded-lg"}),(0,y.jsx)("span",{className:"hidden md:block text-white text-sm font-medium",children:"Cam k\u1ebft ho\xe0n 150% n\u1ebfu nh\xe0 xe kh\xf4ng cung c\u1ea5p d\u1ecbch v\u1ee5 v\u1eadn chuy\u1ec3n (*)"})]})}),(0,y.jsx)("div",{className:"hidden md:flex items-center justify-center space-x-6 bg-blue-600 px-4 py-2",children:[{name:"\u0110\u01a1n h\xe0ng c\u1ee7a t\xf4i",path:"/user/ticket-buy"},{name:"M\u1edf b\xe1n v\xe9",path:"/mo-ban-ve-xe"}].map((e=>(0,y.jsx)(n.N_,{to:e.path,className:"text-white hover:text-gray-300",children:e.name},e.name)))}),(0,y.jsxs)("div",{className:"text-white flex items-center space-x-4",children:[(0,y.jsxs)("div",{className:"hidden md:block relative",ref:T,children:[(0,y.jsxs)("div",{className:"flex items-center px-2 py-1 bg-white text-black rounded-md cursor-pointer",onClick:()=>k(!f),children:[(0,y.jsx)(m.A,{className:"h-5 w-5 mr-1"}),(0,y.jsx)("span",{children:"Hotline 24/7"})]}),f&&(0,y.jsx)("div",{className:"absolute right-0 mt-2 w-80 bg-white text-black shadow-lg rounded-md p-4 z-50",children:(0,y.jsxs)("div",{className:"text-sm font-medium",children:[(0,y.jsxs)("div",{className:"py-1",children:[(0,y.jsx)("span",{style:{color:"blue"},children:"0387097651 "})," -"," ",(0,y.jsx)("span",{children:"Admin (07:00 - 23:00)"})]}),(0,y.jsxs)("div",{className:"py-1",children:[(0,y.jsx)("span",{style:{color:"blue"},children:"0387097651 "})," -"," ",(0,y.jsx)("span",{children:"Admin (07:00 - 23:00)"})]}),(0,y.jsxs)("div",{className:"py-1",children:[(0,y.jsx)("span",{style:{color:"blue"},children:"0387097651 "})," -"," ",(0,y.jsx)("span",{children:"Admin (07:00 - 23:00)"})]})]})})]}),(0,y.jsx)(w,{}),j?(0,y.jsxs)("div",{className:"relative",ref:A,children:[(0,y.jsxs)("button",{onClick:()=>S(!C),className:"flex items-center space-x-2",children:[(0,y.jsx)(c.A,{className:"h-8 w-8"}),(0,y.jsx)("span",{className:"md:block",children:j.fullName})]}),C&&(0,y.jsxs)("div",{className:"absolute right-0 mt-2 w-48 bg-white text-black shadow-lg rounded-md",children:[(L[j.roleId]||[]).map((e=>(0,y.jsxs)(n.N_,{to:e.path,className:"block flex px-4 py-2 text-sm hover:bg-gray-100",children:[(0,y.jsx)(e.icon,{className:"h-5 w-5 mr-2 text-gray-600"}),e.name]},e.name))),(0,y.jsxs)("button",{onClick:()=>{e((0,r.ri)()),s("/"),v(!1)},className:"block w-full flex text-left px-4 py-2 text-sm text-red-600 hover:bg-red-100",children:[(0,y.jsx)(p.A,{className:"h-5 w-5 mr-2"}),"\u0110\u0103ng xu\u1ea5t"]})]})]}):(0,y.jsxs)("button",{onClick:()=>s("/login",{state:{from:t}}),className:"flex items-center space-x-1",children:[(0,y.jsx)(c.A,{className:"h-6 w-6"}),(0,y.jsx)("span",{className:"hidden md:block",children:"\u0110\u0103ng nh\u1eadp/\u0110\u0103ng k\xfd"})]})]})]}),(0,y.jsx)("div",{className:`fixed inset-y-0 left-0 transform ${N?"translate-x-0":"-translate-x-full"} w-64 bg-white transition-transform duration-300 ease-in-out overflow-y-auto md:hidden z-50`,children:(0,y.jsxs)("nav",{className:"px-2 py-4",children:[D.map((e=>(0,y.jsxs)(n.N_,{to:e.path,className:"flex items-center space-x-3 px-4 py-3 text-gray-700 hover:bg-gray-100 rounded-lg",onClick:()=>v(!1),children:[(0,y.jsx)(e.icon,{className:"h-5 w-5 text-blue-600"}),(0,y.jsx)("span",{children:e.name})]},e.name))),(0,y.jsx)("div",{className:"border-t border-gray-200 mt-4 pt-4",children:V.map((e=>(0,y.jsxs)(n.N_,{to:e.path,className:"flex items-center space-x-3 px-4 py-3 text-gray-700 hover:bg-gray-100 rounded-lg",onClick:()=>v(!1),children:[(0,y.jsx)(e.icon,{className:"h-5 w-5 text-blue-600"}),(0,y.jsx)("span",{children:e.name})]},e.name)))})]})}),N&&(0,y.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 md:hidden z-40",onClick:()=>v(!1)})]})},C=a.memo(k)}}]);
//# sourceMappingURL=336.eb0c7fbb.chunk.js.map