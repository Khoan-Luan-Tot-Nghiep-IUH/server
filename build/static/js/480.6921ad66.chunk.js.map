{"version":3,"file":"static/js/480.6921ad66.chunk.js","mappings":"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","sources":["components/home/components/Booking/CountdownTimer.js","components/home/components/Booking/PaymentMethod.js","components/shared/Notification/Notification.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\n\r\nconst CountdownTimer = ({ endTime, onTimeout }) => {\r\n    const [timeLeft, setTimeLeft] = useState(0);\r\n\r\n    useEffect(() => {\r\n        const endTimestamp = new Date(endTime).getTime();\r\n        const calculateTimeLeft = () => Math.max(0, Math.floor((endTimestamp - Date.now()) / 1000));\r\n        \r\n        setTimeLeft(calculateTimeLeft());\r\n\r\n        const timerId = setInterval(() => {\r\n            setTimeLeft(prevTime => {\r\n                const newTime = calculateTimeLeft();\r\n                if (newTime <= 0) {\r\n                    clearInterval(timerId);\r\n                    onTimeout();\r\n                }\r\n                return newTime;\r\n            });\r\n        }, 1000);\r\n\r\n        return () => clearInterval(timerId);\r\n    }, [endTime, onTimeout]);\r\n\r\n    const minutes = String(Math.floor(timeLeft / 60)).padStart(2, '0');\r\n    const seconds = String(timeLeft % 60).padStart(2, '0');\r\n\r\n    return (\r\n        <div className=\"w-full text-center font-bold mb-8 p-4 rounded-lg shadow-lg flex flex-col items-center\"\r\n             style={{\r\n                 background: 'linear-gradient(135deg, #3a8dff, #1e40af)',\r\n                 color: 'white',\r\n                 borderRadius: '8px',\r\n                 boxShadow: '0 6px 12px rgba(0, 0, 0, 0.2)',\r\n             }}\r\n        >\r\n            <p className=\"text-lg tracking-wide\" style={{ marginBottom: '8px' }}>Thời gian thanh toán còn lại</p>\r\n            <div className=\"bg-white text-red-600 font-extrabold text-5xl px-6 py-2 rounded-md shadow-md inline-block\"\r\n                 style={{\r\n                     boxShadow: '0 4px 15px rgba(0, 0, 0, 0.1)',\r\n                     fontFamily: 'monospace',\r\n                 }}\r\n            >\r\n                {minutes}:{seconds}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default CountdownTimer;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { useLocation, useNavigate } from 'react-router-dom';\r\nimport { FaQrcode, FaTicketAlt, FaLink, FaMoneyCheckAlt } from 'react-icons/fa';\r\nimport { useCreateBookingMutation } from '../../../../Redux/Booking/bookingApiSlice';\r\nimport QRCode from 'qrcode';\r\nimport Notification from '../../../shared/Notification/Notification';\r\nimport CountdownTimer from './CountdownTimer';\r\nimport { v4 as uuidv4 } from 'uuid';\r\n\r\nconst QRCodeDisplay = ({ qrCodeData }) => {\r\n    const [qrUrl, setQrUrl] = useState('');\r\n\r\n    useEffect(() => {\r\n        if (qrCodeData) {\r\n            QRCode.toDataURL(qrCodeData, {\r\n                width: 256,\r\n                margin: 2,\r\n                color: {\r\n                    dark: '#000',\r\n                    light: '#FFF'\r\n                }\r\n            })\r\n            .then(url => {\r\n                setQrUrl(url);\r\n            })\r\n            .catch(err => {\r\n                console.error('Lỗi tạo QR code:', err);\r\n            });\r\n        }\r\n    }, [qrCodeData]);\r\n\r\n    if (!qrUrl) {\r\n        return <div className=\"text-center p-4\">Đang tạo mã QR...</div>;\r\n    }\r\n\r\n    return (\r\n        <div className=\"flex flex-col items-center\">\r\n            <img src={qrUrl} alt=\"QR Code\" className=\"w-48 h-48 shadow-md rounded-lg\" />\r\n        </div>\r\n    );\r\n};\r\n\r\nconst PaymentMethods = () => {\r\n    const location = useLocation();\r\n    const navigate = useNavigate();\r\n    const { selectedSeats, totalPrice, trip, bookingId, expiryTime } = location.state || {};\r\n    const [paymentMethod, setPaymentMethod] = useState(null);\r\n    const [createBooking, { isLoading, isError, data, isSuccess }] = useCreateBookingMutation();\r\n\r\n    const [notification, setNotification] = useState({\r\n        open: false,\r\n        message: '',\r\n        severity: 'success', \r\n    });\r\n\r\n    const [confirmDialog, setConfirmDialog] = useState(false);\r\n\r\n    // Mở thông báo\r\n    const showNotification = (message, severity = 'success') => {\r\n        setNotification({ open: true, message, severity });\r\n    };\r\n\r\n    // Đóng thông báo\r\n    const closeNotification = () => {\r\n        setNotification({ ...notification, open: false });\r\n    };\r\n\r\n    const handleTimeout = () => {\r\n        setConfirmDialog(true);\r\n    };\r\n\r\n    const handleConfirmReturn = () => {\r\n        navigate(-1);\r\n    };\r\n\r\n    const handleCancelReturn = () => {\r\n        setConfirmDialog(false);\r\n    };\r\n\r\n    useEffect(() => {\r\n        if (isSuccess && paymentMethod === 'OnBoard') {\r\n            showNotification('Đặt chỗ thành công! Bạn sẽ thanh toán khi lên xe.');\r\n            navigate('/user/ticket-buy'); \r\n        }\r\n    }, [isSuccess, paymentMethod, navigate]);\r\n\r\n    const handleBooking = async () => {\r\n        if (!paymentMethod) {\r\n            showNotification('Vui lòng chọn phương thức thanh toán', 'error');\r\n            return;\r\n        }\r\n\r\n        if (!bookingId) {\r\n            showNotification('Dữ liệu không hợp lệ', 'error');\r\n            return;\r\n        }\r\n\r\n        const bookingData = {\r\n            bookingId,\r\n            paymentMethod,\r\n        };\r\n\r\n        try {\r\n            const result = await createBooking(bookingData).unwrap();\r\n            if (paymentMethod === 'Online') {\r\n                showNotification('Đặt chỗ thành công! Vui lòng nhấn vào liên kết để thanh toán...', 'success');\r\n                setTimeout(() => {\r\n                    window.open(result.data.paymentLink, \"_self\");\r\n                }, 2000);\r\n            }\r\n        }\r\n        catch (error) {\r\n            console.error('Lỗi khi đặt chỗ:', error);\r\n            showNotification('Có lỗi xảy ra khi đặt chỗ. Vui lòng thử lại.', 'error');\r\n        }\r\n    };\r\n\r\n    const handlePaymentRedirect = () => {\r\n        if (data?.data?.paymentLink) {\r\n            window.open(data.data.paymentLink, \"_self\");\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"container mx-auto p-6 bg-gray-50 min-h-screen\">\r\n            {/* Countdown Timer */}\r\n            <CountdownTimer endTime={expiryTime} onTimeout={handleTimeout} />\r\n\r\n            {/* Xác nhận trước khi rời trang */}\r\n            {confirmDialog && (\r\n                <div className=\"fixed inset-0 bg-gray-600 bg-opacity-50 flex items-center justify-center\">\r\n                    <div className=\"bg-white p-6 rounded-lg shadow-lg max-w-sm w-full text-center\">\r\n                        <p className=\"text-lg font-semibold text-gray-700 mb-4\">Thời gian đã hết. Bạn có muốn quay lại trang trước không?</p>\r\n                        <div className=\"flex justify-between mt-4\">\r\n                            <button onClick={handleConfirmReturn} className=\"bg-red-500 text-white py-2 px-4 rounded-lg hover:bg-red-600 transition duration-300\">\r\n                                Xác nhận\r\n                            </button>\r\n                            <button onClick={handleCancelReturn} className=\"bg-gray-300 text-gray-700 py-2 px-4 rounded-lg hover:bg-gray-400 transition duration-300\">\r\n                                Hủy bỏ\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            )}\r\n\r\n            <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\r\n                <div className=\"lg:col-span-2 bg-white p-8 rounded-xl shadow-lg\">\r\n                    <h1 className=\"text-2xl font-semibold text-gray-800 mb-6\">Phương thức thanh toán</h1>\r\n                    <div \r\n                        className={`mb-6 border border-gray-300 rounded-lg p-6 flex items-center cursor-pointer hover:shadow-md transition-shadow duration-200 ${paymentMethod === 'Online' ? 'border-blue-500 bg-blue-50' : ''}`}\r\n                        onClick={() => setPaymentMethod('Online')}\r\n                    >\r\n                        <FaQrcode className=\"text-3xl text-blue-500 mr-4\" />\r\n                        <div className=\"flex-1\">\r\n                            <input \r\n                                type=\"radio\" \r\n                                id=\"qr\" \r\n                                name=\"payment\" \r\n                                className=\"mr-3 mt-1\" \r\n                                checked={paymentMethod === 'Online'} \r\n                                onChange={() => setPaymentMethod('Online')} \r\n                            />\r\n                            <label htmlFor=\"qr\" className=\"text-lg font-medium text-gray-700\">QR chuyển khoản / Ví điện tử</label>\r\n                            <p className=\"text-sm text-gray-500 mt-1\">Hỗ trợ nhiều ví điện tử & 42 ngân hàng</p>\r\n                        </div>\r\n                    </div>\r\n                    <div \r\n                        className={`mb-6 border border-gray-300 rounded-lg p-6 flex items-center cursor-pointer hover:shadow-md transition-shadow duration-200 ${paymentMethod === 'OnBoard' ? 'border-green-500 bg-green-50' : ''}`}\r\n                        onClick={() => setPaymentMethod('OnBoard')}\r\n                    >\r\n                        <FaMoneyCheckAlt className=\"text-3xl text-green-500 mr-4\" />\r\n                        <div className=\"flex-1\">\r\n                            <input \r\n                                type=\"radio\" \r\n                                id=\"onboard\" \r\n                                name=\"payment\" \r\n                                className=\"mr-3 mt-1\" \r\n                                checked={paymentMethod === 'OnBoard'} \r\n                                onChange={() => setPaymentMethod('OnBoard')} \r\n                            />\r\n                            <label htmlFor=\"onboard\" className=\"text-lg font-medium text-gray-700\">Thanh toán khi lên xe</label>\r\n                            <p className=\"text-sm text-gray-500 mt-1\">Bạn có thể thanh toán cho tài xế khi lên xe</p>\r\n                        </div>\r\n                    </div>\r\n\r\n                    {isError && <p className=\"text-red-500 mt-4\">Đã có lỗi xảy ra. Vui lòng thử lại.</p>}\r\n                    {!isSuccess && (\r\n                        <button \r\n                            className=\"w-full bg-yellow-500 text-white font-semibold py-3 rounded-lg hover:bg-yellow-600 transition duration-300 flex items-center justify-center mt-4\"\r\n                            onClick={handleBooking}\r\n                            disabled={isLoading}\r\n                        >\r\n                            <FaTicketAlt className=\"mr-2\" /> {isLoading ? 'Đang đặt chỗ...' : 'Đặt chỗ'}\r\n                        </button>\r\n                    )}\r\n                </div>\r\n                <div className=\"bg-white p-8 rounded-xl shadow-lg\">\r\n                    <h2 className=\"text-2xl font-semibold text-gray-800 mb-6\">Thông tin thanh toán</h2>\r\n\r\n                    {isSuccess && (\r\n                        <div className=\"space-y-6\">\r\n                            {data?.data?.qrCode && (\r\n                                <div className=\"p-4 border border-gray-200 rounded-lg shadow-sm bg-gray-100\">\r\n                                    <h3 className=\"text-lg font-medium text-gray-700 mb-3\">Quét mã QR để thanh toán</h3>\r\n                                    <QRCodeDisplay qrCodeData={data.data.qrCode} />\r\n                                </div>\r\n                            )}\r\n                            {data?.data?.paymentLink && (\r\n                                <div className=\"p-4 border border-gray-200 rounded-lg shadow-sm bg-gray-100\">\r\n                                    <h3 className=\"text-lg font-medium text-gray-700 mb-3\">Thanh toán qua liên kết</h3>\r\n                                    <button\r\n                                        onClick={handlePaymentRedirect}\r\n                                        className=\"w-full bg-blue-500 text-white py-2 px-4 rounded-lg hover:bg-blue-600 transition duration-300 flex items-center justify-center\"\r\n                                    >\r\n                                        <FaLink className=\"mr-2\" /> Chuyển đến trang thanh toán\r\n                                    </button>\r\n                                </div>\r\n                            )}\r\n                        </div>\r\n                    )}\r\n                    <div className=\"mt-6 p-6 border border-gray-200 rounded-lg shadow-sm bg-gray-100 flex items-center justify-between\">\r\n                        <div>\r\n                            <h2 className=\"text-lg font-semibold text-gray-700 mb-2\">Tổng tiền</h2>\r\n                            <p className=\"text-2xl font-bold text-blue-600\">{totalPrice ? `${totalPrice.toLocaleString('vi-VN')} VND` : 'Chưa có thông tin giá'}</p>\r\n                        </div>\r\n                        <FaMoneyCheckAlt className=\"text-4xl text-blue-600\" />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <Notification\r\n                open={notification.open}\r\n                onClose={closeNotification}\r\n                severity={notification.severity}\r\n                message={notification.message}\r\n            />\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default PaymentMethods;\r\n","import React from 'react';\r\nimport Snackbar from '@mui/material/Snackbar';\r\nimport MuiAlert from '@mui/material/Alert';\r\nimport Slide from '@mui/material/Slide';\r\nconst Alert = React.forwardRef(function Alert(props, ref) {\r\n  return <MuiAlert elevation={6} ref={ref} variant=\"filled\" {...props} />;\r\n});\r\n\r\nconst Notification = ({ open, onClose, severity, message, autoHideDuration = 3000, TransitionComponent = Slide }) => {\r\n  return (\r\n    <Snackbar\r\n      open={open}\r\n      autoHideDuration={autoHideDuration}\r\n      onClose={onClose}\r\n      TransitionComponent={TransitionComponent}\r\n      anchorOrigin={{ vertical: 'top', horizontal: 'right' }} \r\n    >\r\n      <Alert onClose={onClose} severity={severity} sx={{ width: '100%' }}>\r\n        {message}\r\n      </Alert>\r\n    </Snackbar>\r\n  );\r\n};\r\nexport default Notification;\r\n"],"names":["_ref","endTime","onTimeout","timeLeft","setTimeLeft","useState","useEffect","endTimestamp","Date","getTime","calculateTimeLeft","Math","max","floor","now","timerId","setInterval","prevTime","newTime","clearInterval","minutes","String","padStart","seconds","_jsxs","className","style","background","color","borderRadius","boxShadow","children","_jsx","marginBottom","fontFamily","QRCodeDisplay","qrCodeData","qrUrl","setQrUrl","QRCode","width","margin","dark","light","then","url","catch","err","console","error","src","alt","PaymentMethods","_data$data2","_data$data3","location","useLocation","navigate","useNavigate","selectedSeats","totalPrice","trip","bookingId","expiryTime","state","paymentMethod","setPaymentMethod","createBooking","isLoading","isError","data","isSuccess","useCreateBookingMutation","notification","setNotification","open","message","severity","confirmDialog","setConfirmDialog","showNotification","arguments","length","undefined","CountdownTimer","handleTimeout","onClick","handleConfirmReturn","handleCancelReturn","FaQrcode","type","id","name","checked","onChange","htmlFor","FaMoneyCheckAlt","async","bookingData","result","unwrap","setTimeout","window","paymentLink","disabled","FaTicketAlt","qrCode","handlePaymentRedirect","_data$data","FaLink","toLocaleString","Notification","onClose","closeNotification","Alert","React","props","ref","MuiAlert","elevation","variant","autoHideDuration","TransitionComponent","Slide","Snackbar","anchorOrigin","vertical","horizontal","sx"],"sourceRoot":""}